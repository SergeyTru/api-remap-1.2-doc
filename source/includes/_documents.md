<!-- include(metadata.apib) -->

# Работа с документами

<!-- include(metadata.apib) -->

## Документ Общие сведения
### Шаблоны документов

**Шаблон** - предзаполненный стандартными полями JSON-объект, который затем можно использовать для успешного создания документа.
Средствами JSON API можно получать предзаполненные шаблоны документов. Они могут быть предзаполнены как на основе других документов, так и стандартными значениями без связей с другими документами.
Для этого, во всех документах, по которым можно получить шаблон, существует специальный ресурс `Шаблон документа`, адрес которого формируется следующим образом:<br>
`https://online.moysklad.ru/api/remap/1.2/entity/<ключевое слово для документа>/new`
<br>
В тело PUT запроса по данному ресурсу нужно передать метаданные документа, на основе которого будет создан шаблон нового документа, либо просто передать пустое тело запроса.
Метаданные должны быть "обёрнуты" в объект, имя которого есть ключевое слово для документа-основания в JSON API.
Для каждого из данных ресурсов есть примеры запросов и ответов.<br>
На данный момент можно получить шаблоны следующих документы на основании других:

| Документ                           | Основание, на котором он может быть создан  |
| ---------------------------------- |:-------------------------------------------:|
| Возврат покупателя (salesreturn)   | Отгрузка (demand), <br>Розничная продажа (retaildemand)                           |
| Возврат поставщику (purchasereturn)| Приёмка (supply)                            |
| Отгрузка (demand)                  | Заказ покупателя (customerorder)            |
| Счет поставщика (invoicein)        | Заказ поставщику (purchaseorder)            |
| Cчет покупателю (invoiceout)       | Заказ покупателя (customerorder)            |
| Списание (loss)                    | Возврат покупателя (salesreturn),<br>инвентаризация(inventory)          |
| Оприходование (enter)              | Инвентаризация(inventory)                   |
| Заказ поставщику (purchaseorder)                    | Внутренний заказ (internalorder)            |
| Перемещение (move)                    | Внутренний заказ (internalorder)            |
| Приходный ордер (cashin)                    | Заказ покупателя (salesreturn), <br>Возврат поставщику (purchasereturn), <br>Отгрузка (demand), <br>Счёт покупателю (invoiceout), <br>Полученный отчёт комиссионера (commissionreportin)            |
| Расходный ордер (cashout)                    | Возврат покупателя (salesreturn), <br>Приёмка (supply), <br>Счёт поставщика (invoicein), <br>Заказ поставщику (purchaseorder), <br>Выданный отчёт комиссионера (commissionreportout)             |
| Входящий платёж (paymentin)                    | Заказ покупателя (salesreturn), <br>Возврат поставщику (purchasereturn), <br>Отгрузка (demand), <br>Счёт покупателю (invoiceout), <br>Полученный отчёт комиссионера (commissionreportin)            |
| Исходящий платёж (paymentout)                    | Возврат покупателя (salesreturn), <br>Приёмка (supply), <br>Счёт поставщика (invoicein), <br>Заказ поставщику (purchaseorder), <br>Выданный отчёт комиссионера (commissionreportout)             |
| Тех. операция (processing)              | Заказ на производство (processingorder), Тех. карта (processingplan)                   |
| Заказ на производство (processingorder)              | Тех. карта (processingplan)                   |
| Розничная продажа (retaildemand)                     | Розничная смена, Заказ покупателя             |

 В результате PUT запроса по /entity/entityName/new НЕ будет создано нового документа.  
 Возвращаемый предзаполненный объект является лишь "болванкой" с некоторыми заполненными полями (поля заполняются по той же логике,
 что и в аналогичной ситуации в основном интерфейсе), облегчающей создание документа. Он не сохраняется в системе. Этот
 объект затем можно передать в теле запроса на создание соответствующего документа и тогда уже документ будет создан, и связан с документом-основанием.
<br>
Если послать на данный ресурс пустое тело запроса, то в итоговом шаблоне будут предзаполнены лишь стандартные поля в т.ч. указанные в настройках пользователя
в учётной записи сервиса МойСклад.

С подробностями и примерами по каждому из документов можно ознакомиться в соответствующих разделах документации.
Например, для шаблона отгрузки - смотреть в [Шаблонах отгрузки](/api/remap/1.2/doc/demand.html#документ-отгрузка-шаблон-отгрузки)

### Контекстный поиск для документов

В JSON API можно осуществлять контекстный поиск среди списка сущностей определённого типа по их строковым полям. Для этого
используется URI параметр фильтрации **search**.
+ **search**
  Параметр фильтрации, с помощью которого можно осуществить поиск в списке сущностей. Поиск происходит по основным строковым полям сущностей данного
  типа. Результатом поиска будет отсортированный по релевантности список сущностей данного типа, прошедших фильтрацию по переданной поисковой строке. В отличии от фильтрации выборки
  с помощью параметра **filter**, при которой значения проверяются на точное совпадение указанным, при контекстном поиске проверка на совпадение не строгая.
  Таким образом, если осуществлять фильтрацию вида `../entity/<entity_type>?filter=name=иван` в отфильтрованную выборку попадут только те сущности, поле **name**
  у которых имеет значение `иван` и никакие другие. При контекстном поиске вида `../entity/<entity_type>?search=иван` будут выведены как сущности с **name** равным
  `иван`, так и сущности, в имени (или в другом строковом поле) которых `иван` просто содержится, например `диван`, `иванова` и т.п.

  Поиск среди документов на соответствие поисковой строке будет осуществлён по следующим полям:
  + по наименованию (name)
  + по описанию (description)
  + по входящему номеру (incomingNumber)

  + Примеры запросов контекстного поиска (значения должны быть urlencoded):
    - `https://online.moysklad.ru/api/remap/1.2/entity/retaildemand?search=100`
    - `https://online.moysklad.ru/api/remap/1.2/entity/salesreturn?search=брак`
    - `https://online.moysklad.ru/api/remap/1.2/entity/retailshift?search=ночная`

### Удаление в корзину

Корзина позволяет избежать риска случайного удаления важных документов. Удаление
в корзину доступно только при наличии у сотрудника соответствующих прав, а также
настроек компании на использовании корзины.

### Пример удаления Приёмки в корзину [POST /entity/supply/be3a3a0e-370c-11e7-1542-821d00000001/trash]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Приёмки

Запрос на удаление Приёмки с указанным id в корзину.

+ Response 200 (application/json)
Успешное удаление Приёмки.

##### Связи документов
### Привязка документов к документам [/entity/{docname}/{id}]

Для того чтобы привязать к уже существующему документу другой документ нужно
передать **meta** привязываемого документа в коллекцию связанных документов этого типа.
Такие коллекции присутствуют среди аттрибутов документов. В описании сущностей они описаны в секции **Связи с другими документами**
и каждое поле называется как ключевое слово для типов привязываемых документов во множественном числе. Например поле **invoicesOut** у отгрузок
отвечает за связи с счетами покупателю. Если вы хотите привязать к отгрузке счёт, в это поле, в составе коллекции, нужно положить **meta** счёта покупателя который вы хотите привязать.
Можно привязывать более 1 документа.

+ Parameters
  + docname: `move` (required, string) - ключевое слово для документа со связями
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id документа

#### Пример привязки 1 [PUT /entity/move/7944ef04-f831-11e5-7a69-971500188b19]

Привязка внутреннего заказа к перемещению.

+ Request Пример (application/json)
Пример запроса на привязку внутреннего заказа к перемещению.
  + Body
        <!-- include(body/docgen/link1_request.json) -->

+ Response 200 (application/json)
Результат - перемещение с заполненным полем internalOrder.
  + Body
        <!-- include(body/docgen/link1_response.json) -->

#### Пример привязки 2 [PUT /entity/demand/7944ef04-f831-11e5-7a69-971500188b19]

Второй пример запроса на привязку одного документа к другому.

+ Request Пример (application/json)
Пример запроса на привязку счёта покупателю к отгрузке.
  + Body
        <!-- include(body/docgen/link2_request.json) -->

+ Response 200 (application/json)
Результат - отгрузка с новым элементом в коллекции invoicesOut.
  + Body
        <!-- include(body/docgen/link2_response.json) -->

### Привязка платежей к документам [/entity/{docname2}/{id}]

К некоторым документам в JSON API могут быть привязаны платежи. Платежи бывают 4-х типов: [Входящий платёж](/api/remap/1.2/doc/payment_in.html#документ-входящий-платеж), [Приходный ордер](/api/remap/1.2/doc/cashin.html#документ-приходный-ордер), [Исходящий платёж](/api/remap/1.2/doc/payment_out.html#документ-исходящий-платеж), [Расходный ордер](/api/remap/1.2/doc/cashout.html#документ-расходный-ордер).
Документы, к которым могут быть привязаны платежи содержат вложенную коллекцию **payments** среди атрибутов докуента. Платежи в свою очередь содержат коллекцию **operations** - операции, к которым привязан данный платёж. Для того, чтобы привязать платёж к документу, нужно в запросах
на создание/обновление платежа в составе коллекции **operations** указать **meta** документа. Документы в этой коллекции могут иметь разный тип, однако это не значит, что к любому документу можно привязать все 4 типа платежей. Валидные типы платежей определяются самим документом, к которому происходит привязка. К примеру к полученному отчёту комиссионера можно привязать только входящий платёж или приходный ордер. <br>
В результате привзяки платежа, в составе коллекции **operations** платежа появится новый объект, указывающий на документ, а в составе коллекции **payments** у документа, к которому
привязывается платёж, появится новый элемент ссылающийся на данный платёж.

+ Parameters
  + docname2: `commissionreportin` (required, string) - ключевое слово для документа, к которому можно привязать платёж
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id документа

#### Пример привязки платежа 1 [PUT /entity/paymentin/7944ef04-f831-11e5-7a69-971500188b19]

Привязка входящего платежа к полученному отчёту комиссионера.

+ Request Пример (application/json)
Пример запроса на привязку платежа к полученному отчёту комиссионера.
  + Body
        <!-- include(body/docgen/link_payment_request.json) -->

+ Response 200 (application/json)
Результат - входящий платёж с новым элементом в коллекции operations.
  + Body
        <!-- include(body/docgen/link_payment_response.json) -->

#### Пример привязки платежа 2 [PUT /entity/cashin/7944ef04-f831-11e5-7a69-971500188b19]

Привязка приходного ордера к заказу покупателя.

+ Request Пример (application/json)
Пример запроса на привязку приходного ордера к заказу покупателя.
  + Body
        <!-- include(body/docgen/link_payment2_request.json) -->

+ Response 200 (application/json)
Результат - приходный ордер с новым элементом в коллекции operations.
  + Body
        <!-- include(body/docgen/link_payment2_response.json) -->
        
        
<!-- include(metadata.apib) -->        

## Документ Розничная смена
### Розничные смены [/entity/retailshift/]

Средствами JSON API можно запрашивать списки Розничных смен и сведения по отдельным Розничным сменам. Кодом сущности для Розничной смены в составе JSON API является ключевое слово **retailshift**.

##### Операции

С помощью данного ресурса вы **не можете создавать или обновлять** Розничные смены. Создание новой розничной смены происходит
при выполнении [запроса на Открытие смены](https://online.moysklad.ru/api/posap/1.0/doc/index.html#pos_general-сценарий-работы-открытие-смены) через отдельный API подключения торговой точки к онлайн-сервису МойСклад **POS API 1.0**. Для совершения операции Открытие розничной смены необходимо
аутентифицироваться с правами Кассира.

##### Атрибуты смены

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о смене`Только для чтения`
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи`Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - Номер смены `Только для чтения`
+ **description** - Комментарий смены`Только для чтения`
+ **externalCode** - Внешний код смены `Только для чтения`
+ **moment** - Дата смены `Только для чтения`
+ **applicable** - Отметка о проведении `Только для чтения`
+ **vatEnabled** - Учитывается ли НДС `Только для чтения`
+ **vatIncluded** - Включен ли НДС в цену `Только для чтения`
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Только для чтения`
+ **shared** - Общий доступ `Только для чтения`
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Только для чтения`
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Только для чтения`
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Только для чтения`
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Только для чтения`
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Только для чтения`
+ **organizationAccount** - Ссылка на счёт вашего юрлица в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Только для чтения`
+ **agentAccount** - Ссылка на счёт контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Только для чтения`
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **closeDate** - Дата закрытия смены `Только для чтения`
+ **proceedsNoCash** - Выручка безнал `Только для чтения`
+ **proceedsCash** - Выручка наличными `Только для чтения`
+ **receivedNoCash** - Получено безнал `Только для чтения`
+ **receivedCash** - Получено наличными `Только для чтения`
+ **retailStore** - Ссылка на точку продажи в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Только для чтения`
+ **operations** - Массив ссылок на связанные операции в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Только для чтения`
+ **paymentOperations** - Массив ссылок на платёжные операции в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Только для чтения`

О работе с доп. полями Розничных смен можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить Розничные смены [GET]

Запрос на получение списка всех Розничных смен на данной учётной записи.
Результат успешного запроса - JSON представление списка Розничных смен с перечисленными полями:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой [Розничные смены](#вылюты-валюты).
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Розничных смен.
  + Body
        <!-- include(body/retailshift/get_list.json) -->

#### Удалить Розничную смену [DELETE /entity/retailshift/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Розничной смены

Запрос на удаление Розничной смены с указанным id.

+ Response 200 (application/json)
Успешное удаление Розничной смены.

### Метаданные Розничных смен [/entity/retailshift/metadata]
##### Метаданные Розничных смен [GET]

Запрос на получение метаданных Розничных смен. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Розничных смен
+ **attributes** - Массив объектов доп. полей Розничных смен в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Розничных смен
+ **createShared** - создавать новые Розничные смены с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Розничных продаж.
  + Body
        <!-- include(body/retailshift/get_metadata.json) -->

### Отдельное доп. поле [/entity/retailshift/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/retail_shift/metadata_by_id.json) -->

##### Розничная смена [/entity/retailshift/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Розничной смены.

### Получить Розничную смену [GET]

Запрос на получение отдельной Розничной смены с указанным id.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Розничной смены.
  + Body
        <!-- include(body/retailshift/get_by_id.json) -->
<!-- include(metadata.apib) -->

## Документ Оприходование

Средствами JSON API можно создавать и обновлять сведения об Оприходованиях, запрашивать списки Оприходований и сведения по отдельным Оприходованиям. Позициями Оприходований можно управлять как в составе отдельного Оприходования, так и отдельно - с помощью специальных ресурсов для управления позициями Оприходования. Кодом сущности для Оприходования в составе JSON API является ключевое слово **enter**. Больше об Оприходованиях можно прочитать [этой ссылке](https://support.moysklad.ru/hc/ru/articles/203053096-%D0%A1%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B8-%D0%BE%D0%BF%D1%80%D0%B8%D1%85%D0%BE%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%B2).

### Оприходования [/entity/enter]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) об Оприходованиях
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Оприходования
+ **description** - Комментарий Оприходования
+ **externalCode** - Внешний код Оприходования
+ **moment** - Дата Оприходования
+ **applicable** - Отметка о проведении
+ **sum** - Сумма Оприходования в копейках `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Оприходования в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **positions** - Ссылка на позиции Оприходования в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **overhead** - Накладные расходы. Если Позиции Оприходования не заданы, то накладные расходы нельзя задать
  - **sum** - сумма накладных расходов
  - **distribution** - Распределение накладных расходов `[weight, volume, price]` -> `[по весу, по объёму, по цене]`

##### Позиции Оприходования

Позиции Оприходования - это список товаров/услуг/модификаций/серий.
Объект позиции Оприходования содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учёт по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.
+ **price** - Цена товара/услуги в копейках
+ **gtd** - ГТД
+ **country** - Ссылка на страну в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара
+ **things** - Серийные номера.
Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете.
В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.
+ **reason** - Причина оприходования данной позиции
+ **overhead** - Накладные расходы. Если Позиции Оприходования не заданы, то накладные расходы нельзя задать
  - **sum** - сумма накладных расходов
  - **distribution** - Распределение накладных расходов `[weight, volume, price]` -> `[по весу, по объёму, по цене]`

С позициями можно работать с помощью [специальных ресурсов для управления позициями Оприходования](#документ-оприходование-позиции-оприходований),
а также в составе отдельного Оприходования. При работе в составе отдельного Оприходования,
вы можете отправлять запросы на создание отдельного Оприходования с включенным в тело запроса
массивом позиций Оприходования. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Оприходования".
Также, при работе в составе отдельного Оприходования, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Оприходования. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Оприходования" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.

<!-- include(rate.apib) -->

О работе с доп. полями Оприходований можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)


#### Получать Оприходования [GET]

Запрос всех Оприходований на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Оприходований.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Оприходований.
  + Body
        <!-- include(body/enter/get_list.json) -->

#### Создать Оприходования [POST]

Запрос на создание нового Оприходования
+ Request Пример (application/json)
Пример создания нового Оприходования с телом запроса, содержащим только необходимые поля.
  + Body
        <!-- include(body/enter/post_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Оприходования.
  + Body
        <!-- include(body/enter/post_response.json) -->

#### Массовое создание и обновление Оприходований [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Оприходований.
В теле запроса нужно передать массив, содержащий JSON представления Оприходований, которые вы хотите создать или обновить.
Обновляемые Оприходования должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Оприходований
  + Body
        <!-- include(body/enter/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Оприходований.
  + Body
        <!-- include(body/enter/post_massive_response.json) -->

#### Удалить Оприходование [DELETE /entity/enter/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Оприходования

Запрос на удаление Оприходования с указанным id.
+ Response 200 (application/json)
Успешное удаление Оприходования.

### Метаданные Оприходований [/entity/enter/metadata]
##### Метаданные Оприходований [GET]

Запрос на получение метаданных Оприходований. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Оприходований
+ **attributes** - Массив объектов доп. полей Оприходований в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Оприходований
+ **createShared** - создавать новые Оприходования с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление метаданных Оприходований.
  + Body
        <!-- include(body/enter/get_metadata.json) -->

### Отдельное доп. поле [/entity/enter/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/enter/metadata_by_id.json) -->

### Оприходование [/entity/enter/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Оприходования
  
#### Получить Оприходование [GET]

Запрос на получение отдельного оприходования с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Оприходования.
  + Body
        <!-- include(body/enter/get_by_id.json) -->

#### Изменить Оприходование [PUT]

Запрос на обновление оприходования с указанным id.
+ Request Пример (application/json)
Пример запроса на обновление отдельного Оприходования.
  + Body
        <!-- include(body/enter/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Оприходования.
  + Body
        <!-- include(body/enter/put_response.json) -->

### Позиции Оприходований [/entity/enter/{id}/positions]

Отдельный ресурс для управления позициями Оприходования. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Оприходования
  
#### Получить позиции Оприходования [GET]

Запрос на получение списка всех позиций данного Оприходования.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой позиции Оприходования.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Оприходования.
  + Body
        <!-- include(body/enter/positions_get_list.json) -->

#### Создать позицию Оприходования [POST]

Запрос на создание новой позиции в Оприходовании.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем **service**, **consignment**, **variant** в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании [позиции Оприходования](#header-позиции-оприходования)
+ **quantity** - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Оприходования. Все созданные данным запросом позиции
будут добавлены к уже существующим.

+ Request Пример (application/json)
Пример создания позиций в Оприходовании.
  + Body
        <!-- include(body/enter/positions_post_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного Оприходования.
  + Body
        <!-- include(body/enter/positions_post_response.json) -->
        
### Позиция Оприходования [/entity/enter/{id}/positions/{positionID}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Оприходования
  + positionID: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id позиции

#### Получить позицию [GET]

Запрос на получение отдельной позиции Оприходования с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Оприходования.
  + Body
        <!-- include(body/enter/positions_get_by_id.json) -->

#### Изменить позицию [PUT]

Запрос на обновление отдельной позиции Оприходования. Для обновления позиции нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в Оприходовании.
  + Body
        <!-- include(body/enter/positions_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции Оприходования.
  + Body
        <!-- include(body/enter/positions_put_response.json) -->

#### Удалить позицию [DELETE]

Запрос на удаление отдельной позиции Оприходования с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции Оприходования.

<!-- include(metadata.apib) -->

## Документ Заказ покупателя
### Заказы Покупателей [/entity/customerorder]

Средствами JSON API можно создавать и обновлять сведения о Заказах покупателя, запрашивать списки Заказов и сведения по отдельным Заказам Покупателей. Позициями Заказов можно управлять как в составе отдельного Заказа покупателя, так и отдельно - с помощью специальных ресурсов для управления позициями Заказа. Кодом сущности для Заказа покупателя в составе JSON API является ключевое слово **customerOrder**. Больше о Заказах Покупателей и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по [этой ссылке](https://support.moysklad.ru/hc/ru/articles/203248133-%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%8B-%D0%BF%D0%BE%D0%BA%D1%83%D0%BF%D0%B0%D1%82%D0%B5%D0%BB%D0%B5%D0%B9).

##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Заказе покупателя
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Заказа покупателя
+ **description** - Комментарий Заказа покупателя
+ **externalCode** - Внешний код Заказа покупателя
+ **moment** - Дата Заказа
+ **applicable** - Отметка о проведении
+ **vatIncluded** - Включен ли НДС в цену
+ **vatEnabled** - Учитывается ли НДС
+ **sum** - Сумма Заказа в установленной валюте `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Заказа в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organizationAccount** - Ссылка на счёт вашего юрлица в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agentAccount** - Ссылка на счёт контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **vatSum** - Сумма НДС `Только для чтения`
+ **positions** - Ссылка на позиции в Заказе в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

+ **reservedSum** - Сумма товаров в резерве `Только для чтения`
+ **deliveryPlannedMoment** - Планируемая дата отгрузки
+ **payedSum** - Сумма входящих платежей по Заказу `Только для чтения`
+ **shippedSum** - Сумма отгруженного `Только для чтения`
+ **invoicedSum** - Сумма счетов покупателю `Только для чтения`
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Связи с другими документами

+ **purchaseOrders** - Массив ссылок на связанные заказы поставщикам в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **demands** - Массив ссылок на связанные отгрузки в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **payments** - Массив ссылок на связанные платежи в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **invoicesOut** - Массив ссылок на связанные счета покупателям в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Позиции Заказа покупателя

Позиции Заказа - это список товаров/услуг/модификаций/серий.
Объект позиции Заказа содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учёт по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.
+ **price** - Цена товара/услуги в копейках
+ **discount** - Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%
+ **vat** - НДС, которым облагается текущая позиция
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара
+ **shipped** - Доставлено
+ **reserve** - Резерв данной позиции

С позициями можно работать с помощью специальных ресурсов для управления позициями Заказа,
а также в составе отдельного Заказа покупателя. При работе в составе отдельного Заказа покупателя,
вы можете отправлять запросы на создание отдельного Заказа покупателя с включенным в тело запроса
массивом позиций Заказа. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Заказа покупателя".
Также, при работе в составе отдельного Заказа покупателя, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Заказа. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Заказа" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.

<!-- include(rate.apib) -->

О работе с доп. полями Заказов покупателей можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)


#### Получить список Заказов Покупателей [GET]

Запрос всех Заказов Покупателей на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Заказы Покупателей.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Заказов Покупателей.
  + Body
        <!-- include(body/customerOrder/get_list.json) -->
        
#### Создать Заказ покупателя [POST]

Запрос на создание нового Заказа покупателя.
Обязательные для создания поля:
+ **name** - номер Заказа покупателя
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agent** - Ссылка на контрагента (покупателя) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

+ Request Пример (application/json)
Пример создания нового Заказа с телом запроса, содержащим только необходимые поля.
  + Body
        <!-- include(body/customerOrder/post_short_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа покупателя.
  + Body
        <!-- include(body/customerOrder/post_short_response.json) -->

+ Request Пример 2 (application/json)
Пример создания нового Заказа с более насыщенным телом запроса.
  + Body
        <!-- include(body/customerOrder/post_long_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа покупателя.
  + Body
        <!-- include(body/customerOrder/post_long_response.json) -->

+ Request Пример с доп. полями (application/json)
Пример запроса на создание Заказа покупателя с доп. полями.
  + Body
        <!-- include(body/customerOrder/post_with_attributes_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа покупателя.
  + Body
        <!-- include(body/customerOrder/post_with_attributes_response.json) -->


+ Request Пример с позициями (application/json)
Пример запроса на создание Заказа покупателя с позициями в теле запроса.
  + Body
        <!-- include(body/customerOrder/post_with_positions_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа покупателя.
  + Body
        <!-- include(body/customerOrder/post_with_positions_response.json) -->

#### Массовое создание и обновление Заказов покупателей [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Заказов покупателей.
В теле запроса нужно передать массив, содержащий JSON представления Заказов покупателей, которые вы хотите создать или обновить.
Обновляемые Заказы покупателей должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Заказов покупателей
  + Body
        <!-- include(body/customerOrder/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Заказов покупателей.
  + Body
        <!-- include(body/customerOrder/post_massive_response.json) -->

#### Удалить Заказ покупателя [DELETE /entity/customerorder/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Заказа покупателя

Запрос на удаление Заказа покупателя с указанным id.

+ Response 200 (application/json)
Успешное удаление Заказа покупателя.

### Метаданные Заказов Покупателей [/entity/customerorder/metadata]
##### Метаданные Заказов Покупателей [GET]

Запрос на получение метаданных Заказов покупателей. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Заказов покупателей
+ **attributes** - Массив объектов доп. полей Заказов покупателей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Заказов покупателей
+ **createShared** - создавать новые Заказы покупателей с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Заказов покупателей.
  + Body
        <!-- include(body/customerOrder/get_metadata.json) -->

### Отдельное доп. поле [/entity/customerorder/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/customerOrder/metadata_by_id.json) -->

### Заказ покупателя [/entity/customerorder/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Заказа покупателя

#### Получить Заказ покупателя [GET]

Запрос на получение отдельного Заказа покупателя с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Заказа покупателя.
  + Body
        <!-- include(body/customerOrder/get_by_id.json) -->

#### Изменить Заказ покупателя [PUT]

Запрос на обновление Заказа покупателя с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Заказа покупателя, кроме тех, что
помечены `Только для чтения` в описании [атрибутов Заказа покупателя](#документ-заказ-покупателя-заказы-покупателей).
При обновлении полей **organization** и **agent** нужно также обновить поля **organizationAccount** и
**agentAccount** соответственно, иначе произойдёт ошибка.

+ Request Пример (application/json)
Пример запроса на обновление отдельного Заказа покупателя.
  + Body
        <!-- include(body/customerOrder/put_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Заказа покупателя.
  + Body
        <!-- include(body/customerOrder/put_response.json) -->

+ Request Пример с доп. полями (application/json)
Пример запроса на изменение Заказа покупателя с дополнительными полями.
  + Body
        <!-- include(body/customerOrder/put_with_attributes_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Заказа покупателя.
  + Body
        <!-- include(body/customerOrder/put_with_attributes_response.json) -->


+ Request Пример с позициями (application/json)
Пример запроса на обновление Заказа покупателя с позициями в теле запроса.
  + Body
        <!-- include(body/customerOrder/put_with_positions_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Заказа покупателя.
  + Body
        <!-- include(body/customerOrder/put_response.json) -->

### Позиции Заказа покупателя [/entity/customerorder/{id}/positions]

Отдельный ресурс для управления позициями Заказа покупателя. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Заказа покупателя

#### Получить позиции Заказа покупателя [GET]

Запрос на получение списка всех позиций данного Заказа покупателя.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой позиции Заказа покупателя.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Заказа покупателя.
  + Body
        <!-- include(body/customerOrder/positions_get_list.json) -->

#### Создать позицию Заказа покупателя [POST]

Запрос на создание новой позиции в Заказе покупателя.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortment** - Ссылка на товар/услугу/серию/модификацию/комплект, которую представляет собой позиция.
Также можно указать поле с именем **product**, **service**, **consignment**, **variant**, **bundle** в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании [позиции Заказа](#header-позиции-заказа-покупателя)
+ **quantity** - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.

+ Request Пример с одной позицией (application/json)
Пример создания одной позиции в Заказе покупателя.
  + Body
        <!-- include(body/customerOrder/positions_post_one_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного Заказа покупателя.
  + Body
        <!-- include(body/customerOrder/positions_post_one_response.json) -->

+ Request Пример с несколькими позициями (application/json)
Пример создания сразу нескольких позиций в Заказе покупателя.
  + Body
        <!-- include(body/customerOrder/positions_post_some_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка созданных позиций отдельного Заказа покупателя.
  + Body
        <!-- include(body/customerOrder/positions_post_some_response.json) -->

### Позиция Заказа [/entity/customerorder/{id}/positions/{positionID}]

Отдельная позиция Заказа с указанным id позиции.
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Заказа покупателя
  + positionID: `34f6344f-015e-11e6-9464-e4de0000006c` (required, string) - id позиции Заказа покупателя

#### Получить позицию Заказа [GET]

Запрос на получение отдельной позиции Заказа с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Заказа покупателя.
  + Body
        <!-- include(body/customerOrder/position_get_by_id.json) -->

#### Изменить позицию Заказа [PUT]

Запрос на обновление отдельной позиции Заказа. Для обновления позиции нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в Заказе покупателя.
  + Body
        <!-- include(body/customerOrder/positions_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции Заказа покупателя.
  + Body
        <!-- include(body/customerOrder/positions_put_response.json) -->

#### Удалить позицию [DELETE]

Запрос на удаление отдельной позиции Заказа с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции Заказа.

<!-- include(metadata.apib) -->

## Документ Заказ поставщику
### Заказы Поставщикам [/entity/purchaseorder]

Средствами JSON API можно создавать и обновлять сведения о Заказах поставщику, запрашивать списки Заказов и сведения по отдельным Заказам Поставщикам. Позициями Заказов можно управлять как в составе отдельного Заказа поставщику, так и отдельно - с помощью специальных ресурсов для управления позициями Заказа. Кодом сущности для Заказа поставщику в составе JSON API является ключевое слово **purchaseOrder**. Больше о Заказах Поставщикам и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по [этой ссылке](https://support.moysklad.ru/hc/ru/articles/202984676-%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%8B-%D0%BF%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA%D0%B0%D0%BC).

##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Заказе поставщику
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Заказа поставщику
+ **description** - Комментарий Заказа поставщику
+ **externalCode** - Внешний код Заказа поставщику
+ **moment** - Дата Заказа
+ **applicable** - Отметка о проведении
+ **vatIncluded** - Включен ли НДС в цену
+ **vatEnabled** - Учитывается ли НДС
+ **sum** - Сумма Заказа в установленной валюте `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Заказа в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organizationAccount** - Ссылка на счёт вашего юрлица в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agentAccount** - Ссылка на счёт контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **vatSum** - Сумма НДС `Только для чтения`
+ **positions** - Ссылка на позиции в Заказе в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **deliveryPlannedMoment** - Планируемая дата отгрузки
+ **payedSum** - Сумма входящих платежей по Заказу `Только для чтения`
+ **shippedSum** - Сумма отгруженного `Только для чтения`
+ **invoicedSum** - Сумма счетов поставщика `Только для чтения`
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **waitSum** - Сумма товаров в пути

##### Связи с другими документами

+ **customerOrders** - Массив ссылок на связанные заказы покупателей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **invoicesIn** - Массив ссылок на связанные счета поставщиков в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **payments** - Массив ссылок на связанные платежи в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **supplies** - Массив ссылок на связанные приёмки в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **internalOrder** - Внутренний заказ, связанный с заказом поставщику, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Позиции Заказа поставщику

Позиции Заказа - это список товаров/услуг/модификаций/серий.
Объект позиции Заказа содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учёт по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.
+ **price** - Цена товара/услуги в копейках
+ **discount** - Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%
+ **vat** - НДС, которым облагается текущая позиция
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара
+ **shipped** - Принято
+ **wait** - Ожидается данной позиции

С позициями можно работать с помощью специальных ресурсов для управления позициями Заказа,
а также в составе отдельного Заказа поставщику. При работе в составе отдельного Заказа поставщику,
вы можете отправлять запросы на создание отдельного Заказа поставщику с включенным в тело запроса
массивом позиций Заказа. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Заказа поставщику".
Также, при работе в составе отдельного Заказа поставщику, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Заказа. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Заказа" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.

<!-- include(rate.apib) -->

О работе с доп. полями Заказов поставщикам можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить список Заказов Поставщикам [GET]

Запрос всех Заказов Поставщикам на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Заказы Поставщикам.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Заказов Поставщикам.
  + Body
        <!-- include(body/purchaseOrder/get_list.json) -->
        
#### Создать Заказ поставщику [POST]

Запрос на создание нового Заказа поставщику.
Обязательные для создания поля:
+ **name** - номер Заказа поставщику
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agent** - Ссылка на контрагента (поставщику) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

+ Request Пример (application/json)
Пример создания нового Заказа.
  + Body
        <!-- include(body/purchaseOrder/post_long_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа поставщику.
  + Body
        <!-- include(body/purchaseOrder/post_long_response.json) -->


+ Request Пример с позициями (application/json)
Пример запроса на создание Заказа поставщику с позициями в теле запроса.
  + Body
        <!-- include(body/purchaseOrder/post_with_positions_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа поставщику.
  + Body
        <!-- include(body/purchaseOrder/post_with_positions_response.json) -->

#### Массовое создание и обновление Заказов поставщику [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Заказов поставщику.
В теле запроса нужно передать массив, содержащий JSON представления Заказов поставщику, которые вы хотите создать или обновить.
Обновляемые Заказы поставщику должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Заказов поставщику
  + Body
        <!-- include(body/purchaseOrder/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Заказов поставщику.
  + Body
        <!-- include(body/purchaseOrder/post_massive_response.json) -->

#### Удалить Заказ поставщику [DELETE /entity/purchaseorder/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Заказа поставщику

Запрос на удаление Заказа поставщику с указанным id.

+ Response 200 (application/json)
Успешное удаление Заказа поставщику.

### Метаданные Заказов Поставщикам [/entity/purchaseorder/metadata]
##### Метаданные Заказов Поставщикам [GET]

Запрос на получение метаданных Заказов поставщикам. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Заказов поставщикам
+ **attributes** - Массив объектов доп. полей Заказов поставщикам в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Заказов поставщикам
+ **createShared** - создавать новые Заказы поставщикам с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Заказов поставщикам.
  + Body
        <!-- include(body/purchaseOrder/get_metadata.json) -->

### Отдельное доп. поле [/entity/purchaseorder/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/purchaseOrder/metadata_by_id.json) -->

### Шаблон заказа поставщику [/entity/purchaseorder/new]
##### Шаблон заказа поставщику [PUT]

Запрос на получение предзаполненого стандартными значениями шаблона заказа поставщику без связи с каким-либо документом.

+ Request Пустое тело запроса (application/json)

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного заказа поставщику.
  + Body
        <!-- include(body/purchaseOrder/new_empty.json) -->

#### Шаблон заказа поставщику на основе [PUT]

Запрос на получение предзаполненного шаблона заказа поставщику на основе внутреннего заказа или заказа покупателя.
В ответ на запрос вернётся предзаполненный шаблон заказа поставщику, который
затем можно будет использовать для создания нового заказа с помощью POST запроса.

+ Request внутренний заказ (application/json)
Пример запроса на получение шаблона заказа поставщику на основе внутреннего заказа.
  + Body
        <!-- include(body/purchaseOrder/new_base_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного заказа поставщику.
  + Body
        <!-- include(body/purchaseOrder/new_base_response.json) -->

+ Request заказ покупателя (application/json)
Пример запроса на получение шаблона заказа поставщику на основе заказа покупателя.
  + Body
        <!-- include(body/purchaseOrder/new_by_customer_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного заказа поставщику.
  + Body
        <!-- include(body/purchaseOrder/new_by_customer_order_response.json) -->

### Заказ поставщику [/entity/purchaseorder/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Заказа поставщику

#### Получить Заказ поставщику [GET]

Запрос на получение отдельного Заказа поставщику с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Заказа поставщику.
  + Body
        <!-- include(body/purchaseOrder/get_by_id.json) -->

#### Изменить Заказ поставщику [PUT]

Запрос на обновление Заказа поставщику с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Заказа поставщику, кроме тех, что
помечены `Только для чтения` в описании [атрибутов Заказа поставщику](#документ-заказ-поставщику-заказы-поставщикам).
При обновлении полей **organization** и **agent** нужно также обновить поля **organizationAccount** и
**agentAccount** соответственно, иначе произойдёт ошибка.

+ Request Пример (application/json)
Пример запроса на обновление отдельного Заказа поставщику.
  + Body
        <!-- include(body/purchaseOrder/put_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Заказа поставщику.
  + Body
        <!-- include(body/purchaseOrder/put_response.json) -->

### Позиции Заказа поставщику [/entity/purchaseOrder/{id}/positions]

Отдельный ресурс для управления позициями Заказа поставщику. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Заказа поставщику

#### Получить позиции Заказа поставщику [GET]

Запрос на получение списка всех позиций данного Заказа поставщику.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой позиции Заказа поставщику.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Заказа поставщику.
  + Body
        <!-- include(body/purchaseOrder/positions_get_list.json) -->

#### Создать позицию Заказа поставщику [POST]

Запрос на создание новой позиции в Заказе поставщику.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем **service**, **consignment**, **variant** в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании [позиции Заказа](#header-позиции-заказа-поставщику)
+ **quantity** - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.

+ Request Пример с одной позицией (application/json)
Пример создания одной позиции в Заказе поставщику.
  + Body
        <!-- include(body/purchaseOrder/positions_post_one_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного Заказа поставщику.
  + Body
        <!-- include(body/purchaseOrder/positions_post_one_response.json) -->

+ Request Пример с несколькими позициями (application/json)
Пример создания сразу нескольких позиций в Заказе поставщику.
  + Body
        <!-- include(body/purchaseOrder/positions_post_some_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка созданных позиций отдельного Заказа поставщику.
  + Body
        <!-- include(body/purchaseOrder/positions_post_some_response.json) -->

### Позиция Заказа [/entity/purchaseorder/{id}/positions/{positionID}]

Отдельная позиция Заказа с указанным id позиции.
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Заказа поставщику
  + positionID: `34f6344f-015e-11e6-9464-e4de0000006c` (required, string) - id позиции Заказа поставщику

#### Получить позицию Заказа [GET]

Запрос на получение отдельной позиции Заказа с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Заказа поставщику.
  + Body
        <!-- include(body/purchaseOrder/position_get_by_id.json) -->

#### Изменить позицию Заказа [PUT]

Запрос на обновление отдельной позиции Заказа. Для обновления позиции нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в Заказе поставщику.
  + Body
        <!-- include(body/purchaseOrder/positions_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции Заказа поставщику.
  + Body
        <!-- include(body/purchaseOrder/positions_put_response.json) -->

#### Удалить позицию [DELETE]

Запрос на удаление отдельной позиции Заказа с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции Заказа.

<!-- include(metadata.apib) -->

## Документ Счёт покупателю
### Счета покупателям [/entity/invoiceout]

Средствами JSON API можно создавать и обновлять сведения о Счёте покупателю, запрашивать списки Счетов и сведения по отдельным Счетам Покупателям. Позициями Счетов можно управлять как в составе отдельного Счёта, так и отдельно - с помощью специальных ресурсов для управления позициями Счёта. Кодом сущности для Счёта покупателю в составе JSON API является ключевое слово **invoiceout**. Больше о Счетах Покупателям и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по [этой ссылке](https://support.moysklad.ru/hc/ru/articles/203053496-%D0%A1%D1%87%D0%B5%D1%82%D0%B0-%D0%BF%D0%BE%D0%BA%D1%83%D0%BF%D0%B0%D1%82%D0%B5%D0%BB%D1%8F%D0%BC).

##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Счёте покупателю
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Счёта покупателю
+ **description** - Комментарий Счёта покупателю
+ **externalCode** - Внешний код Счёта покупателю
+ **moment** - Дата Счёта
+ **applicable** - Отметка о проведении
+ **vatEnabled** - Учитывается ли НДС
+ **vatIncluded** - Включен ли НДС в цену
+ **sum** - Сумма Счёта в установленной валюте `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Счёта в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organizationAccount** - Ссылка на счёт вашего юрлица в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agentAccount** - Ссылка на счёт контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **vatSum** - Сумма НДС `Только для чтения`
+ **positions** - Ссылка на позиции в Счёте в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **paymentPlannedMoment** - Планируемая дата оплаты
+ **payedSum** - Сумма входящих платежей по Счёту покупателю `Только для чтения`
+ **shippedSum** - Сумма отгруженного `Только для чтения`
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Связи с другими документами

+ **customerOrder** - Ссылка на Заказ Покупателя, с которым связан этот Счёт покупателю в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **payments** - Массив ссылок на связанные операции в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Только для чтения`
+ **demands** - Массив ссылок на связанные отгрузки в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Позиции Счёта покупателю

Позиции Счёта - это список товаров/услуг/модификаций/серий.
Объект позиции Счёта содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учёт по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.
+ **price** - Цена товара/услуги в копейках
+ **discount** - Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%
+ **vat** - НДС, которым облагается текущая позиция
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара

С позициями можно работать с помощью специальных ресурсов для управления позициями Счёта,
а также в составе отдельного Счёта покупателю. При работе в составе отдельного Счёта покупателю,
вы можете отправлять запросы на создание отдельного Счёта покупателю с включенным в тело запроса
массивом позиций Счёта. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Счёта покупателю".
Также, при работе в составе отдельного Счёта покупателю, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Счёта. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Счёта" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.

<!-- include(rate.apib) -->

О работе с доп. полями Счетов покупателям можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить Счета покупателям [GET]

Запрос всех Счетов покупателям на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Счета покупателям.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Счетов покупателям.
  + Body
        <!-- include(body/invoice_out/get_list.json) -->

#### Создать Счёт покупателю [POST]

Запрос на создание нового Счёта покупателю.
Обязательные для создания поля:
+ **name** - номер Счёта покупателю
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agent** - Ссылка на контрагента (покупателя) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ Request Пример (application/json)
Пример создания нового Счёта с телом запроса, содержащим только необходимые поля.
  + Body
        <!-- include(body/invoice_out/post_short_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счёта покупателю.
  + Body
        <!-- include(body/invoice_out/post_short_response.json) -->

+ Request Пример 2 (application/json)
Пример создания нового Счёта с более насыщенным телом запроса.
  + Body
        <!-- include(body/invoice_out/post_long_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счёта покупателю.
  + Body
        <!-- include(body/invoice_out/post_long_response.json) -->

+ Request Пример с доп. полями (application/json)
Пример запроса на создание Счёта покупателю с доп. полями.
  + Body
        <!-- include(body/invoice_out/post_with_attributes_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счёта покупателю.
  + Body
        <!-- include(body/invoice_out/post_with_attributes_response.json) -->

+ Request Пример с позициями (application/json)
Пример запроса на создание Счёта покупателю с позициями в теле запроса.
  + Body
        <!-- include(body/invoice_out/post_with_positions_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счёта покупателю.
  + Body
        <!-- include(body/invoice_out/post_with_positions_response.json) -->

#### Массовое создание и обновление Счётов покупателю [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Счётов покупателю.
В теле запроса нужно передать массив, содержащий JSON представления Счётов покупателю, которые вы хотите создать или обновить.
Обновляемые Счёта покупателю должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Счётов покупателю
  + Body
        <!-- include(body/invoice_out/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Счётов покупателю.
  + Body
        <!-- include(body/invoice_out/post_massive_response.json) -->

#### Удалить Счёт покупателю [DELETE /entity/invoiceout/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Счёта покупателю

Запрос на удаление Счёта покупателю с указанным id.

+ Response 200 (application/json)
Успешное удаление Счёта покупателю.

### Метаданные Счетов покупателям [/entity/invoiceout/metadata]
##### Метаданные Счетов покупателям [GET]

Запрос на получение метаданных Счетов покупателям. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Счетов покупателям
+ **attributes** - Массив объектов доп. полей Счетов покупателям в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Счетов покупателям
+ **createShared** - создавать новые Счета покупателям с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Счетов покупателям.
  + Body
        <!-- include(body/invoice_out/metadata.json) -->

### Отдельное доп. поле [/entity/invoiceout/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/invoice_out/metadata_by_id.json) -->

### Шаблон счёта покупателю [/entity/invoiceout/new]
##### Шаблон счёта покупателю [PUT]

Запрос на получение предзаполненого стандартными значениями шаблона счёта покупателю без связи с каким-либо документом.

+ Request Пустое тело запроса (application/json)
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного счёта покупателю.
  + Body
        <!-- include(body/invoice_out/new_empty.json) -->
        
#### Шаблон счёта покупателю на основе [PUT]

Запрос на получение предзаполненного счёта покупателю на основе заказа покупателя или отгрузки.
В результате запроса, будет создан предзаполненный шаблон счёта покупателю на основе переданного
документа.
+ Request заказ покупателя (application/json)
Запрос на создание счёта покупателю на основе заказа покупателя.
  + Body
        <!-- include(body/invoice_out/new_order_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного счёта покупателю.
  + Body
        <!-- include(body/invoice_out/new_order_response.json) -->

+ Request отгрузка (application/json)
Запрос на создание счёта покупателю на основе отгрузки.
  + Body
        <!-- include(body/invoice_out/new_demand_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного счёта покупателю.
  + Body
        <!-- include(body/invoice_out/new_demand_response.json) -->

### Счёт покупателю [/entity/invoiceout/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Счёта покупателю
  
#### Получить Счёт покупателю [GET]

Запрос на получение отдельного Счёта покупателю с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Счёта покупателю.
  + Body
        <!-- include(body/invoice_out/get_by_id.json) -->

#### Изменить Счёт покупателю [PUT]

Запрос на обновление Счета покупателю с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Счёта покупателю, кроме тех, что
помечены `Только для чтения` в описании [атрибутов Счёта покупателю](#документ-счёт-покупателю-счета-покупателям).
При обновлении полей **organization** и **agent** нужно также обновить поля **organizationAccount** и
**agentAccount** соответственно, иначе произойдёт ошибка.

+ Request Пример (application/json)
Пример запроса на обновление отдельного Счёта покупателю.
  + Body
        <!-- include(body/invoice_out/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Счёта покупателю.
  + Body
        <!-- include(body/invoice_out/put_response.json) -->

+ Request Пример с доп. полями (application/json)
Пример запроса на изменение Счёта покупателю с дополнительными полями.
  + Body
        <!-- include(body/invoice_out/put_with_attributes_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Счёта покупателю.
  + Body
       <!-- include(body/invoice_out/put_with_attributes_response.json) -->

+ Request Пример с позициями (application/json)
Пример запроса на обновление Счёта покупателю с позициями в теле запроса.
  + Body
        <!-- include(body/invoice_out/put_with_positions_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Счёта покупателю.
  + Body
        <!-- include(body/invoice_out/put_with_positions_response.json) -->

### Позиции Счёта покупателю [/entity/invoiceout/{id}/positions]

Отдельный ресурс для управления позициями Счёта покупателю. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Счёта покупателю
  
#### Получить позиции Счёта покупателю [GET]

Запрос на получение списка всех позиций данного Счёта покупателю.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой позиции Счёта покупателю.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Счёта покупателю.
  + Body
        <!-- include(body/invoice_out/get_positions_list.json) -->
        
#### Добавить позицию в Счёт покупателя [POST]

Запрос на создание новой позиции в Счёте покупателю.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем **service**, **consignment**, **variant** в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании [позиции Счёта](#header-позиции-счёта-покупателю)
+ **quantity** - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Также, как и при работе с [Позициями Заказа Покупателя](/api/remap/1.2/doc/customerOrder.html#документ-заказ-покупателя-позиции-заказа-покупателя), можно создать как одну, так и несколько позиций в одном запросе.

+ Request Пример (application/json)
Пример создания позиции в Счёте покупателю.
  + Body
      <!-- include(body/invoice_out/post_position_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного Счёте покупателю.
  + Body
        <!-- include(body/invoice_out/post_position_response.json) -->

### Позиция Счёта покупателя [/entity/invoiceout/{id}/positions/{positionID}]

Отдельная позиция Счёта покупателю с указанным id позиции.
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Счёта покупателю
  + positionID: `34f6344f-015e-11e6-9464-e4de0000006c` (required, string) - id позиции Счёта покупателю
  
#### Получить позицию Счёта [GET]

Запрос на получение отдельной позиции Счёта с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Счёта покупателю.
  + Body
        <!-- include(body/invoice_out/get_position_by_id.json) -->
        
#### Изменить позицию Счёта [PUT]

Запрос на обновление отдельной позиции Счёта. Для обновления позиции нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в Счёте покупателю.
  + Body
      <!-- include(body/invoice_out/put_position_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции Счёта покупателю.
  + Body
        <!-- include(body/invoice_out/put_position_response.json) -->

#### Удалить позицию [DELETE]

Запрос на удаление отдельной позиции Счёта с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции Счёта.

<!-- include(metadata.apib) -->

## Документ Счёт поставщика
### Счета поставщиков [/entity/invoicein]

Средствами JSON API можно создавать и обновлять сведения о Счёте поставщика, запрашивать списки Счетов и сведения по отдельным Счетам Поставщиков. Позициями Счетов можно управлять как в составе отдельного Счёта, так и отдельно - с помощью специальных ресурсов для управления позициями Счёта. Кодом сущности для Счёта поставщика в составе JSON API является ключевое слово **invoicein**. Больше о Счетах Поставщиков и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по [этой ссылке](https://support.moysklad.ru/hc/ru/articles/203053506-%D0%A1%D1%87%D0%B5%D1%82%D0%B0-%D0%BF%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA%D0%BE%D0%B2).

##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Счёте поставщика
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Счёта поставщика
+ **description** - Комментарий Счёта поставщика
+ **externalCode** - Внешний код Счёта поставщика
+ **moment** - Дата Счёта
+ **applicable** - Отметка о проведении
+ **vatEnabled** - Учитывается ли НДС
+ **vatIncluded** - Включен ли НДС в цену
+ **sum** - Сумма Счёта в установленной валюте `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Счёта в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organizationAccount** - Ссылка на счёт вашего юрлица в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agentAccount** - Ссылка на счёт контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **vatSum** - Сумма НДС `Только для чтения`
+ **positions** - Ссылка на позиции в Счёте в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **paymentPlannedMoment** - Планируемая дата оплаты
+ **payedSum** - Сумма входящих платежей по Счёту поставщика `Только для чтения`
+ **shippedSum** - Сумма отгруженного `Только для чтения`
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **incomingNumber** - Входящий номер
+ **incomingDate** - Входящая дата

##### Связи с другими документами

+ **payments** - Массив ссылок на связанные операции в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Только для чтения`
+ **purchaseOrder** - Ссылка на связанный заказ поставщику в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **supplies** - Ссылки на связанные приёмки в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Позиции Счёта поставщика

Позиции Счёта - это список товаров/услуг/модификаций/серий.
Объект позиции Счёта содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учёт по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.
+ **price** - Цена товара/услуги в копейках
+ **discount** - Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%
+ **vat** - НДС, которым облагается текущая позиция
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара

С позициями можно работать с помощью специальных ресурсов для управления позициями Счёта,
а также в составе отдельного Счёта поставщика. При работе в составе отдельного Счёта поставщика,
вы можете отправлять запросы на создание отдельного Счёта поставщика с включенным в тело запроса
массивом позиций Счёта. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Счёта поставщика".
Также, при работе в составе отдельного Счёта поставщика, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Счёта. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Счёта" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.

<!-- include(rate.apib) -->

О работе с доп. полями Счетов поставщиков можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)


#### Получить Счета поставщиков [GET]

Запрос всех Счетов поставщиков на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Счета поставщиков.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Счетов поставщиков.
  + Body
        <!-- include(body/invoice_in/get_list.json) -->

#### Создать Счёт поставщика [POST]

Запрос на создание нового Счёта поставщика.
Обязательные для создания поля:
+ **name** - номер Счёта поставщика
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agent** - Ссылка на контрагента (поставщика) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ Request Пример (application/json)
Пример создания нового Счёта с телом запроса, содержащим только необходимые поля.
  + Body
        <!-- include(body/invoice_in/post_short_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счёта поставщика.
  + Body
        <!-- include(body/invoice_in/post_short_response.json) -->

+ Request Пример 2 (application/json)
Пример создания нового Счёта с более насыщенным телом запроса.
  + Body
        <!-- include(body/invoice_in/post_long_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счёта поставщика.
  + Body
        <!-- include(body/invoice_in/post_long_response.json) -->

+ Request Пример с доп. полями (application/json)
Пример запроса на создание Счёта поставщика с доп. полями.
  + Body
        <!-- include(body/invoice_in/post_with_attributes_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счёта поставщика.
  + Body
        <!-- include(body/invoice_in/post_with_attributes_response.json) -->

+ Request Пример с позициями (application/json)
Пример запроса на создание Счёта поставщика с позициями в теле запроса.
  + Body
        <!-- include(body/invoice_in/post_with_positions_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счёта поставщика.
  + Body
        <!-- include(body/invoice_in/post_with_positions_response.json) -->

#### Массовое создание и обновление Счётов поставщика [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Счётов поставщика.
В теле запроса нужно передать массив, содержащий JSON представления Счётов поставщика, которые вы хотите создать или обновить.
Обновляемые Счёта поставщика должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Счётов поставщика
  + Body
        <!-- include(body/invoice_in/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Счётов поставщика.
  + Body
        <!-- include(body/invoice_in/post_massive_response.json) -->

#### Удалить Счёт поставщика [DELETE /entity/invoicein/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Счёта поставщика

Запрос на удаление Счёта поставщика с указанным id.

+ Response 200 (application/json)
Успешное удаление Счёта поставщика.

### Метаданные Счетов поставщиков [/entity/invoicein/metadata]
##### Метаданные Счетов поставщиков [GET]

Запрос на получение метаданных Счетов поставщиков. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Счетов поставщиков
+ **attributes** - Массив объектов доп. полей Счетов поставщиков в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Счетов поставщиков
+ **createShared** - создавать новые Счета поставщиков с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Счетов поставщиков.
  + Body
        <!-- include(body/invoice_in/metadata.json) -->

### Отдельное доп. поле [/entity/invoicein/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/invoice_in/metadata_by_id.json) -->

### Шаблон счёта поставщика [/entity/invoicein/new]
##### Шаблон счёта поставщика [PUT]

Запрос на получение предзаполненого стандартными значениями шаблона счёта поставщика без связи с каким-либо документом.

+ Request Пустое тело запроса (application/json)

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного счёта поставщика.
  + Body
        <!-- include(body/invoice_in/new_empty.json) -->

#### Шаблон счёта поставщика на основе [PUT]

Запрос на получение предзаполненного счёта поставщика на основе заказа поставщику или приёмки.
В результате запроса, будет создан предзаполненный шаблон счёта поставщика на основе переданного
документа.
+ Request заказ поставщику (application/json)
Запрос на создание счёта поставщика на основе заказа поставщику.
  + Body
        <!-- include(body/invoice_in/new_order_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного счёта поставщика.
  + Body
        <!-- include(body/invoice_in/new_order_response.json) -->

+ Request приемка (application/json)
Запрос на создание счёта поставщика на основе приемки.
  + Body
        <!-- include(body/invoice_in/new_supply_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного счёта поставщика.
  + Body
        <!-- include(body/invoice_in/new_supply_response.json) -->

### Счёт поставщика [/entity/invoicein/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Счёта поставщика
  
#### Получить Счёт поставщика [GET]

Запрос на получение отдельного Счёта поставщика с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Счёта поставщика.
  + Body
        <!-- include(body/invoice_in/get_by_id.json) -->

#### Изменить Счёт поставщика [PUT]

Запрос на обновление Счета поставщика с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Счёта поставщика, кроме тех, что
помечены `Только для чтения` в описании [атрибутов Счёта поставщика](#документ-счёт-поставщика-счета-поставщиков).
При обновлении полей **organization** и **agent** нужно также обновить поля **organizationAccount** и
**agentAccount** соответственно, иначе произойдёт ошибка.

+ Request Пример (application/json)
Пример запроса на обновление отдельного Счёта поставщика.
  + Body
        <!-- include(body/invoice_in/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Счёта поставщика.
  + Body
        <!-- include(body/invoice_in/put_response.json) -->

+ Request Пример с доп. полями (application/json)
Пример запроса на изменение Счёта поставщика с дополнительными полями.
  + Body
        <!-- include(body/invoice_in/put_with_attributes_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Счёта поставщика.
  + Body
       <!-- include(body/invoice_in/put_with_attributes_response.json) -->

+ Request Пример с позициями (application/json)
Пример запроса на обновление Счёта поставщика с позициями в теле запроса.
  + Body
        <!-- include(body/invoice_in/put_with_positions_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Счёта поставщика.
  + Body
        <!-- include(body/invoice_in/put_with_positions_response.json) -->

### Позиции Счёта поставщика [/entity/invoicein/{id}/positions]

Отдельный ресурс для управления позициями Счёта поставщика. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Счёта поставщика
  
#### Получить позиции Счёта поставщика [GET]

Запрос на получение списка всех позиций данного Счёта поставщика.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой позиции Счёта поставщика.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Счёта поставщика.
  + Body
        <!-- include(body/invoice_in/get_positions_list.json) -->
        
#### Добавить позицию в Счёт поставщика [POST]

Запрос на создание новой позиции в Счёте поставщика.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем **service**, **consignment**, **variant** в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании [позиции Счёта](#header-позиции-счёта-поставщика)
+ **quantity** - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.


+ Request Пример (application/json)
Пример создания позиции в Счёте поставщика.
  + Body
      <!-- include(body/invoice_in/post_position_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного Счёте поставщика.
  + Body
        <!-- include(body/invoice_in/post_position_response.json) -->

### Позиция Счёта поставщика [/entity/invoicein/{id}/positions/{positionID}]

Отдельная позиция Счёта поставщика с указанным id позиции.
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Счёта поставщика
  + positionID: `34f6344f-015e-11e6-9464-e4de0000006c` (required, string) - id позиции Счёта поставщика
  
#### Получить позицию Счёта [GET]

Запрос на получение отдельной позиции Счёта с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Счёта поставщика.
  + Body
        <!-- include(body/invoice_in/get_position_by_id.json) -->
        
#### Изменить позицию Счёта [PUT]

Запрос на обновление отдельной позиции Счёта. Для обновления позиции нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в Счёте поставщика.
  + Body
      <!-- include(body/invoice_in/put_position_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции Счёта поставщика.
  + Body
        <!-- include(body/invoice_in/put_position_response.json) -->

#### Удалить позицию [DELETE]

Запрос на удаление отдельной позиции Счёта с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции Счёта.

<!-- include(metadata.apib) -->

## Документ Входящий платеж
### Входящие платежи  [/entity/paymentin]

Средствами JSON API можно создавать и обновлять сведения о платеже , запрашивать списки Входящих платежей и сведения по отдельным Входящим платежам. Кодом сущности для Входящего платежа в составе JSON API является ключевое слово **paymentin**. Больше о платежах  и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по [этой ссылке](https://support.moysklad.ru/hc/ru/articles/203025346-%D0%9F%D0%BB%D0%B0%D1%82%D0%B5%D0%B6%D0%B8).

##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о платеже
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Входящего платежа
+ **description** - Комментарий Входящего платежа
+ **externalCode** - Внешний код Входящего платежа
+ **moment** - Дата Входящего платежа
+ **applicable** - Отметка о проведении
+ **sum** - Сумма Входящего платежа в установленной валюте
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **agent** - Ссылка на контрагента или юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Входящего платежа в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organizationAccount** - Ссылка на счёт вашего юрлица в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agentAccount** - Ссылка на счёт контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **paymentPurpose** - Назначение платежа
+ **vatSum** - Сумма включая НДС
+ **incomingDate** - Входящая дата
+ **incomingNumber** - Входящий номер

##### Связи с другими документами

+ **factureOut** - Ссылка на Счет-фактура выданный, с которым связан этот платеж в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **operations** - Массив ссылок на связанные операции в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
  - **meta** - Ссылка на операцию, к которой привязан этот платёж в формате метаданных
  - **linkedSum** - Сумма, оплаченная по данному документу из этого платежа

Разрешенные типы связанных операций:
+ Заказ покупателя (customerorder)
+ Возврат поставщику (purchasereturn)
+ Отгрузка (demand)
+ Счёт покупателю (invoiceout)
+ Полученный отчёт комиссионера (commissionreportin)
+ Смена (retailShift)

<!-- include(rate.apib) -->

О работе с доп. полями Входящих платежей можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить Входящие платежи [GET]

Запрос всех Входящих платежей на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Входящие платежи.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Входящих платежей.
  + Body
        <!-- include(body/payment_in/get_list.json) -->

#### Создать Входящий платеж [POST]

Запрос на создание нового Входящего платежа.
Обязательные для создания поля:
+ **name** - номер Входящего платежа
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ Request Пример (application/json)
Пример создания нового Входящего платежа с телом запроса, содержащим только необходимые поля.
  + Body
        <!-- include(body/payment_in/post_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Входящего платежа.
  + Body
        <!-- include(body/payment_in/post_response.json) -->

#### Массовое создание и обновление Входящих платежей [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Входящих платежей.
В теле запроса нужно передать массив, содержащий JSON представления Входящих платежей, которые вы хотите создать или обновить.
Обновляемые Входящие платежи должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Входящих платежей
  + Body
        <!-- include(body/payment_in/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Входящих платежей.
  + Body
        <!-- include(body/payment_in/post_massive_response.json) -->


#### Удалить Входящий платеж [DELETE /entity/paymentin/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Входящего платежа

Запрос на удаление Входящего платежа с указанным id.

+ Response 200 (application/json)
Успешное удаление Входящего платежа.

### Метаданные Входящих платежей [/entity/paymentin/metadata]
##### Метаданные Входящих платежей [GET]

Запрос на получение метаданных Входящих платежей. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Входящих платежей
+ **attributes** - Массив объектов доп. полей Входящих платежей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Входящих платежей
+ **createShared** - создавать новые Входящие платежи с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Входящих платежей.
  + Body
        <!-- include(body/payment_in/metadata.json) -->

### Отдельное доп. поле [/entity/paymentin/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/payment_in/metadata_by_id.json) -->

### Шаблон входящего платежа [/entity/paymentin/new]
##### Шаблон входящего платежа [PUT]

Запрос на получение предзаполненого стандартными значениями шаблона входящего платежа без связи с каким-либо документом.

+ Request Пустой запрос (application/json)
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного входящего платежа.
  + Body
        <!-- include(body/payment_in/new_empty.json) -->

#### Шаблон входящего платежа на основе [PUT]

Запрос на получение предзаполненного входящего платежа на основе другого документа.
В результате запроса, будет создан предзаполненный шаблон входящего платёжа на основе переданного документа.

+ Request заказ покупателя (application/json)
Запрос на получение шаблона входящего платежа на основе заказа покупателя.
  + Body
        <!-- include(body/payment_in/new_customerorder_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного входящего платежа.
  + Body
        <!-- include(body/payment_in/new_customerorder_response.json) -->

+ Request возврат поставщику (application/json)
Запрос на получение шаблона входящего платежа на основе возврата поставщику.
  + Body
        <!-- include(body/payment_in/new_purchase_return_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного входящего платежа.
  + Body
        <!-- include(body/payment_in/new_purchase_return_response.json) -->

+ Request отгрузка (application/json)
Запрос на получение шаблона входящего платежа на основе отгрузки.
  + Body
        <!-- include(body/payment_in/new_demand_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного входящего платежа.
  + Body
        <!-- include(body/payment_in/new_demand_response.json) -->

+ Request счёт покупателю (application/json)
Запрос на получение шаблона входящего платежа на основе счета покупателя.
  + Body
        <!-- include(body/payment_in/new_invoice_out_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного входящего платежа.
  + Body
        <!-- include(body/payment_in/new_invoice_out_response.json) -->

+ Request  получ отчёт комиссионера (application/json)
Запрос на получение шаблона входящего платежа на основе полученного отчёта комиссионера.
  + Body
        <!-- include(body/payment_in/new_commissionreportin_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного входящего платежа.
  + Body
        <!-- include(body/payment_in/new_commissionreportin_response.json) -->

### Входящий платеж [/entity/paymentin/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Входящего платежа
  
#### Получить Входящий платеж [GET]

Запрос на получение отдельного Входящего платежа с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Входящего платежа.
  + Body
        <!-- include(body/payment_in/get_by_id.json) -->

#### Изменить Входящий платеж [PUT]

Запрос на обновление Входящего платежа  с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Входящего платежа, кроме тех, что
помечены `Только для чтения` в описании [атрибутов Входящего платежа](#документ-входящий-платеж-входящие-платежи).
При обновлении полей **organization** и **agent** нужно также обновить поля **organizationAccount** и
**agentAccount** соответственно, иначе произойдёт ошибка. <br>
Для привязки входящего платежа к другим документам
нужно положить в поле под именем **operations** все **meta** тех документов, к которым вы хотите привязать финансовую операцию.
Также для каждого документа можно указать cумму, оплаченную по данному документу из этого платежа **linkedSum**.

+ Request Пример (application/json)
Пример запроса на обновление отдельного Входящего платежа.
  + Body
        <!-- include(body/payment_in/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Входящего платежа.
  + Body
        <!-- include(body/payment_in/put_response.json) -->

<!-- include(metadata.apib) -->

## Документ Исходящий платеж
### Исходящие платежи   [/entity/paymentout]

Средствами JSON API можно создавать и обновлять сведения о Исходящем платеже, запрашивать списки Исходящих платежей  и сведения по отдельным Исходящим платежам. Кодом сущности для Исходящего платежа  в составе JSON API является ключевое слово **paymentout**. Больше о платежа х и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по [этой ссылке](https://support.moysklad.ru/hc/ru/articles/203025346-%D0%9F%D0%BB%D0%B0%D1%82%D0%B5%D0%B6%D0%B8).

##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Исходящем платеже
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Исходящего платежа
+ **description** - Комментарий Исходящего платежа
+ **externalCode** - Внешний код Исходящего платежа
+ **moment** - Дата Исходящего платежа
+ **applicable** - Отметка о проведении
+ **sum** - Сумма Исходящего платежа  в установленной валюте
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **agent** - Ссылка на контрагента или юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Исходящего платежа  в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organizationAccount** - Ссылка на счёт вашего юрлица в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agentAccount** - Ссылка на счёт контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **paymentPurpose** - Назначение платежа
+ **vatSum** - Сумма включая НДС
+ **expenseItem** - Статья расходов в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`

##### Связи с другими документами

+ **factureIn** - Ссылка на Счет-фактура полученный, с которым связан этот платеж, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **operations** - Массив ссылок на связанные операции
  - **meta** - Ссылка на операцию, к которой привязан этот платёж в формате метаданных
  - **linkedSum** - Сумма, оплаченная по данному документу из этого платежа

Разрешенные типы связанных операций:
+ Возврат покупателя (salesreturn)
+ Приёмка (supply)
+ Счёт поставщика (invoicein)
+ Заказ поставщику (purchaseorder)
+ Выданный отчёт комиссионера (commissionreportout)

<!-- include(rate.apib) -->

О работе с доп. полями Исходящих  платежей  можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить Исходящие платежи   [GET]

Запрос всех Исходящих  платежей  на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Исходящие платежи  .
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Исходящих платежей .
  + Body
        <!-- include(body/payment_out/get_list.json) -->

#### Создать Исходящий платеж  [POST]

Запрос на создание нового Исходящего платежа .
Обязательные для создания поля:
+ **name** - номер Исходящего платежа
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agent** - Ссылка на контрагента  в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **expenseItem** - Статья расходов в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ Request Пример (application/json)
Пример создания нового Исходящего платежа  с телом запроса, содержащим только необходимые поля.
  + Body
        <!-- include(body/payment_out/post_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Исходящего платежа .
  + Body
        <!-- include(body/payment_out/post_response.json) -->

#### Массовое создание и обновление Исходящих платежей [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Исходящих платежей.
В теле запроса нужно передать массив, содержащий JSON представления Исходящих платежей, которые вы хотите создать или обновить.
Обновляемые Исходящие платежи должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Исходящих платежей
  + Body
        <!-- include(body/payment_out/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Исходящих платежей.
  + Body
        <!-- include(body/payment_out/post_massive_response.json) -->

#### Удалить Исходящий платеж  [DELETE /entity/paymentout/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Исходящего платежа

Запрос на удаление Исходящего платежа  с указанным id.

+ Response 200 (application/json)
Успешное удаление Исходящего платежа .

### Метаданные Исходящих платежей [/entity/paymentout/metadata]
##### Метаданные Исходящих платежей  [GET]

Запрос на получение метаданных Исходящих платежей . Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Исходящих платежей
+ **attributes** - Массив объектов доп. полей Исходящих платежей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Исходящих платежей
+ **createShared** - создавать новые Исходящие платежи с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Исходящих платежей .
  + Body
        <!-- include(body/payment_out/metadata.json) -->

### Отдельное доп. поле [/entity/paymentout/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/payment_out/metadata_by_id.json) -->

### Шаблон исходящего платежа [/entity/paymentout/new]
##### Шаблон исходящего платежа [PUT]

Запрос на получение предзаполненого стандартными значениями шаблона исходящего платежа без связи с каким-либо документом.
+ Request Пустой запрос (application/json)
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного исходящего платежа.
  + Body
        <!-- include(body/payment_out/new_empty.json) -->

#### Шаблон исходящего платежа на основе [PUT]

Запрос на создание получение прелзаполненного исходящего платежа на основе другого документа.
В результате запроса, будет создан предзаполненный шаблон исходящего платёж на основе переданного документа.

+ Request заказ поставщику (application/json)
Запрос на получение шаблона исходящего платежа на основе заказа поставщику.
  + Body
        <!-- include(body/payment_out/new_purchaseorder_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного исходящего платежа.
  + Body
        <!-- include(body/payment_out/new_purchaseorder_response.json) -->

+ Request возврат покупателя (application/json)
Запрос на получение шаблона исходящего платежа на основе возврата покупателя.
  + Body
        <!-- include(body/payment_out/new_sales_return_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного исходящего платежа.
  + Body
        <!-- include(body/payment_out/new_sales_return_response.json) -->

+ Request приёмка (application/json)
Запрос на получение шаблона исходящего платежа на основе приёмки.
  + Body
        <!-- include(body/payment_out/new_supply_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного исходящего платежа.
  + Body
        <!-- include(body/payment_out/new_supply_response.json) -->

+ Request счёт поставщика (application/json)
Запрос на получение шаблона исходящего платежа на основе счёта поставщика.
  + Body
        <!-- include(body/payment_out/new_invoice_in_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного исходящего платежа.
  + Body
        <!-- include(body/payment_out/new_invoice_in_response.json) -->
+ Request выд отчёт комиссионера (application/json)
Запрос на получение шаблона исходящего платежа на основе выданного отчёта комиссионера.
  + Body
        <!-- include(body/payment_out/new_commissionreportout_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного исходящего платежа.
  + Body
        <!-- include(body/payment_out/new_commissionreportout_response.json) -->

### Исходящий платеж  [/entity/paymentout/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Исходящего платежа
  
#### Получить Исходящий платеж  [GET]

Запрос на получение отдельного Исходящего платежа с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Исходящего платежа.
  + Body
        <!-- include(body/payment_out/get_by_id.json) -->

#### Изменить Исходящий платеж  [PUT]

Запрос на обновление Исходящего платежа   с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Исходящего платежа , кроме тех, что
помечены `Только для чтения` в описании [атрибутов Исходящего платежа ](#документ-исходящий-платеж-исходящие-платежи).
При обновлении полей **organization** и **agent** нужно также обновить поля **organizationAccount** и
**agentAccount** соответственно, иначе произойдёт ошибка.

Для привязки исходящего платежа к другим документам
нужно положить в поле под именем **operations** все **meta** тех документов, к которым вы хотите привязать финансовую операцию.
Также для каждого документа можно указать cумму, оплаченную по данному документу из этого платежа **linkedSum**.

+ Request Пример (application/json)
Пример запроса на обновление отдельного Исходящего платежа .
  + Body
        <!-- include(body/payment_out/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Исходящего платежа .
  + Body
        <!-- include(body/payment_out/put_response.json) -->

<!-- include(metadata.apib) -->

## Документ Приходный ордер
### Приходные ордера  [/entity/cashin]

Средствами JSON API можно создавать и обновлять сведения о Приходном ордере, запрашивать списки Приходных ордеров и сведения по отдельным Приходным ордерам.Кодом сущности для Приходного ордера в составе JSON API является ключевое слово **cashin**.

##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Приходном ордере
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Приходного ордера
+ **description** - Комментарий Приходного ордера
+ **externalCode** - Внешний код Приходного ордера
+ **moment** - Дата Приходного ордера
+ **applicable** - Отметка о проведении
+ **sum** - Сумма Приходного ордера в установленной валюте
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **agent** - Ссылка на контрагента, юрлицо или сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Приходного ордера в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **paymentPurpose** - Основание
+ **vatSum** - Сумма включая НДС

##### Связи с другими документами

+ **factureOut** - Ссылка на Счет-фактура выданный, с которым связан этот Приходный ордер, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **operations** - Массив ссылок на связанные операции в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
  - **meta** - Ссылка на операцию, к которой привязан этот платёж в формате метаданных
  - **linkedSum** - Сумма, оплаченная по данному документу из этого платежа

Разрешенные типы связанных операций:
+ Заказ покупателя (customerorder)
+ Возврат поставщику (purchasereturn)
+ Отгрузка (demand)
+ Счёт покупателю (invoiceout)
+ Полученный отчёт комиссионера (commissionreportin)
+ Смена (retailShift)

<!-- include(rate.apib) -->
О работе с доп. полями Приходных ордеров можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить Приходные ордера [GET]

Запрос всех Приходных ордеров на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Приходные ордера.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Приходных ордеров.
  + Body
        <!-- include(body/cash_in/get_list.json) -->

#### Создать Приходный ордер [POST]

Запрос на создание нового Приходного ордера.
Обязательные для создания поля:
+ **name** - номер Приходного ордера
+ **organization** - Ссылка на ваше орлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ Request Пример (application/json)
 Пример создания нового Приходного ордера с телом запроса, содержащим только необходимые поля.
  + Body
        <!-- include(body/cash_in/post_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Приходного ордера.
  + Body
        <!-- include(body/cash_in/post_response.json) -->

#### Массовое создание и обновление Приходных ордеров [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Приходных ордеров.
В теле запроса нужно передать массив, содержащий JSON представления Приходных ордеров, которые вы хотите создать или обновить.
Обновляемые Приходные ордера должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Приходных ордеров
  + Body
        <!-- include(body/cash_in/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Приходных ордеров.
  + Body
        <!-- include(body/cash_in/post_massive_response.json) -->

#### Удалить Приходный ордер [DELETE /entity/cashin/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Приходного ордера

Запрос на удаление Приходного ордера с указанным id.

+ Response 200 (application/json)
Успешное удаление Приходного ордера.

### Метаданные Приходных ордеров [/entity/cashin/metadata]
##### Метаданные Приходных ордеров [GET]

Запрос на получение метаданных Приходных ордеров. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Приходных ордеров
+ **attributes** - Массив объектов доп. полей Приходных ордеров в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Приходных ордеров
+ **createShared** - создавать новые Приходные ордера с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Приходных ордеров.
  + Body
        <!-- include(body/cash_in/metadata.json) -->

### Отдельное доп. поле [/entity/cashin/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/cash_in/metadata_by_id.json) -->

### Шаблон приходного ордера [/entity/cashin/new]
##### Шаблон приходного ордера[PUT]

Запрос на получение предзаполненного приходного ордера со стандартными полями без связи с какими-либо другими документами.

+ Request Пустой запрос (application/json)
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного приходного ордера.
  + Body
        <!-- include(body/cash_in/new_empty.json) -->

#### Шаблон приходного ордера на основе [PUT]

Запрос на получение шаблона приходного ордера на основе другого документа.
В результате запроса, будет предзаполненный приходный ордер на основе переданного документа.

+ Request  заказ покупателя (application/json)
Запрос на получение шаблона приходного ордера на основе заказа покупателя.
  + Body
        <!-- include(body/cash_in/new_customerorder_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного приходного ордера.
  + Body
        <!-- include(body/cash_in/new_customerorder_response.json) -->

+ Request  возврат поставщику (application/json)
Запрос на получение шаблона приходного ордера на основе возврата поставщику.
  + Body
        <!-- include(body/cash_in/new_purchase_return_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного приходного ордера.
  + Body
        <!-- include(body/cash_in/new_purchase_return_response.json) -->

+ Request  отгрузка (application/json)
Запрос на получение шаблона приходного ордера на основе отгрузки.
  + Body
        <!-- include(body/cash_in/new_demand_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного приходного ордера.
  + Body
        <!-- include(body/cash_in/new_demand_response.json) -->

+ Request  счёт покупателю (application/json)
Запрос на получение шаблона приходного ордера на основе счёта покупателю.
  + Body
        <!-- include(body/cash_in/new_invoice_out_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного приходного ордера.
  + Body
        <!-- include(body/cash_in/new_invoice_out_response.json) -->

+ Request  получ отчёт комиссионера (application/json)
Запрос на получение шаблона приходного ордера на основе полученного отчёта комиссионера.
  + Body
        <!-- include(body/cash_in/new_commissionreportin_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного приходного ордера.
  + Body
        <!-- include(body/cash_in/new_commissionreportin_response.json) -->

### Приходный ордер [/entity/cashin/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Приходного ордера
  
#### Получить Приходный ордер [GET]

Запрос на получение отдельного Приходного ордера с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Приходного ордера.
  + Body
        <!-- include(body/cash_in/get_by_id.json) -->

#### Изменить Приходный ордер [PUT]

Запрос на обновление Приходного ордера  с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Приходного ордера, кроме тех, что
помечены `Только для чтения` в описании [атрибутов Приходного ордера](#документ-приходный-ордер-приходные-ордера).
При обновлении полей **organization** и **agent** нужно также обновить поля **organizationAccount** и
**agentAccount** соответственно, иначе произойдёт ошибка.<br>
Для привязки приходного ордера к другим документам
нужно положить в поле под именем **operations** все **meta** тех документов, к которым вы хотите привязать финансовую операцию.
Также для каждого документа можно указать cумму, оплаченную по данному документу из этого платежа **linkedSum**.

+ Request Пример (application/json)
Пример запроса на обновление отдельного Приходного ордера.
  + Body
        <!-- include(body/cash_in/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Приходного ордера.
  + Body
        <!-- include(body/cash_in/put_response.json) -->

<!-- include(metadata.apib) -->

## Документ Расходный ордер
### Расходные ордера [/entity/cashout]

Средствами JSON API можно создавать и обновлять сведения о Расходном ордере, запрашивать списки Расходных ордеров  и сведения по отдельным Расходных ордеров. Кодом сущности для Расходного ордера  в составе JSON API является ключевое слово **cashout**.

##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Расходном ордере
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Расходного ордера
+ **description** - Комментарий Расходного ордера
+ **externalCode** - Внешний код Расходного ордера
+ **moment** - Дата Расходного ордера
+ **applicable** - Отметка о проведении
+ **sum** - Сумма Расходного ордера  в установленной валюте
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **agent** - Ссылка на контрагента, юрлицо или сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Расходного ордера  в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **paymentPurpose** - Основание
+ **vatSum** - Сумма включая НДС
+ **expenseItem** - Статья расходов в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`

##### Связи с другими документами

+ **factureIn** - Ссылка на Счет-фактура полученный, с которым связан этот Расходный ордер в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **operations** - Массив ссылок на связанные операции в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
  - **meta** - Ссылка на операцию, к которой привязан этот платёж в формате метаданных
  - **linkedSum** - Сумма, оплаченная по данному документу из этого платежа

Разрешенные типы связанных операций:
+ Возврат покупателя (salesreturn)
+ Приёмка (supply)
+ Счёт поставщика (invoicein)
+ Заказ поставщику (purchaseorder)
+ Выданный отчёт комиссионера (commissionreportout)

<!-- include(rate.apib) -->

О работе с доп. полями Расходных ордеров можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить Расходные ордера [GET]

Запрос всех Расходных ордеров на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Расходные ордера .
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Расходных ордеров.
  + Body
        <!-- include(body/cash_out/get_list.json) -->

#### Создать Расходный ордер [POST]

Запрос на создание нового Расходного ордера.
Обязательные для создания поля:
+ **name** - номер Расходного ордера
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agent** - Ссылка на контрагента  в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **expenseItem** - Статья расходов в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ Request Пример (application/json)
Пример создания нового Расходного ордера  с телом запроса, содержащим только необходимые поля.
  + Body
        <!-- include(body/cash_out/post_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Расходного ордера.
  + Body
        <!-- include(body/cash_out/post_response.json) -->

#### Массовое создание и обновление  Расходных ордеров [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Расходных ордеров.
В теле запроса нужно передать массив, содержащий JSON представления Расходных ордеров, которые вы хотите создать или обновить.
Обновляемые Расходные ордера должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Расходных ордеров
  + Body
        <!-- include(body/cash_out/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Расходных ордеров.
  + Body
        <!-- include(body/cash_out/post_massive_response.json) -->

#### Удалить Расходный ордер [DELETE /entity/cashout/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Расходного ордера

Запрос на удаление Расходного ордера  с указанным id.

+ Response 200 (application/json)
Успешное удаление Расходного ордера.

### Метаданные Расходных ордеров [/entity/cashout/metadata]
##### Метаданные Расходных ордеров  [GET]

Запрос на получение метаданных Расходных ордеров. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Расходных ордеров
+ **attributes** - Массив объектов доп. полей Расходных ордеров в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Расходных ордеров
+ **createShared** - создавать новые Расходные ордера с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Расходных ордеров.
  + Body
        <!-- include(body/cash_out/metadata.json) -->

### Отдельное доп. поле [/entity/cashout/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/cash_out/metadata_by_id.json) -->

### Шаблон расходного ордера [/entity/cashout/new]
##### Шаблон расходного ордера [PUT]

Запрос на получение предзаполненого стандартными значениями шаблона расходного ордера без связи с каким-либо документом.

+ Request Пустой запрос (application/json)
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного расходного ордера.
  + Body
        <!-- include(body/cash_out/new_empty.json) -->

#### Шаблон расходного ордера на основе [PUT]

Запрос на получение предзаполненного представления расходного ордера на основе другого документа.

+ Request заказ поставщику (application/json)
Запрос на получение шаблона расходного ордера на основе заказа поставщику.
  + Body
        <!-- include(body/cash_out/new_purchaseorder_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного расходного ордера.
  + Body
        <!-- include(body/cash_out/new_purchaseorder_response.json) -->

+ Request возврат покупателя (application/json)
Запрос на получение шаблона расходного ордера на основе возврата покупателя.
  + Body
        <!-- include(body/cash_out/new_sales_return_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного расходного ордера.
  + Body
        <!-- include(body/cash_out/new_sales_return_response.json) -->

+ Request приёмка (application/json)
Запрос на получение шаблона расходного ордера на основе приёмки.
  + Body
        <!-- include(body/cash_out/new_supply_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного расходного ордера.
  + Body
        <!-- include(body/cash_out/new_supply_response.json) -->

+ Request счёт поставщика (application/json)
Запрос на получение шаблона расходного ордера на основе счёта поставщика.
  + Body
        <!-- include(body/cash_out/new_invoice_in_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного расходного ордера.
  + Body
        <!-- include(body/cash_out/new_invoice_in_response.json) -->

+ Request выд отчёт комиссионера (application/json)
Запрос на получение шаблона расходного ордера на основе выданного отчёта комиссионера.
  + Body
        <!-- include(body/cash_out/new_commissionreportout_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного расходного ордера.
  + Body
        <!-- include(body/cash_out/new_commissionreportout_response.json) -->

### Расходный ордер [/entity/cashout/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Расходного ордера
  
#### Получить Расходный ордер [GET]

Запрос на получение отдельного Расходного ордера с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Расходного ордера.
  + Body
        <!-- include(body/cash_out/get_by_id.json) -->

#### Изменить Расходный ордер [PUT]

Запрос на обновление Расходного ордера   с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Расходного ордера , кроме тех, что
помечены `Только для чтения` в описании [атрибутов Расходного ордера ](#документ-расходный-ордер-расходные-ордера).
При обновлении полей **organization** и **agent** нужно также обновить поля **organizationAccount** и
**agentAccount** соответственно, иначе произойдёт ошибка. <br>
Для привязки расходного ордера к другим документам
нужно положить в поле под именем **operations** все **meta** тех документов, к которым вы хотите привязать финансовую операцию.
Также для каждого документа можно указать cумму, оплаченную по данному документу из этого платежа **linkedSum**.

+ Request Пример (application/json)
Пример запроса на обновление отдельного Расходного ордера.
  + Body
        <!-- include(body/cash_out/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Расходного ордера.
  + Body
        <!-- include(body/cash_out/put_response.json) -->

<!-- include(metadata.apib) -->

## Документ Отгрузка

Средствами JSON API можно создавать и обновлять сведения об Отгрузках, запрашивать списки Отгрузок и сведения по отдельным Отгрузкам. Позициями Отгрузок можно управлять как в составе отдельной Отгрузки, так и отдельно - с помощью специальных ресурсов для управления позициями Отгрузки. Кодом сущности для Отгрузки в составе JSON API является ключевое слово **demand**. Больше об Отгрузках и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по  [этой ссылке](https://support.moysklad.ru/hc/ru/articles/203325463-%D0%9E%D1%82%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0-%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%B2).

### Отгрузки [/entity/demand]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) об Отгрузке
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Отгрузки
+ **description** - Комментарий Отгрузки
+ **externalCode** - Внешний код Отгрузки
+ **moment** - Дата Отгрузки
+ **applicable** - Отметка о проведении
+ **vatEnabled** - Учитывается ли НДС
+ **vatIncluded** - Включен ли НДС в цену
+ **sum** - Сумма Отгрузки в копейках `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Отгрузки в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organizationAccount** - Ссылка на счёт вашего юрлица в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agentAccount** - Ссылка на счёт контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **vatSum** - Сумма НДС `Только для чтения`
+ **positions** - Ссылка на позиции в Отгрузке в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **overhead** - Накладные расходы. Если Позиции Отгрузки не заданы, то накладные расходы нельзя задать
  - **sum** - сумма накладных расходов
  - **distribution** - Распределение накладных расходов `[weight, volume, price]` -> `[по весу, по объёму, по цене]`
+ **payedSum** - Сумма входящих платежей по Отгрузке

##### Связи с другими документами

+ **customerOrder** - Ссылка на Заказ Покупателя, с которым связана эта Отгрузка в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **factureOut** - Ссылка на Счет-фактура выданный, с которым связана эта Отгрузка в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **returns** - Массив ссылок на связанные возвраты в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **payments** - Массив ссылок на связанные платежи в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **invoicesOut** - Массив ссылок на связанные счета покупателям в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

#####  Другие поля
 
+ **consignee** - Грузополучатель в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **transportFacilityNumber** - Номер автомобиля
+ **shippingInstructions** - Указания грузоотправителя
+ **cargoName** - Наименование груза
+ **transportFacility** - Транспортное средство
+ **goodPackQuantity** - Всего мест
+ **carrier**  - Перевозчик в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **stateContractId** - Идентификатор государственного контракта, договора (соглашения)

##### Позиции Отгрузки

Позиции Отгрузки - это список товаров/услуг/модификаций/серий.
Объект позиции Отгрузки содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учёт по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.
+ **price** - Цена товара/услуги в копейках
+ **discount** - Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%
+ **vat** - НДС, которым облагается текущая позиция
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара
+ **things** - Серийные номера
Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете.
В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.
+ **cost** - Себестоимость (только для услуг)

С позициями можно работать с помощью [специальных ресурсов для управления позициями Отгрузки](#документ-отгрузка-позиции-отгрузки),
а также в составе отдельной Отгрузки. При работе в составе отдельной Отгрузки,
вы можете отправлять запросы на создание отдельной Отгрузки с включенным в тело запроса
массивом позиций Отгрузки. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Отгрузки".
Также, при работе в составе отдельной Отгрузки, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Отгрузки. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Отгрузки" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
+ **overhead** - Накладные расходы по позиции.

<!-- include(rate.apib) -->

О работе с доп. полями Отгрузок можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)


#### Получить список Отгрузок [GET]

Запрос всех Отгрузок на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Отгрузки.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Отгрузок.
  + Body
        <!-- include(body/demand/get_list.json) -->

#### Создать Отгрузку[POST]

Запрос на создание новой Отгрузки.
Обязательные для создания поля:
+ **name** - номер Отгрузки (номер)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agent** - Ссылка на контрагента (покупателя) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

+ Request Пример 1 (application/json)
Пример создания новой Отгрузки с телом запроса, содержащим только необходимые поля.
  + Body
        <!-- include(body/demand/post_request_short.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Отгрузки.
  + Body
        <!-- include(body/demand/post_response_short.json) -->

+ Request Пример 2 (application/json)
Пример создания новой Отгрузки с более насыщенным телом запроса.
  + Body
        <!-- include(body/demand/post_request_long.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Отгрузки.
  + Body
        <!-- include(body/demand/post_response_long.json) -->

+ Request Пример с доп. полями (application/json)
Пример запроса на создание Отгрузки с доп. полями.
  + Body
        <!-- include(body/demand/post_with_attributes_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Отгрузки.
  + Body
        <!-- include(body/demand/post_with_attributes_response.json) -->


+ Request Пример с позициями (application/json)
Пример запроса на создание Отгрузки с позициями в теле запроса.
  + Body
        <!-- include(body/demand/post_with_positions_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Отгрузки.
  + Body
        <!-- include(body/demand/post_with_positions_response.json) -->

#### Массовое создание и обновление Отгрузок [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Отгрузок.
В теле запроса нужно передать массив, содержащий JSON представления Отгрузок, которые вы хотите создать или обновить.
Обновляемые Отгрузки должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Отгрузок
  + Body
        <!-- include(body/demand/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Отгрузок.
  + Body
        <!-- include(body/demand/post_massive_response.json) -->

#### Удалить Отгрузку [DELETE /entity/demand/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Отгрузки

Запрос на удаление Отгрузки с указанным id.

+ Response 200 (application/json)
Успешное удаление Отгрузки.

### Метаданные Отгрузок [/entity/demand/metadata]
##### Метаданные Отгрузок [GET]

Запрос на получение метаданных Отгрузок. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Отгрузок
+ **attributes** - Массив объектов доп. полей Отгрузок в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Отгрузок
+ **createShared** - создавать новые Отгрузки с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Отгрузок.
  + Body
        <!-- include(body/demand/get_metadata.json) -->

### Отдельное доп. поле [/entity/demand/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/demand/metadata_by_id.json) -->

### Шаблон отгрузки [/entity/demand/new]
##### Шаблон отгрузки [PUT]

Запрос на получение предзаполненого стандартными значениями шаблона отгрузки без связи с каким-либо документом.

+ Request Пустое тело запроса (application/json)
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной отгрузки.
  + Body
        <!-- include(body/demand/new_empty.json) -->

#### Шаблон отгрузки на основе [PUT]

Запрос на получение шаблона отгрузки на основе заказа покупателя или счёта покупателю.
В результате запроса, будет создан предзаполненный шаблон отгрузки на основе переданного
документа.

+ Request заказ покупателя (application/json)
Запрос на создание отгрузки на основе заказа покупателя.
  + Body
        <!-- include(body/demand/new_order_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной отгрузки.
  + Body
        <!-- include(body/demand/new_order_response.json) -->

+ Request счет покупателя (application/json)
Запрос на создание отгрузки на основе счёта покупателя.
  + Body
        <!-- include(body/demand/new_invoice_out_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной отгрузки.
  + Body
        <!-- include(body/demand/new_invoice_out_response.json) -->

### Отгрузка [/entity/demand/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Отгрузки

#### Получить Отгрузку [GET]

Запрос на получение отдельной Отгрузки с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Отгрузки.
  + Body
        <!-- include(body/demand/get_by_id.json) -->

#### Изменить Отгрузку [PUT]

Запрос на обновление Отгрузки с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Отгрузки, кроме тех, что
помечены `Только для чтения` в описании [атрибутов Отгрузки](#документ-отгрузка-отгрузки).
При обновлении полей **organization** и **agent** нужно также обновить поля **organizationAccount** и
**agentAccount** соответственно, иначе произойдёт ошибка.

+ Request Пример (application/json)
Пример запроса на обновление отдельной Отгрузки.
  + Body
        <!-- include(body/demand/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой Отгрузки.
  + Body
        <!-- include(body/demand/put_response.json) -->


+ Request Пример с доп. полями (application/json)
Пример запроса на изменение Отгрузки с дополнительными полями.
  + Body
        <!-- include(body/demand/put_with_attributes_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой Отгрузки.
  + Body
        <!-- include(body/demand/put_with_attributes_response.json) -->

+ Request Пример с позициями (application/json)
Пример запроса на обновление Отгрузки с позициями в теле запроса.
  + Body
        <!-- include(body/demand/put_with_positions_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой Отгрузки.
  + Body
        <!-- include(body/demand/put_response.json) -->
        
### Позиции Отгрузки [/entity/demand/{id}/positions]

Отдельный ресурс для управления позициями Отгрузки. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Отгрузки
  
#### Получить позиции Отгрузки [GET]

Запрос на получение списка всех позиций данной Отгрузки.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой позиции Отгрузки.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `25`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельной Отгрузки.
  + Body
        <!-- include(body/demand/positions_get_list.json) -->

#### Создать позицию Отгрузки [POST]

Запрос на создание новой позиции в Отгрузке.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем **service**, **consignment**, **variant** в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании [позиции Отгрузки](#header-позиции-отгрузки)
+ **quantity** - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Отгрузки. Все созданные данным запросом позиции
будут добавлены к уже существующим.
+ Request Пример с одной позицией (application/json)
Пример создания одной позиции в Отгрузке.
  + Body
        <!-- include(body/demand/positions_post_one_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельной Отгрузки.
  + Body
        <!-- include(body/demand/positions_post_one_response.json) -->

+ Request Пример с несколькими позициями (application/json)
Пример создания сразу нескольких позиций в Отгрузке.
  + Body
        <!-- include(body/demand/positions_post_some_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка созданных позиций отдельной Отгрузки.
  + Body
        <!-- include(body/demand/positions_post_some_response.json) -->

### Позиция Отгрузки [/entity/demand/{id}/positions/{positionID}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Отгрузки
  + positionID: `34f6344f-015e-11e6-9464-e4de0000006c` (required, string) - id позиции Отгрузки

#### Получить позицию [GET]

Запрос на получение отдельной позиции Отгрузки с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Отгрузки.
  + Body
        <!-- include(body/demand/positions_get_by_id.json) -->

#### Изменить позицию [PUT]

Запрос на обновление отдельной позиции Отгрузки. Для обновления позиции нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в Отгрузке.
  + Body
        <!-- include(body/demand/positions_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции Отгрузки.
  + Body
        <!-- include(body/demand/positions_put_response.json) -->

#### Удалить позицию [DELETE]

Запрос на удаление отдельной позиции Отгрузки с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции Отгрузки.

<!-- include(metadata.apib) -->

## Документ Приёмка

Средствами JSON API можно создавать и обновлять сведения об Приёмках, запрашивать списки Приёмок и сведения по отдельным Приёмкам. Позициями Приёмок можно управлять как в составе отдельной Приёмки, так и отдельно - с помощью специальных ресурсов для управления позициями Приёмки. Кодом сущности для Приёмки в составе JSON API является ключевое слово **supply**. Больше об Приёмках и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по  [этой ссылке](https://support.moysklad.ru/hc/ru/articles/203325563-%D0%9F%D1%80%D0%B8%D1%91%D0%BC%D0%BA%D0%B0-%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%B2).

### Приёмки [/entity/supply]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) об Приёмке
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Приёмки
+ **description** - Комментарий Приёмки
+ **externalCode** - Внешний код Приёмки
+ **moment** - Дата Приёмки
+ **applicable** - Отметка о проведении
+ **vatEnabled** - Учитывается ли НДС
+ **vatIncluded** - Включен ли НДС в цену
+ **sum** - Сумма Приёмки в копейках `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Приёмки в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organizationAccount** - Ссылка на счёт вашего юрлица в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agentAccount** - Ссылка на счёт контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **vatSum** - Сумма НДС `Только для чтения`
+ **positions** - Ссылка на позиции в Приёмке в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **overhead** - Накладные расходы. Если Позиции Приёмки не заданы, то накладные расходы нельзя задать
  - **sum** - сумма накладных расходов
  - **distribution** - Распределение накладных расходов `[weight, volume, price]` -> `[по весу, по объёму, по цене]`
+ **payedSum** - Сумма исходящих платежей по приёмке
+ **incomingNumber** - Входящий номер
+ **incomingDate** - Входящая дата

##### Связи с другими документами

+ **purchaseOrder** - Ссылка на связанный заказ поставщику в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **factureIn** - Ссылка на Счет-фактура полученный, с которым связана эта Приёмка в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **invoicesIn** - Массив ссылок на связанные счета поставщиков в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **payments** - Массив ссылок на связанные платежи в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **returns** - Массив ссылок на связанные возвраты в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Позиции Приёмки

Позиции Приёмки - это список товаров/услуг/модификаций/серий.
Объект позиции Приёмки содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учёт по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.
+ **price** - Цена товара/услуги в копейках
+ **discount** - Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%
+ **vat** - НДС, которым облагается текущая позиция
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара
+ **things** - Серийные номера
+ **gtd** - ГТД
+ **country** - Ссылка на страну в формате [Метаданных](#header-метаданные)
Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете.
В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.

С позициями можно работать с помощью [специальных ресурсов для управления позициями Приёмки](#документ-приёмка-позиции-приёмки),
а также в составе отдельной Приёмки. При работе в составе отдельной Приёмки,
вы можете отправлять запросы на создание отдельной Приёмки с включенным в тело запроса
массивом позиций Приёмки. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Приёмки".
Также, при работе в составе отдельной Приёмки, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Приёмки. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Приёмки" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
+ **overhead** - Накладные расходы по позиции.

<!-- include(rate.apib) -->

О работе с доп. полями Приёмок можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить список Приёмок [GET]

Запрос всех Приёмок на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Приёмки.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Приёмок.
  + Body
        <!-- include(body/supply/get_list.json) -->

#### Создать Приёмку[POST]

Запрос на создание новой Приёмки.
Обязательные для создания поля:
+ **name** - номер Приёмки (номер)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agent** - Ссылка на контрагента (покупателя) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)


+ Request Пример (application/json)
Пример создания новой Приёмки.
  + Body
        <!-- include(body/supply/post_request_long.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Приёмки.
  + Body
        <!-- include(body/supply/post_response_long.json) -->

+ Request Пример с доп. полями (application/json)
Пример запроса на создание Приёмки с доп. полями.
  + Body
        <!-- include(body/supply/post_with_attributes_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Приёмки.
  + Body
        <!-- include(body/supply/post_with_attributes_response.json) -->


+ Request Пример с позициями (application/json)
Пример запроса на создание Приёмки с позициями в теле запроса.
  + Body
        <!-- include(body/supply/post_with_positions_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Приёмки.
  + Body
        <!-- include(body/supply/post_with_positions_response.json) -->

#### Массовое создание и обновление Приёмок [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Приёмок.
В теле запроса нужно передать массив, содержащий JSON представления Приёмок, которые вы хотите создать или обновить.
Обновляемые Приёмки должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Приёмок
  + Body
        <!-- include(body/supply/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Приёмок.
  + Body
        <!-- include(body/supply/post_massive_response.json) -->

#### Удалить Приёмку [DELETE /entity/supply/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Приёмки

Запрос на удаление Приёмки с указанным id.

+ Response 200 (application/json)
Успешное удаление Приёмки.

### Метаданные Приёмок [/entity/supply/metadata]
##### Метаданные Приёмок [GET]

Запрос на получение метаданных Приёмок. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Приёмок
+ **attributes** - Массив объектов доп. полей Приёмок в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Приёмок
+ **createShared** - создавать новые Приёмки с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Приёмок.
  + Body
        <!-- include(body/supply/get_metadata.json) -->

### Шаблон приемки [/entity/supply/new]
##### Шаблон приемки [PUT]

Запрос на получение предзаполненого стандартными значениями шаблона приемки без связи с каким-либо документом.

+ Request Пустое тело запроса (application/json)
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной приемки.
  + Body
        <!-- include(body/supply/new_empty.json) -->

#### Шаблон приемки на основе [PUT]

Запрос на получение предзаполненной приемки на основе заказа поставщику.
В результате запроса, будет создан предзаполненный шаблон приемки на основе переданного
заказа поставщику.
+ Request заказ поставщику (application/json)
Запрос на создание приемки на основе заказа поставщику.
  + Body
        <!-- include(body/supply/new_order_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной приемки.
  + Body
        <!-- include(body/supply/new_order_response.json) -->

+ Request счет поставщика (application/json)
Запрос на создание приемки на основе счёта поставщика.
  + Body
        <!-- include(body/supply/new_invoice_in_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной приемки.
  + Body
        <!-- include(body/supply/new_invoice_in_response.json) -->


### Отдельное доп. поле [/entity/supply/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/supply/metadata_by_id.json) -->

### Приёмка [/entity/supply/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Приёмки

#### Получить Приёмку [GET]

Запрос на получение отдельной Приёмки с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Приёмки.
  + Body
        <!-- include(body/supply/get_by_id.json) -->

#### Изменить Приёмку [PUT]

Запрос на обновление Приёмки с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Приёмки, кроме тех, что
помечены `Только для чтения` в описании [атрибутов Приёмки](#документ-приёмка-приёмки).
При обновлении полей **organization** и **agent** нужно также обновить поля **organizationAccount** и
**agentAccount** соответственно, иначе произойдёт ошибка.

+ Request Пример (application/json)
Пример запроса на обновление отдельной Приёмки.
  + Body
        <!-- include(body/supply/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой Приёмки.
  + Body
        <!-- include(body/supply/put_response.json) -->

### Позиции Приёмки [/entity/supply/{id}/positions]

Отдельный ресурс для управления позициями Приёмки. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Приёмки
  
#### Получить позиции Приёмки [GET]

Запрос на получение списка всех позиций данной Приёмки.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой позиции Приёмки.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельной Приёмки.
  + Body
        <!-- include(body/supply/positions_get_list.json) -->

#### Создать позицию Приёмки [POST]

Запрос на создание новой позиции в Приёмке.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем **service**, **consignment**, **variant** в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании [позиции Приёмки](#header-позиции-приёмки)
+ **quantity** - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Приёмки. Все созданные данным запросом позиции
будут добавлены к уже существующим.
+ Request Пример с одной позицией (application/json)
Пример создания одной позиции в Приёмке.
  + Body
        <!-- include(body/supply/positions_post_one_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельной Приёмки.
  + Body
        <!-- include(body/supply/positions_post_one_response.json) -->

+ Request Пример с несколькими позициями (application/json)
Пример создания сразу нескольких позиций в Приёмке.
  + Body
        <!-- include(body/supply/positions_post_some_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка созданных позиций отдельной Приёмки.
  + Body
        <!-- include(body/supply/positions_post_some_response.json) -->

### Позиция Приёмки [/entity/supply/{id}/positions/{positionID}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Приёмки
  + positionID: `34f6344f-015e-11e6-9464-e4de0000006c` (required, string) - id позиции Приёмки

#### Получить позицию [GET]

Запрос на получение отдельной позиции Приёмки с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Приёмки.
  + Body
        <!-- include(body/supply/positions_get_by_id.json) -->

#### Изменить позицию [PUT]

Запрос на обновление отдельной позиции Приёмки. Для обновления позиции нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в Приёмке.
  + Body
        <!-- include(body/supply/positions_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции Приёмки.
  + Body
        <!-- include(body/supply/positions_put_response.json) -->

#### Удалить позицию [DELETE]

Запрос на удаление отдельной позиции Приёмки с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции Приёмки.

<!-- include(metadata.apib) -->

## Документ Списание

Средствами JSON API можно создавать и обновлять сведения о Списаниях, запрашивать списки Списаний и сведения по отдельным Списаниям. Позициями Списаний можно управлять как в составе отдельного Списания, так и отдельно - с помощью специальных ресурсов для управления позициями Списания. Кодом сущности для Списания в составе JSON API является ключевое слово **loss**. Больше о Списаниях можно прочитать [этой ссылке](https://support.moysklad.ru/hc/ru/articles/203053096-%D0%A1%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B8-%D0%BE%D0%BF%D1%80%D0%B8%D1%85%D0%BE%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%B2).

### Списания [/entity/loss]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Списании
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Списания
+ **description** - Комментарий Списания
+ **externalCode** - Внешний код Списания
+ **moment** - Дата Списания
+ **applicable** - Отметка о проведении
+ **sum** - Сумма Списания в копейках `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Списания в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **positions** - Ссылка на позиции Списания в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Связи с другими документами

+ **salesReturn** - Ссылка на связанный со списанием возврат покупателя в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Позиции Списания

Позиции Списания - это список товаров/услуг/модификаций/серий.
Объект позиции Списания содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учёт по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.
+ **price** - Цена товара/услуги в копейках
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара
+ **things** - Серийные номера
Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете.
В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.

С позициями можно работать с помощью [специальных ресурсов для управления позициями Списания](#документ-списание-позиции-списания),
а также в составе отдельного Списания. При работе в составе отдельного Списания,
вы можете отправлять запросы на создание отдельного Списания с включенным в тело запроса
массивом позиций Списания. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Списания".
Также, при работе в составе отдельного Списания, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Списания. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Списания" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
+ **reason** - Причина списания данной позиции

<!-- include(rate.apib) -->

О работе с доп. полями Списаний можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить Списания [GET]

Запрос всех Списаний на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Списания.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Списаний.
  + Body
        <!-- include(body/loss/get_list.json) -->

#### Создать Списание [POST]

Запрос на создание нового Списания. Для успешного создания необходимо в теле запроса указать следующие поля:
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`

+ Request Пример создания нового Списания. (application/json)
    + Body
        <!-- include(body/loss/post_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Списания.
  + Body
        <!-- include(body/loss/post_response.json) -->

#### Массовое создание и обновление Списаний [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Списаний.
В теле запроса нужно передать массив, содержащий JSON представления Списаний, которые вы хотите создать или обновить.
Обновляемые Списания должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Списаний
  + Body
        <!-- include(body/loss/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Списаний.
  + Body
        <!-- include(body/loss/post_massive_response.json) -->

#### Удалить Списание [DELETE /entity/loss/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Списания

Запрос на удаление Списания с указанным id.
+ Response 200 (application/json)
Успешное удаление Списания.

### Метаданные Списаний [/entity/loss/metadata]
##### Метаданные Списаний [GET]

Запрос на получение метаданных Списаний. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Списаний
+ **attributes** - Массив объектов доп. полей Списаний в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Списаний
+ **createShared** - создавать новые Списания с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление метаданных Списаний.
  + Body
        <!-- include(body/loss/get_metadata.json) -->

### Отдельное доп. поле [/entity/loss/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/loss/metadata_by_id.json) -->

### Шаблон списания [/entity/loss/new]
##### Шаблон списания [PUT]

Запрос на получение предзаполненого стандартными значениями шаблона списания без связи с каким-либо документом.

+ Request Пустое тело запроса (application/json)
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного списания.
  + Body
        <!-- include(body/loss/new_empty.json) -->

#### Шаблон списания на основе [PUT]

Запрос на получение предзаполненного списания на основе возврата покупателя.
В результате запроса, будет создан предзаполненный шаблон списания на основе переданного
возврата покупателя.

+ Request Пример с заказом (application/json)
  + Body
        <!-- include(body/loss/new_order_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного списания.
  + Body
        <!-- include(body/loss/new_order_response.json) -->

### Списание [/entity/loss/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Списания
  
#### Получить Списание [GET]

Запрос на получение отдельного списания с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Списания.
  + Body
        <!-- include(body/loss/get_by_id.json) -->

#### Изменить Списание [PUT]

Запрос на обновление списания с указанным id.
+ Request Пример (application/json)
Пример запроса на обновление отдельного Списания.
  + Body
        <!-- include(body/loss/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Списания.
  + Body
        <!-- include(body/loss/put_response.json) -->

+ Request Пример с доп. полями (application/json)
Пример запроса на изменение Списания с дополнительными полями.
  + Body
        <!-- include(body/loss/put_with_attributes_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Списания.
  + Body
        <!-- include(body/loss/put_with_attributes_response.json) -->

### Позиции Списания [/entity/loss/{id}/positions]

Отдельный ресурс для управления позициями Списания. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Списания
  
#### Получить позиции Списания [GET]

Запрос на получение списка всех позиций данного Списания.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой позиции Списания.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Списания.
  + Body
        <!-- include(body/loss/positions_get_list.json) -->

#### Создать позицию Списания [POST]

Запрос на создание новой позиции в Списании.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем **service**, **consignment**, **variant** в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании [позиции Списания](#header-позиции-списания)
+ **quantity** - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Списания. Все созданные данным запросом позиции
будут добавлены к уже существующим.

+ Request Пример (application/json)
Пример создания позиций в Списании.
  + Body
        <!-- include(body/loss/positions_post_one_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного Списания.
  + Body
        <!-- include(body/loss/positions_post_one_response.json) -->

### Позиция Списания [/entity/loss/{id}/positions/{positionID}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Списания
  + positionID: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id позиции

#### Получить позицию [GET]

Запрос на получение отдельной позиции Списания с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Списания.
  + Body
        <!-- include(body/loss/positions_get_by_id.json) -->

#### Изменить позицию [PUT]

Запрос на обновление отдельной позиции Списания. Для обновления позиции нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в Списании.
  + Body
        <!-- include(body/loss/positions_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции Списания.
  + Body
        <!-- include(body/loss/positions_put_response.json) -->

#### Удалить позицию [DELETE]

Запрос на удаление отдельной позиции Списания с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции Списания.

## Документ Перемещение

Средствами JSON API можно создавать и обновлять сведения о Перемещениях, запрашивать списки Перемещений и сведения по отдельным Перемещениям. Позициями Перемещений можно управлять как в составе отдельного Перемещения, так и отдельно - с помощью специальных ресурсов для управления позициями Перемещения. Кодом сущности для Перемещения в составе JSON API является ключевое слово **move**.

### Перемещения [/entity/move]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Перемещении
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Перемещения `Необходимое`
+ **description** - Комментарий Перемещения
+ **externalCode** - Внешний код Перемещения
+ **moment** - Дата Перемещение
+ **applicable** - Отметка о проведении
+ **sum** - Сумма Перемещения в копейках `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Перемещения в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **positions** - Ссылка на позиции в Перемещении в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **overhead** - Накладные расходы
  - **sum** - сумма накладных расходов
  - **distribution** - Распределение накладных расходов `[weight, volume, price]` -> `[по весу, по объёму, по цене]`
+ **sourceStore** - Ссылка на склад, с которого совершается перемещение, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **targetStore** - Ссылка на склад, на который совершается перемещение, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **internalOrder** - Ссылка на внутренний заказ, связанный с перемещением, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Позиции Перемещения

Позиции Перемещения - это список товаров/услуг/модификаций/серий.
Объект позиции Перемещения содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учёт по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.
+ **price** - Цена товара/услуги в копейках
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара
+ **things** - Серийные номера
Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете.
В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.

С позициями можно работать с помощью [специальных ресурсов для управления позициями Перемещения](#документ-перемещение-позиции-перемещения),
а также в составе отдельного Перемещения. При работе в составе отдельного Перемещения,
вы можете отправлять запросы на создание отдельного Перемещения с включенным в тело запроса
массивом позиций Перемещения. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Перемещения".
Также, при работе в составе отдельного Перемещения, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Перемещения. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Перемещения" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
+ **overhead** - Накладные расходы

<!-- include(rate.apib) -->

О работе с доп. полями Перемещений можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить Перемещения [GET]

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Перемещений.
  + Body
        <!-- include(body/move/get_list.json) -->
        
#### Создать Перемещение [POST]

Запрос на создание нового Перемещения
+ Request Пример (application/json)
Пример создания нового Перемещения с телом запроса, содержащим только необходимые поля.
  + Body
        <!-- include(body/move/post_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Перемещения.
  + Body
        <!-- include(body/move/post_response.json) -->

#### Массовое создание и обновление Перемещений [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Перемещений.
В теле запроса нужно передать массив, содержащий JSON представления Перемещений, которые вы хотите создать или обновить.
Обновляемые Перемещения должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Перемещений
  + Body
        <!-- include(body/move/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Перемещений.
  + Body
        <!-- include(body/move/post_massive_response.json) -->

#### Удалить Перемещение [DELETE /entity/move/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Перемещения
Запрос на удаление Перемещения с указанным id.
+ Response 200 (application/json)
Успешное удаление Перемещения.

### Шаблон перемещения [/entity/move/new]
##### Шаблон перемещения [PUT]

Запрос на получение предзаполненого стандартными значениями шаблона перемещения без связи с каким-либо документом.

+ Request Пустое тело запроса (application/json)

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного перемещения.
  + Body
        <!-- include(body/move/new_empty.json) -->

#### Шаблон перемещения на основе [PUT]

Запрос на получение предзаполненного шаблона перемещения на основе внутреннего заказа.
В ответ на запрос вернётся предзаполненный шаблон перемещения, который
затем можно будет использовать для создания нового перемещения с помощью POST запроса.

+ Request внутренний заказ (application/json)
Пример запроса на получение шаблона перемещения на основе внутреннего заказа.
  + Body
        <!-- include(body/move/new_base_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного перемещения.
  + Body
        <!-- include(body/move/new_base_response.json) -->

### Метаданные Перемещений [/entity/move/metadata]
##### Метаданные Перемещений [GET]

Запрос на получение метаданных Перемещений. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Перемещений
+ **attributes** - Массив объектов доп. полей Перемещений в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Перемещений
+ **createShared** - создавать новые Перемещения с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление метаданных Перемещений.
  + Body
        <!-- include(body/move/get_metadata.json) -->

### Отдельное доп. поле [/entity/move/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/move/metadata_by_id.json) -->

### Перемещение [/entity/move/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Перемещения
  
#### Получить Перемещение [GET]

Запрос на получение отдельного Перемещения с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Перемещения.
  + Body
        <!-- include(body/move/get_by_id.json) -->

#### Изменить Перемещение [PUT]

Запрос на обновление Перемещения с указанным id.
+ Request Пример (application/json)
Пример запроса на обновление отдельного Перемещения.
  + Body
        <!-- include(body/move/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Перемещения.
  + Body
        <!-- include(body/move/put_response.json) -->

### Позиции Перемещения [/entity/move/{id}/positions]

Отдельный ресурс для управления позициями Перемещения. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Перемещения
  
#### Получить позиции [GET]

Запрос на получение списка всех позиций данного Перемещения.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой позиции Перемещения.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Перемещения.
  + Body
        <!-- include(body/move/positions_get_list.json) -->

#### Создать позицию [POST]

Запрос на создание новой позиции в Перемещении.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем **service**, **consignment**, **variant** в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании [позиции Перемещения](#header-позиции-перемещения)
+ **quantity** - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Перемещения. Все созданные данным запросом позиции
будут добавлены к уже существующим.

+ Request Пример (application/json)
Пример создания позиций в Перемещении.
  + Body
        <!-- include(body/move/positions_post_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного Перемещения.
  + Body
        <!-- include(body/move/positions_post_response.json) -->
        
### Позиция Перемещения [/entity/move/{id}/positions/{positionID}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Перемещения
  + positionID: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Перемещения
  
#### Получить позицию [GET]

Запрос на получение отдельной позиции Перемещения с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Перемещения.
  + Body
        <!-- include(body/move/positions_get_by_id.json) -->
        
#### Изменить позицию [PUT]

Запрос на обновление отдельной позиции Перемещения. Для обновления позиции нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в Перемещении.
  + Body
        <!-- include(body/move/positions_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции Перемещения.
  + Body
        <!-- include(body/move/positions_put_response.json) -->

#### Удалить позицию [DELETE]

Запрос на удаление отдельной позиции Перемещения с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции Перемещения.

<!-- include(metadata.apib) -->

## Документ Розничная продажа

Средствами JSON API можно создавать и обновлять сведения о Розничных продажах, запрашивать списки Розничных продаж и сведения по отдельным Розничным продажам. Позициями Розничных продаж можно управлять как в составе отдельной Розничной продажи, так и отдельно - с помощью специальных ресурсов для управления позициями Розничными продажами. Кодом сущности для Розничной продажи в составе JSON API является ключевое слово **retaildemand**. Больше о Розничных продажах и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по  [этой ссылке](https://support.moysklad.ru/hc/ru/articles/203325423-%D0%A0%D0%BE%D0%B7%D0%BD%D0%B8%D1%86%D0%B0) в разделе Оформление продажи.

### Розничные продажи [/entity/retaildemand]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Розничной продаже
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Розничной продажи
+ **description** - Комментарий Розничной продажи
+ **externalCode** - Внешний код Розничной продажи
+ **moment** - Дата Розничной продажи
+ **applicable** - Отметка о проведении
+ **vatEnabled** - Учитывается ли НДС
+ **vatIncluded** - Включен ли НДС в цену
+ **sum** - Сумма Розничной продажи в копейках `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Розничной продажи в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organizationAccount** - Ссылка на счёт вашего юрлица в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agentAccount** - Ссылка на счёт контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **documents** - Список печатных форм в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **vatSum** - Сумма НДС `Только для чтения`
+ **positions** - Ссылка на позиции Розничной продажи в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **fiscalPrinterInfo** - Информация о фискальном регистраторе
+ **documentNumber** - Номер документа
+ **checkNumber** - Номер чека
+ **checkSum** - Сумма Чека
+ **fiscal** - Отметка о том, был ли использован ФР `Только для чтения`
+ **sessionNumber** - Номер сессии
+ **ofdCode** -Код оператора фискальных данных
+ **payedSum** - Сумма входящих платежей по Розничной продаже `Только для чтения`
+ **retailStore** - Ссылка на точку продаж в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **customerOrder** - Ссылка на Заказ Покупателя, с которым связана эта Розничная продажа в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **retailShift** - Ссылка на Розничную смену, в рамках которой была проведена продажа в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **cashSum**  - Оплачено наличными
+ **noCashSum** - Оплачено картой

##### Позиции Розничной продажи

Позиции Розничной продажи - это список товаров/услуг/модификаций/серий.
Объект позиции Розничной продажи содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учёт по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.
+ **price** - Цена товара/услуги в копейках
+ **discount** - Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%
+ **vat** - НДС, которым облагается текущая позиция
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара
+ **things** - Серийные номера
Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете.
В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.
+ **cost** - Себестоимость (только для услуг)

С позициями можно работать с помощью специальных [ресурсов для управления позициями Розничной продажи](#документ-розничная-продажа-позиции-розничной-продажи),
а также в составе отдельной Розничной продажи. При работе в составе отдельной Розничной продажи,
вы можете отправлять запросы на создание отдельной Розничной продажи с включенным в тело запроса
массивом позиций Розничной продажи. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Розничной продажи".
Также, при работе в составе отдельной Розничной продажи, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Розничной продажи. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Розничной продажи" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.

<!-- include(rate.apib) -->

О работе с доп. полями Розничных продаж можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить Розничные продажи [GET]

Запрос всех Розничных продаж на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Розничные продажи.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Розничных продаж.
  + Body
        <!-- include(body/retaildemand/get_list.json) -->

#### Создать Розничную продажу [POST]

Розничная смена, на которую указывает ссылка при создании Розничной продажи обязательно должна быть активной.
При создании Розничной продажи через JSON API, дата, указанная в **moment** продажи
должна быть позже даты, указанной в **moment** активной розничной смены, иначе
произойдёт ошибка. Также, если вы указываете поля **cashSum** и **noCashSum** их сумма должна совпадать с суммой по Розничной продаже
(т.е. с суммарной стоимостью всех переданных вами позиций).
Обязательные поля при создании новой Розничной продажи:
+ **name** - Номер продажи
+ **retailShift** - Сссылка на Розничную смену, в рамках которой происходит продажа

+ Request Пример 1 (application/json)
Пример создания новой Розничной продажи с телом запроса, содержащим только необходимые поля.
  + Body
        <!-- include(body/retaildemand/post_short_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Розничной продажи.
  + Body
        <!-- include(body/retaildemand/post_short_response.json) -->

+ Request Пример 2 (application/json)
Пример создания новой Розничной продажи с более насыщенным телом запроса.
  + Body
        <!-- include(body/retaildemand/post_long_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Розничной продажи.
  + Body
        <!-- include(body/retaildemand/post_long_response.json) -->

+ Request Пример с позициями (application/json)
Пример запроса на создание Розничной продажи с позициями в теле запроса.
  + Body
        <!-- include(body/retaildemand/post_with_positions_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Розничной продажи.
  + Body
        <!-- include(body/retaildemand/post_with_positions_response.json) -->
+ Request Пример с доп полями (application/json)
Пример запроса на создание Розничной продажи с доп. полями.
  + Body
        <!-- include(body/retaildemand/post_with_attributes_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Розничной продажи.
  + Body
        <!-- include(body/retaildemand/post_with_attributes_response.json) -->

#### Массовое создание и обновление Розничных продаж [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Розничных продаж.
В теле запроса нужно передать массив, содержащий JSON представления Розничных продаж, которые вы хотите создать или обновить.
Обновляемые Розничные продажи должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Розничных продаж
  + Body
        <!-- include(body/retaildemand/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Розничных продаж.
  + Body
        <!-- include(body/retaildemand/post_massive_response.json) -->

#### Удалить Розничную продажу [DELETE /entity/retaildemand/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Розничной продажи

Запрос на удаление Розничной продажи с указанным id.

+ Response 200 (application/json)
Успешное удаление Розничной продажи.

### Метаданные Розничных продаж [/entity/retaildemand/metadata]
##### Метаданные Розничных продаж [GET]

Запрос на получение метаданных Розничных продаж. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Розничных продаж
+ **attributes** - Массив объектов доп. полей Розничных продаж в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Розничных продаж
+ **createShared** - создавать новые Розничные продажи с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Розничных продаж.
  + Body
        <!-- include(body/retaildemand/get_metadata.json) -->

### Отдельное доп. поле [/entity/retaildemand/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/retaildemand/metadata_by_id.json) -->

### Шаблон розничной продажи [/entity/retaildemand/new]
##### Шаблон розничной продажи [PUT]

Запрос на получение предзаполненого стандартными значениями шаблона розничной продажи на основе других документов.
При получении шаблона розничной продажи, всегда обязательно указывать ссылку на розничную смену. Без связи со сменой, получить шаблон продажи нельзя.
Шаблон продажи можно получить на основе:
+ Розничной смены
+ Заказа покупателя

+ Request Пример со сменой (application/json)
Пример получения шаблона розничной продажи с телом запроса, содержащим информацию о розничной смене.
  + Body
        <!-- include(body/retaildemand/post_short_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной розничной продажи.
  + Body
        <!-- include(body/retaildemand/new_empty.json) -->

+ Request Пример с заказом (application/json)
Пример получения шаблона розничной продажи с телом запроса, содержащим информацию о розничной смене и заказе покупателя.
  + Body
        <!-- include(body/retaildemand/put_new_by_customerorder.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной розничной продажи.
  + Body
        <!-- include(body/retaildemand/new_by_customerorder.json) -->

### Розничная продажа [/entity/retaildemand/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Розничной продажи

#### Получить Розничную продажу [GET]

Запрос на получение отдельной Розничной продажи с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Розничной продажи с указанным id.
  + Body
        <!-- include(body/retaildemand/get_by_id.json) -->

#### Изменить Розничную продажу [PUT]

Запрос на обновление Розничной продажи с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Розничной продажи, кроме тех, что
помечены `Только для чтения` в описании [атрибутов Розничной продажи](#документ-розничная-продажа-розничные-продажи).
При обновлении полей **organization** и **agent** нужно также обновить поля **organizationAccount** и
**agentAccount** соответственно, иначе произойдёт ошибка.
Также, если вы изменяете поля **cashSum** и **noCashSum** их сумма должна совпадать с суммой по Розничной продаже (т.е. с суммарной стоимостью всех позиций).

+ Request Пример 1 (application/json)
Пример запроса на обновление Розничной продажи.
  + Body
        <!-- include(body/retaildemand/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой Розничной продажи.
  + Body
        <!-- include(body/retaildemand/put_response.json) -->


+ Request Пример 2 (application/json)
Пример запроса на обновление Розничной продажи с доп. полями и позициями в теле запроса.
  + Body
        <!-- include(body/retaildemand/put_with_collections_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой Розничной продажи.
  + Body
        <!-- include(body/retaildemand/put_with_collections_response.json) -->

### Позиции Розничной продажи [/entity/retaildemand/{id}/positions]

Отдельный ресурс для управления позициями Розничной продажи. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Розничной продажи
  
#### Получить Позиции [GET]

Запрос на получение списка всех позиций данной Розничной продажи.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой позиции Розничной продажи.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций Розничной продажи.
  + Body
        <!-- include(body/retaildemand/positions_get_list.json) -->

#### Создать Позицию [POST]

Запрос на создание новой позиции в Розничной продаже.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем **service**, **consignment**, **variant** в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании [позиции Розничной продажи](#header-позиции-розничной-продажи).
+ **quantity** - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Розничной продажи. Все созданные данным запросом позиции
будут добавлены к уже существующим.
+ Request Пример (application/json)
Пример запроса на создание позиций в Розничной продаже.
  + Body
        <!-- include(body/retaildemand/positions_post_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданных позиций.
  + Body
        <!-- include(body/retaildemand/positions_post_response.json) -->

### Позиция Розничной продажи [/entity/retaildemand/{id}/positions/{positionID}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Розничной продажи
  + positionID: `34f6344f-015e-11e6-9464-e4de0000006c` (required, string) - id позиции Розничной продажи
  
#### Получить Позицию [GET]

Запрос на получение отдельной позиции Розничной продажи с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Розничной продажи.
  + Body
        <!-- include(body/retaildemand/positions_get_by_id.json) -->
        
#### Изменить Позицию [PUT]

Запрос на обновление отдельной позиции Розничной продажи.
+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в Розничной продаже.
  + Body
        <!-- include(body/retaildemand/positions_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции Розничной продажи.
  + Body
        <!-- include(body/retaildemand/positions_put_response.json) -->

#### Удалить позицию [DELETE]

Запрос на удаление отдельной позиции Розничной продажи с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции Розничной продажи.

<!-- include(metadata.apib) -->

## Документ Розничный возврат

Средствами JSON API можно создавать и обновлять сведения о Розничных возвратах, запрашивать списки Розничных возвратов и сведения по отдельным Розничным возвратам. Позициями Розничных возвратов  можно управлять как в составе отдельного Возврата, так и отдельно - с помощью специальных ресурсов для управления позициями Розничного возврата. Кодом сущности для Розничного возврата в составе JSON API является ключевое слово **retailsalesreturn**.

### Розничные возвраты [/entity/retailsalesreturn]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Розничном возврате
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Розничного возврата
+ **description** - Комментарий Розничного возврата
+ **externalCode** - Внешний код Розничного возврата
+ **moment** - Дата Розничного возврата
+ **applicable** - Отметка о проведении
+ **vatEnabled** - Учитывается ли НДС
+ **vatIncluded** - Включен ли НДС в цену
+ **sum** - Сумма Розничного возврата в копейках `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Розничного возврата в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organizationAccount** - Ссылка на счёт вашего юрлица в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agentAccount** - Ссылка на счёт контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **vatSum** - Сумма НДС `Только для чтения`
+ **positions** - Ссылка на позиции Розничного возврата в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **demand** - Ссылка на Розничную продажу, по которой произошёл возврат в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные). Поле является необходимым для возврата на основании.
+ **retailStore** - Ссылка на точку продаж в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **retailShift** - Ссылка на Розничную смену, в рамках которой была проведена продажа в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **cashSum**  - Оплачено наличными. Поле является необходимым для возврата без основания
+ **noCashSum** - Оплачено картой. Поле является необходимым для возврата без основания

##### Позиции Розничного возврата

Позиции Розничного возврата - это список товаров/услуг/модификаций/серий.
Объект позиции Розничного возврата содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учёт по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.
+ **price** - Цена товара/услуги в копейках
+ **discount** - Процент скидки или наценки. Должен совпадать с указанным в продаже (игнорируется для возврата без основания)
+ **vat** - НДС, которым облагается текущая позиция
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара
+ **cost** - Себестоимость за единицу в копейках. Можно задать только для розничных возвратов без основания.
+ **things** - Серийные номера
Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете.
В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.

С позициями можно работать с помощью специальных [ресурсов для управления позициями Розничного возврата](#документ-розничный-возврат-позиции-розничного-возврата),
а также в составе отдельного Розничного возврата. При работе в составе отдельного Розничного возврата,
вы можете отправлять запросы на создание отдельного Розничного возврата с включенным в тело запроса
массивом позиций Розничного возврата. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Розничного возврата".
Также, при работе в составе отдельного Розничного возврата, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Розничного возврата. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Розничного возврата" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.

<!-- include(rate.apib) -->

О работе с доп. полями Розничных возвратов можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить Розничные возвраты [GET]

Запрос всех Розничных возвратов на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Розничные возвраты.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Розничных возвратов.
  + Body
        <!-- include(body/retail_sales_return/get_list.json) -->

#### Создать Розничный возврат [POST]

Розничная смена, на которую указывает ссылка при создании Розничного возврата обязательно должна быть активной.
При создании Розничного возврата через JSON API, дата, указанная в **moment** возврата
должна быть позже даты, указанной в **moment** активной розничной смены, иначе
произойдёт ошибка.
Обязательные поля при создании нового Розничного возврата:
+ **name** - Номер возврата
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **demand** - Ссылка на Розничную продажу, по которой произошёл возврат в формате [Метаданных](#header-метаданные), обязательное поле только для возврата на основании
+ **retailStore** - Ссылка на точку продаж в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **retailShift** - Сссылка на Розничную смену, в рамках которой происходит возврат
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные).
Контрагент, указанный в запросе на создание возврата, должен совпадать с контрагентом, указанном в документе, по которому создаётся возврат.
+ **cashSum**  - Оплачено наличными. Поле является необходимым для возврата без основания
+ **noCashSum** - Оплачено картой. Поле является необходимым для возврата без основания

При создании возврата:
+ Контрагент в возврате и в документе, по которому он создаётся, должны совпадать
+ Валюта и юрлицо в возврате и в документе так же должны совпадать
+ При передаче коллекции **positions** в теле запроса на создание возврата, передаваемые позиции
должны соответствовать позициям в документе. Различие может быть только в количестве товара в позиции
(меньшее либо равное количеству в документе). Нельзя передать позиции, которых нет в документе.

+ Request Пример 1 (application/json)
Пример создания новой Розничного возврата с телом запроса, содержащим только необходимые поля.
  + Body
        <!-- include(body/retail_sales_return/post_short_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Розничного возврата.
  + Body
        <!-- include(body/retail_sales_return/post_short_response.json) -->

+ Request Пример 2 (application/json)
Пример создания нового Розничного возврата с более насыщенным телом запроса.
  + Body
        <!-- include(body/retail_sales_return/post_long_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Розничного возврата.
  + Body
        <!-- include(body/retail_sales_return/post_long_response.json) -->

+ Request Пример с позициями (application/json)
Пример запроса на создание Розничного возврата с позициями в теле запроса.
  + Body
        <!-- include(body/retail_sales_return/post_with_positions_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Розничного возврата.
  + Body
        <!-- include(body/retail_sales_return/post_with_positions_response.json) -->

+ Request Возврат без основания (application/json)
Пример запроса на создание Розничного возврата без основания.
  + Body
        <!-- include(body/retail_sales_return/post_with_positions_request_without_demand.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Розничного возврата.
  + Body
        <!-- include(body/retail_sales_return/post_with_positions_response_without_demand.json) -->

#### Массовое создание и обновление Розничных возвратов [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Розничных возвратов.
В теле запроса нужно передать массив, содержащий JSON представления Розничных возвратов, которые вы хотите создать или обновить.
Обновляемые Розничные возвраты должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Розничных возвратов
  + Body
        <!-- include(body/retail_sales_return/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Розничных возвратов.
  + Body
        <!-- include(body/retail_sales_return/post_massive_response.json) -->

#### Удалить Розничный возврат [DELETE /entity/retailsalesreturn/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Розничного возврата

Запрос на удаление Розничного возврата с указанным id.

+ Response 200 (application/json)
Успешное удаление Розничного возврата.

### Метаданные Розничных возвратов [/entity/retailsalesreturn/metadata]
##### Метаданные Розничных возвратов [GET]

Запрос на получение метаданных Розничных возвратов. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Розничных возвратов
+ **attributes** - Массив объектов доп. полей Розничных возвратов в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Розничных возвратов
+ **createShared** - создавать новые Розничные возвраты с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Розничных возвратов.
  + Body
        <!-- include(body/retail_sales_return/get_metadata.json) -->

### Отдельное доп. поле [/entity/retailsalesreturn/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/retail_sales_return/metadata_by_id.json) -->

### Шаблон розничного возврата [/entity/retailsalesreturn/new]
##### Шаблон розничного возврата на основе [PUT]

Запрос на получение предзаполненого стандартными значениями
шаблона розничного возврата на основе других документов.
Шаблон розничного возврата можно получить на основе:
+ Розничной смены
+ Розничной продажи

При запросе шаблона только с розничной сменой в результате получиться шаблон возврата без основания.
При запросе шаблона с указанием розничной продажи, розничная смена может быть заполнена из неё.

+ Request Пример со сменой (application/json)
Пример запроса на создание шаблона розничного возврата на основе смены.
  + Body
        <!-- include(body/retail_sales_return/new_retailshift_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного розничного возврата.
  + Body
        <!-- include(body/retail_sales_return/new_retailshift_response.json) -->

+ Request Пример с розничной продажей (application/json)
Пример запроса на создание шаблона розничного возврата на основе розничной продажи.
  + Body
        <!-- include(body/retail_sales_return/new_base_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного розничного возврата.
  + Body
        <!-- include(body/retail_sales_return/new_base_response.json) -->

### Розничный возврат [/entity/retailsalesreturn/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id розничного возврата
  
#### Получить Розничный возврат [GET]

Запрос на получение отдельного Розничного возврата с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Розничного возврата с указанным id.
  + Body
        <!-- include(body/retail_sales_return/get_by_id.json) -->

#### Изменить Розничный возврат [PUT]

Запрос на обновление Розничного возврата с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Розничного возврата, кроме тех, что
помечены `Только для чтения` в описании [атрибутов Розничного возврата](#документ-розничный-возврат-розничные-возвраты).
При обновлении поля **organization** нужно также обновить поле **organizationAccount** иначе произойдёт ошибка.

Контрагент должен совпадать с контрагентом, указанным в документе, по которому создаётся возврат.

При обновлении возврата:
+ Нельзя изменять следующие поля: **agentAccount**, **agent**, **demand**
+ Нельзя выставить валюту отличную от валюты в документе
+ Нельзя добавить позиции, отсутствующие среди позиций документа.

+ Request Пример (application/json)
Пример запроса на обновление Розничного возврата.
  + Body
        <!-- include(body/retail_sales_return/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Розничного возврата.
  + Body
        <!-- include(body/retail_sales_return/put_response.json) -->

### Позиции Розничного возврата [/entity/retailsalesreturn/{id}/positions]

Отдельный ресурс для управления позициями Розничного возврата. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Розничного возврата
  
#### Получить Позиции [GET]

Запрос на получение списка всех позиций данной Розничного возврата.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой позиции Розничного возврата.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций Розничного возврата.
  + Body
        <!-- include(body/retail_sales_return/positions_get_list.json) -->

#### Создать Позицию [POST]

Запрос на создание новой позиции в Розничном возврате.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем **service**, **consignment**, **variant** в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании [позиции Розничного возврата](#header-позиции-розничного-возврата).
+ **quantity** - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Розничного возврата. Все созданные данным запросом позиции
будут добавлены к уже существующим.
Нельзя создавать позиции, отличные от позиций в документе, по которому создаётся возврат. Допустимо только
отличие в **quantity** позиций (количество в позиции в возврате м.б. меньше или равно количеству в позиции в документе).
+ Request Пример (application/json)
Пример запроса на создание позиций в Розничном возврате.
  + Body
        <!-- include(body/retail_sales_return/positions_post_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданных позиций.
  + Body
        <!-- include(body/retail_sales_return/positions_post_response.json) -->

### Позиция Розничного возврата [/entity/retailsalesreturn/{id}/positions/{positionID}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Розничного возврата
  + positionID: `34f6344f-015e-11e6-9464-e4de0000006c` (required, string) - id позиции Розничного возврата
  
#### Получить Позицию [GET]

Запрос на получение отдельной позиции Розничного возврата с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Розничного возврата.
  + Body
        <!-- include(body/retail_sales_return/positions_get_by_id.json) -->
        
#### Изменить Позицию [PUT]

Запрос на обновление отдельной позиции Розничного возврата.
При обновлении отдельной позиции в возврате можно только изменить количество данной позиции.
Причём это количество должно быть в пределах [1, n], где n - кол-во данной позиции в документе, по которому создан возврат.
+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в Розничном возврате.
  + Body
        <!-- include(body/retail_sales_return/positions_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции Розничного возврата.
  + Body
        <!-- include(body/retail_sales_return/positions_put_response.json) -->

#### Удалить позицию [DELETE]

Запрос на удаление отдельной позиции Розничного возврата с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции Розничного возврата.

<!-- include(metadata.apib) -->

## Документ Внесение денег

Средствами JSON API можно создавать и обновлять сведения о внесениях денег, запрашивать списки внесений денег и сведения по отдельным внесениям денег. Кодом сущности для внесения денег в составе JSON API является ключевое слово **retaildrawercashin**. Больше о внесениях денег и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по  [этой ссылке](https://support.moysklad.ru/hc/ru/articles/203325423-%D0%A0%D0%BE%D0%B7%D0%BD%D0%B8%D1%86%D0%B0#10).

### Внесения денег [/entity/retaildrawercashin/]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о внесении денег
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер внесения денег
+ **description** - Комментарий внесения денег
+ **externalCode** - Внешний код внесения денег
+ **moment** - Дата внесения
+ **applicable** - Отметка о проведении
+ **sum** - Сумма внесения в установленной валюте `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **agent** - Ссылка на сотрудника, совершившего внесение, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **state** - Статус внесения в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`

##### Связи с другими документами

+ **retailShift** - Ссылка на розничную смену, в рамках которой было выполнено внесение денег в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`

<!-- include(rate.apib) -->

#### Получить внесения денег [GET]

Запрос на получение всех внесений денег на данной учётной записи.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка внесений денег.
  + Body
        <!-- include(body/retaildrawercashin/get_list.json) -->

#### Создать внесение денег [POST]

Запрос на создание внесения денег.
+ Request Пример 1 (application/json)
Пример создания нового внесения денег.
  + Body
        <!-- include(body/retaildrawercashin/post_request.json) -->
+ Response 200
  + Body
        <!-- include(body/retaildrawercashin/post_response.json) -->

#### Массовое создание и обновление внесений денег [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) внесений денег.
В теле запроса нужно передать массив, содержащий JSON представления внесений денег, которые вы хотите создать или обновить.
Обновляемые внесения денег должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких внесений денег
  + Body
        <!-- include(body/retaildrawercashin/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных внесений денег.
  + Body
        <!-- include(body/retaildrawercashin/post_massive_response.json) -->

#### Удалить внесение денег [DELETE /entity/retaildrawercashin/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id внесения денег

Запрос на удаление внесения денег с указанным id.

### Метаданные внесений денег [/entity/retaildrawercashin/metadata]
##### Метаданные внесений денег [GET]

Запрос на получение метаданных внесений денег. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные внесений денег
+ **attributes** - Массив объектов доп. полей внесений денег в формате [Метаданных](#header-метаданные)
+ **states** - Массив статусов внесений денег
+ **createShared** - создавать новые внесения денег с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей внесений денег.
  + Body
        <!-- include(body/retaildrawercashin/get_metadata.json) -->

### Отдельное доп. поле [/entity/retaildrawercashin/metadata/attributes/{id}]

+ Parameters
  + id: `5290a290-0313-11e6-9464-e4de00000020` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/retaildrawercashin/metadata_by_id.json) -->

### Шаблон внесения денег [/entity/retaildrawercashin/new]
##### Шаблон внесения денег [PUT]

Запрос на получение предзаполненого стандартными значениями шаблона внесения денег без связи с каким-либо документом.

+ Request Пустое тело запроса (application/json)

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного внесения денег.
  + Body
        <!-- include(body/retaildrawercashin/new_empty.json) -->

#### Шаблон внесения денег на основе [PUT]

Запрос на получение предзаполненного внесения денег на основе розничной смены.
В результате запроса, будет создан предзаполненный шаблон внесения денег на основе переданной
розничной смены.
<br>
Внимание! Не забывайте, что поле **retailShift** должно быть написано с большой S.
+ Request Пример с розничной сменой (application/json)
Запрос на создание внесения денег на основе розничной смены.
  + Body
        <!-- include(body/retaildrawercashin/new_shift_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного внесения денег.
  + Body
        <!-- include(body/retaildrawercashin/new_shift_response.json) -->

### Внесение денег [/entity/retaildrawercashin/{id}]
#### Получить внесение денег [GET]

Запрос на получение отдельного внесения денег с указанным id.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление внесения денег с указанным id.
  + Body
        <!-- include(body/retaildrawercashin/get_by_id.json) -->

#### Изменить внесение денег [PUT]

Запрос на обновление внесения денег.
+ Request Пример 1 (application/json)
Пример обновления внесения денег.
  + Body
        <!-- include(body/retaildrawercashin/put_request.json) -->
+ Response 200
  + Body
        <!-- include(body/retaildrawercashin/put_response.json) -->

<!-- include(metadata.apib) -->

## Документ Выплата денег

Средствами JSON API можно создавать и обновлять сведения о выплатах денег, запрашивать списки выплат денег и сведения по отдельным выплатам денег. Кодом сущности для внесения денег в составе JSON API является ключевое слово **retaildrawercashout**. Больше о выплатах денег и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по  [этой ссылке](https://support.moysklad.ru/hc/ru/articles/203325423-%D0%A0%D0%BE%D0%B7%D0%BD%D0%B8%D1%86%D0%B0#11)

### Выплаты денег [/entity/retaildrawercashout/]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выплате денег
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер выплаты денег
+ **description** - Комментарий выплаты денег
+ **externalCode** - Внешний код выплаты денег
+ **moment** - Дата выплаты
+ **applicable** - Отметка о проведении
+ **sum** - Сумма выплата в установленной валюте `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **agent** - Ссылка на сотрудника, которому была совершена выплата, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **state** - Статус выплаты в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`

##### Связи с другими документами

+ **retailShift** - Ссылка на розничную смену, в рамках которой была выполнена выплата денег в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`

<!-- include(rate.apib) -->

#### Получить выплаты денег [GET]

Запрос на получение всех выплат денег на данной учётной записи.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка выплат денег.
  + Body
        <!-- include(body/retaildrawercashout/get_list.json) -->

#### Создать выплату денег [POST]

Запрос на создание выплаты денег.

+ Request Пример 1 (application/json)
Пример создания новой выплаты денег.
  + Body
        <!-- include(body/retaildrawercashout/post_request.json) -->
+ Response 200
  + Body
        <!-- include(body/retaildrawercashout/post_response.json) -->

#### Массовое создание и обновление выплат денег [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) выплат денег.
В теле запроса нужно передать массив, содержащий JSON представления выплат денег, которые вы хотите создать или обновить.
Обновляемые выплаты денег должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких выплат денег
  + Body
        <!-- include(body/retaildrawercashout/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных выплат денег.
  + Body
        <!-- include(body/retaildrawercashout/post_massive_response.json) -->

#### Удалить внесение денег [DELETE /entity/retaildrawercashout/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id выплаты денег

Запрос на удаление выплаты денег с указанным id.

### Метаданные выплат денег [/entity/retaildrawercashout/metadata]
##### Метаданные выплат денег [GET]

Запрос на получение метаданных выплат денег. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные выплат денег
+ **attributes** - Массив объектов доп. полей выплат денег в формате [Метаданных](#header-метаданные)
+ **states** - Массив статусов выплат денег
+ **createShared** - создавать новые выплаты денег с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей выплат денег.
  + Body
        <!-- include(body/retaildrawercashout/get_metadata.json) -->

### Отдельное доп. поле [/entity/retaildrawercashout/metadata/attributes/{id}]

+ Parameters
  + id: `5290a290-0313-11e6-9464-e4de00000020` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/retaildrawercashout/metadata_by_id.json) -->

### Шаблон выплаты денег [/entity/retaildrawercashout/new]
##### Шаблон выплаты денег [PUT]

Запрос на получение предзаполненого стандартными значениями шаблона выплаты денег без связи с каким-либо документом.

+ Request Пустое тело запроса (application/json)

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной выплаты денег.
  + Body
        <!-- include(body/retaildrawercashout/new_empty.json) -->

#### Шаблон выплаты денег на основе [PUT]

Запрос на получение предзаполненной выплаты денег на основе розничной смены.
В результате запроса, будет создан предзаполненный шаблон выплаты денег на основе переданной
розничной смены.

+ Request Пример с розничной сменой (application/json)
Запрос на создание выплаты денег на основе розничной смены.
  + Body
        <!-- include(body/retaildrawercashout/new_shift_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной выплаты денег.
  + Body
        <!-- include(body/retaildrawercashout/new_shift_response.json) -->

### Выплата денег [/entity/retaildrawercashout/{id}]
#### Получить выплату денег [GET]

Запрос на получение отдельной выплаты денег с указанным id.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление выплаты денег с указанным id.
  + Body
        <!-- include(body/retaildrawercashout/get_by_id.json) -->

#### Изменить выплачу денег [PUT]

Запрос на обновление выплаты денег.
+ Request Пример 1 (application/json)
Пример обновления выплаты денег.
  + Body
        <!-- include(body/retaildrawercashout/put_request.json) -->
+ Response 200
  + Body
        <!-- include(body/retaildrawercashout/put_response.json) -->

<!-- include(metadata.apib) -->

## Документ Возврат покупателя

Средствами JSON API можно создавать и обновлять сведения о Возвратах покупателей, запрашивать списки Возвратов покупателей и сведения по отдельным Возвратам покупателей. Позициями Возвратов покупателей можно управлять как в составе отдельного Возврата, так и отдельно - с помощью специальных ресурсов для управления позициями Возврата покупателя. Кодом сущности для Возврата покупателя в составе JSON API является ключевое слово **salesreturn**.

### Возвраты покупателей [/entity/salesreturn]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Возврате покупателя
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Возврата покупателей
+ **description** - Комментарий Возврата покупателей
+ **externalCode** - Внешний код Возврата покупателей
+ **moment** - Дата Возврата покупателей
+ **applicable** - Отметка о проведении
+ **vatEnabled** - Учитывается ли НДС
+ **vatIncluded** - Включен ли НДС в цену
+ **sum** - Сумма Возврата покупателей в копейках `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Возврата покупателей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organizationAccount** - Ссылка на счёт вашего юрлица в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agentAccount** - Ссылка на счёт контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **vatSum** - Сумма НДС `Только для чтения`
+ **positions** - Ссылка на позиции Возврата покупателей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Связи с другими документами

+ **demand** - Ссылка на отгрузку, по которой произошёл возврат в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) Поле является необходимым для возврата с основанием.
+ **losses** - Массив ссылок на связанные списания в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **payments** - Массив ссылок на связанные платежи в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **payedSum** - Сумма исходящих платежей по возврату покупателя

##### Позиции Возврата покупателя

Позиции Возврата покупателей - это список товаров/услуг/модификаций/серий.
Объект позиции Возврата покупателей содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учёт по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.
+ **price** - Цена товара/услуги в копейках. Должна совпадать с указанной в продаже
+ **discount** - Процент скидки или наценки. Должен совпадать с указанным в отгрузке (игнорируется для возвратов без основания)
+ **vat** - НДС, которым облагается текущая позиция. Должен совпадать с указанным в продаже
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара
+ **cost** - Себестоимость за единицу в копейках. Можно задать только для возвратов без основания.
+ **things** - Серийные номера
Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете.
В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.

С позициями можно работать с помощью специальных [ресурсов для управления позициями Возврата покупателей](#документ-возврат-покупателя-позиции-возврата-покупателя),
а также в составе отдельного Возврата покупателей. При работе в составе отдельного Возврата покупателей,
вы можете отправлять запросы на создание отдельного Возврата покупателей с включенным в тело запроса
массивом позиций Возврата покупателей. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Возврата покупателей".
Также, при работе в составе отдельного Возврата покупателей, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Возврата покупателей. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Возврата покупателей" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
+ **gtd** - ГТД
+ **country** - Ссылка на страну в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

<!-- include(rate.apib) -->

О работе с доп. полями Возвратов покупателейых возвратов можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить Возвраты покупателей [GET]

Запрос всех Возвратов покупателей на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Возвраты покупателей.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Возвратов покупателей.
  + Body
        <!-- include(body/sales_return/get_list.json) -->

#### Создать Возврат покупателя [POST]

Обязательные поля при создании нового Возврата покупателей:
+ **name** - Номер возврата
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **demand** - Ссылка на отгрузку, по которой произошёл возврат в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные), обязательное поле только для возврата по основанию
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
Контрагент, указанный в запросе на создание возврата, должен совпадать с контрагентом, указанном в документе,
по которому создаётся возврат.

При создании возврата:
+ При создании возврата без основания поле **demand** указывать не нужно
+ Контрагент в возврате и в документе, по которому он создаётся, должны совпадать
+ Валюта и юрлицо в возврате и в документе так же должны совпадать
+ При передаче коллекции **positions** в теле запроса на создание возврата, передаваемые позиции
должны соответствовать позициям в документе. Различие может быть только в количестве товара в позиции
(меньшее либо равное количеству в документе). Нельзя передать позиции, которых нет в документе.

+ Request Пример (application/json)
Пример создания нового Возврата покупателя.
  + Body
        <!-- include(body/sales_return/post_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Возврата покупателя.
  + Body
        <!-- include(body/sales_return/post_response.json) -->

#### Массовое создание и обновление Возвратов покупателя [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Возвратов покупателя.
В теле запроса нужно передать массив, содержащий JSON представления Возвратов покупателя, которые вы хотите создать или обновить.
Обновляемые Возвраты покупателя должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Возвратов покупателя
  + Body
        <!-- include(body/sales_return/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Возвратов покупателя.
  + Body
        <!-- include(body/sales_return/post_massive_response.json) -->

#### Удалить Возврат покупателя [DELETE /entity/salesreturn/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Возврата покупателей

Запрос на удаление Возврата покупателей с указанным id.

+ Response 200 (application/json)
Успешное удаление Возврата покупателей.

### Метаданные Возвратов покупателей [/entity/salesreturn/metadata]
##### Метаданные Возвратов покупателей [GET]

Запрос на получение метаданных Возвратов покупателей. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Возвратов покупателей
+ **attributes** - Массив объектов доп. полей Возвратов покупателей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Возвратов покупателей
+ **createShared** - создавать новые Возвраты покупателей с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Возвратов покупателей.
  + Body
        <!-- include(body/sales_return/get_metadata.json) -->

### Отдельное доп. поле [/entity/salesreturn/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/sales_return/metadata_by_id.json) -->

### Шаблон возврата покупателя [/entity/salesreturn/new]
##### Шаблон возврата покупателя [PUT]

Запрос на получение предзаполненого стандартными значениями шаблона возврата покупателя без связи с каким-либо документом.

+ Request Пустое тело запроса (application/json)
Создание шаблона возврата покупателя с пустым телом запроса

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного возврата покупателя.
  + Body
        <!-- include(body/sales_return/new_empty_response.json) -->

#### Шаблон возврата покупателя на основе [PUT]

Запрос на получение предзаполненного шаблона возврата покупателя на основе переданной отгрузки.
В ответ на запрос вернётся предзаполненный шаблон возврата покупателя, который
затем можно будет использовать для создания нового возврата с помощью POST запроса.

+ Request Создание на основе отгрузки (application/json)
Пример запроса на создание шаблона возврата покупателя на основе отгрузки.
  + Body
        <!-- include(body/sales_return/new_base_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного Возврата покупателя.
  + Body
        <!-- include(body/sales_return/new_base_response.json) -->

### Возврат покупателя [/entity/salesreturn/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Возврата покупателя
  
#### Получить Возврат покупателя [GET]

Запрос на получение отдельного Возврата покупателей с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Возврата покупателей с указанным id.
  + Body
        <!-- include(body/sales_return/get_by_id.json) -->

#### Изменить Возврат покупателя [PUT]

Запрос на обновление Возврата покупателей с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Возврата покупателей, кроме тех, что
помечены `Только для чтения` в описании [атрибутов Возврата покупателей](#документ-возврат-покупателя-возвраты-покупателей).
При обновлении поля **organization** нужно также обновить поле **organizationAccount** иначе произойдёт ошибка.
Контрагент должен совпадать с контрагентом, указанным в документе, по которому создаётся возврат.

При обновлении возврата:
+ Нельзя изменять следующие поля: **agentAccount**, **agent**, **demand**
+ Нельзя выставить валюту отличную от валюты в документе
+ Нельзя добавить позиции, отсутствующие среди позиций документа.

+ Request Пример (application/json)
Пример запроса на обновление Возврата покупателей.
  + Body
        <!-- include(body/sales_return/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Возврата покупателей.
  + Body
        <!-- include(body/sales_return/put_response.json) -->

### Позиции возврата покупателя [/entity/salesreturn/{id}/positions]

Отдельный ресурс для управления позициями Возврата покупателей. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Возврата покупателей
  
#### Получить Позиции [GET]

Запрос на получение списка всех позиций данной Возврата покупателей.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой позиции Возврата покупателей.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций Возврата покупателей.
  + Body
        <!-- include(body/sales_return/positions_get_list.json) -->

#### Создать Позицию [POST]

Запрос на создание новой позиции в Возврате покупателя.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortmet** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем **service**, **consignment**, **variant** в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании [позиции Возврата покупателей](#header-позиции-возврата-покупателя).
+ **quantity** - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Возврата покупателей. Все созданные данным запросом позиции
будут добавлены к уже существующим.
Нельзя создавать позиции, отличные от позиций в документе, по которому создаётся возврат. Допустимо только
отличие в **quantity** позиций (количество в позиции в возврате м.б. меньше или равно количеству в позиции в документе).

+ Request Пример (application/json)
Пример запроса на создание позиций в Возврате покупателя.
  + Body
        <!-- include(body/sales_return/positions_post_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданных позиций.
  + Body
        <!-- include(body/sales_return/positions_post_response.json) -->

### Позиция Возврата покупателя [/entity/salesreturn/{id}/positions/{positionID}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Возврата покупателей
  + positionID: `34f6344f-015e-11e6-9464-e4de0000006c` (required, string) - id позиции Возврата покупателей
  
#### Получить Позицию [GET]

Запрос на получение отдельной позиции Возврата покупателей с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Возврата покупателей.
  + Body
        <!-- include(body/sales_return/positions_get_by_id.json) -->
        
#### Изменить Позицию [PUT]

Запрос на обновление отдельной позиции Возврата покупателей.
При обновлении отдельной позиции в возврате можно только изменить количество данной позиции.
Причём это количество должно быть в пределах [1, n], где n - кол-во данной позиции в документе, по которому создан возврат.
+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в Возврате покупателя.
  + Body
        <!-- include(body/sales_return/positions_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции Возврата покупателей.
  + Body
        <!-- include(body/sales_return/positions_put_response.json) -->

#### Удалить позицию [DELETE]

Запрос на удаление отдельной позиции Возврата покупателей с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции Возврата покупателей.

<!-- include(metadata.apib) -->

## Документ Возврат поставщику

Средствами JSON API можно создавать и обновлять сведения о Возвратах поставщикам, запрашивать списки Возвратов поставщикам и сведения по отдельным Возвратам поставщикам. Позициями Возвратов поставщикам можно управлять как в составе отдельного Возврата, так и отдельно - с помощью специальных ресурсов для управления позициями Возврата поставщику. Кодом сущности для Возврата поставщику в составе JSON API является ключевое слово **purchasereturn**.

### Возвраты поставщикам [/entity/purchasereturn]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Возврате поставщику
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Возврата поставщику
+ **description** - Комментарий Возврата поставщику
+ **externalCode** - Внешний код Возврата поставщику
+ **moment** - Дата Возврата поставщику
+ **applicable** - Отметка о проведении
+ **vatEnabled** - Учитывается ли НДС
+ **vatIncluded** - Включен ли НДС в цену
+ **sum** - Сумма Возврата поставщику в копейках `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Возврата поставщику в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organizationAccount** - Ссылка на счёт вашего юрлица в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agentAccount** - Ссылка на счёт контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **vatSum** - Сумма НДС `Только для чтения`

##### Связи с другими документами

+ **positions** - Ссылка на позиции Возврата поставщику в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **supply** - Ссылка на приёмку, по которой произошёл возврат в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) Поле является необходимым для возврата с основанием.
+ **factureOut** - Ссылка на счет-фактура выданный в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **payedSum** - Сумма входящих платежей по возврату поставщику
+ **payments** - Массив ссылок на связанные платежи в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Позиции Возврата поставщику

Позиции Возврата поставщику - это список товаров/услуг/модификаций/серий.
Объект позиции Возврата поставщику содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учёт по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.
+ **price** - Цена товара/услуги в копейках
+ **discount** - Процент скидки или наценки. Должен совпадать с указанным в приёмке (игнорируется для возвратов без основания)
+ **vat** - НДС, которым облагается текущая позиция
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара
+ **things** - Серийные номера
Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете.
В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.

С позициями можно работать с помощью специальных [ресурсов для управления позициями Возврата поставщику](#документ-возврат-поставщику-позиции-возврата-поставщику),
а также в составе отдельного Возврата поставщику. При работе в составе отдельного Возврата поставщику,
вы можете отправлять запросы на создание отдельного Возврата поставщику с включенным в тело запроса
массивом позиций Возврата поставщику. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Возврата поставщику".
Также, при работе в составе отдельного Возврата поставщику, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Возврата поставщику. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Возврата поставщику" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.

<!-- include(rate.apib) -->

О работе с доп. полями Возвратов поставщикамых возвратов можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить Возвраты поставщикам [GET]

Запрос всех Возвратов поставщикам на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Возвраты поставщикам.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Возвратов поставщикам.
  + Body
        <!-- include(body/purchase_return/get_list.json) -->

#### Создать Возврат поставщику [POST]

Обязательные поля при создании нового Возврата поставщику:
+ **name** - Номер возврата
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **supply** - Ссылка на приёмку, по которой произошёл возврат в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные), обязательное поле только для возврата по основанию
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
Контрагент, указанный в запросе на создание возврата, должен совпадать с контрагентом, указанном в документе,
по которому создаётся возврат.

При создании возврата:
+ При создании возврата без основания поле **supply** указывать не нужно
+ Контрагент в возврате и в документе, по которому он создаётся, должны совпадать
+ Валюта и юрлицо в возврате и в документе так же должны совпадать
+ При передаче коллекции **positions** в теле запроса на создание возврата, передаваемые позиции
должны соответствовать позициям в документе. Различие может быть только в количестве товара в позиции
(меньшее либо равное количеству в документе). Нельзя передать позиции, которых нет в документе.

+ Request Пример (application/json)
Пример создания нового Возврата поставщику на основании приемки.
  + Body
        <!-- include(body/purchase_return/post_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Возврата поставщику.
  + Body
        <!-- include(body/purchase_return/post_response.json) -->

+ Request Без основания (application/json)
Пример создания нового Возврата поставщику без основания.
  + Body
        <!-- include(body/purchase_return/post_request_without_supply.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Возврата поставщику.
  + Body
        <!-- include(body/purchase_return/post_response_without_supply.json) -->

#### Массовое создание и обновление Возвратов поставщику [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Возвратов поставщику.
В теле запроса нужно передать массив, содержащий JSON представления Возвратов поставщику, которые вы хотите создать или обновить.
Обновляемые Возвраты поставщику должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Возвратов поставщику
  + Body
        <!-- include(body/purchase_return/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Возвратов поставщику.
  + Body
        <!-- include(body/purchase_return/post_massive_response.json) -->

#### Удалить Возврат поставщику [DELETE /entity/purchasereturn/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Возврата поставщику

Запрос на удаление Возврата поставщику с указанным id.

+ Response 200 (application/json)
Успешное удаление Возврата поставщику.

### Метаданные Возвратов поставщикам [/entity/purchasereturn/metadata]
##### Метаданные Возвратов поставщикам [GET]

Запрос на получение метаданных Возвратов поставщикам. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Возвратов поставщикам
+ **attributes** - Массив объектов доп. полей Возвратов поставщикам в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Возвратов поставщикам
+ **createShared** - создавать новые Возвраты поставщикам с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Возвратов поставщикам.
  + Body
        <!-- include(body/purchase_return/get_metadata.json) -->

### Отдельное доп. поле [/entity/purchasereturn/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/purchase_return/metadata_by_id.json) -->

### Шаблон возврата поставщику [/entity/purchasereturn/new]
##### Шаблон возврата поставщику [PUT]

Запрос на получение предзаполненого стандартными значениями шаблона возврата поставщику без связи с каким-либо документом.

+ Request Пустое тело запроса (application/json)
Создание шаблона возврата поставщику с пустым телом запроса

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного Возврата поставщику.
  + Body
        <!-- include(body/purchase_return/new_empty_response.json) -->

#### Шаблон возврата поставщику на основе [PUT]

Запрос на получение предзаполненного шаблона возврата поставщику на основе переданной приёмки.
В ответ на запрос вернётся предзаполненный шаблон возврата поставщику, который
затем можно будет использовать для создания нового возврата с помощью POST запроса.

+ Request Создание на основе приёмки (application/json)
Пример запроса на создание шаблона возврата поставщику на основе приёмки.
  + Body
        <!-- include(body/purchase_return/new_base_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного Возврата поставщику.
  + Body
        <!-- include(body/purchase_return/new_base_response.json) -->

### Возврат поставщику [/entity/purchasereturn/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Возврата поставщику
  
#### Получить Возврат поставщику [GET]

Запрос на получение отдельного Возврата поставщику с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Возврата поставщику с указанным id.
  + Body
        <!-- include(body/purchase_return/get_by_id.json) -->

#### Изменить Возврат поставщику [PUT]

Запрос на обновление Возврата поставщику с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Возврата поставщику, кроме тех, что
помечены `Только для чтения` в описании [атрибутов Возврата поставщику](#документ-возврат-поставщику-возвраты-поставщикам).
При обновлении полей **organization** и **agent** нужно также обновить поля **organizationAccount** и
**agentAccount** соответственно, иначе произойдёт ошибка.
Контрагент должен совпадать с контрагентом, указанным в документе, по которому создаётся возврат.

При обновлении возврата:
+ Нельзя изменять следующие поля: **agentAccount**, **agent**, **supply**
+ Нельзя выставить валюту отличную от валюты в документе
+ Нельзя добавить позиции, отсутствующие среди позиций документа.

+ Request Пример (application/json)
Пример запроса на обновление Возврата поставщику.
  + Body
        <!-- include(body/purchase_return/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Возврата поставщику.
  + Body
        <!-- include(body/purchase_return/put_response.json) -->

### Позиции Возврата поставщику [/entity/purchasereturn/{id}/positions]

Отдельный ресурс для управления позициями Возврата поставщику. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Возврата поставщику
  
#### Получить Позиции [GET]

Запрос на получение списка всех позиций данной Возврата поставщику.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой позиции Возврата поставщику.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций Возврата поставщику.
  + Body
        <!-- include(body/purchase_return/positions_get_list.json) -->

#### Создать Позицию [POST]

Запрос на создание новой позиции в Возврате поставщику.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем **service**, **consignment**, **variant** в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании [позиции Возврата поставщику](#header-позиции-возврата-поставщику).
+ **quantity** - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Возврата поставщику. Все созданные данным запросом позиции
будут добавлены к уже существующим.
Нельзя создавать позиции, отличные от позиций в документе, по которому создаётся возврат. Допустимо только
отличие в **quantity** позиций (количество в позиции в возврате м.б. меньше или равно количеству в позиции в документе).

+ Request Пример (application/json)
Пример запроса на создание позиций в Возврате поставщику.
  + Body
        <!-- include(body/purchase_return/positions_post_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданных позиций.
  + Body
        <!-- include(body/purchase_return/positions_post_response.json) -->

### Позиция Возврата поставщику [/entity/purchasereturn/{id}/positions/{positionID}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Возврата поставщику
  + positionID: `34f6344f-015e-11e6-9464-e4de0000006c` (required, string) - id позиции Возврата поставщику
  
#### Получить Позицию [GET]

Запрос на получение отдельной позиции Возврата поставщику с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Возврата поставщику.
  + Body
        <!-- include(body/purchase_return/positions_get_by_id.json) -->
        
#### Изменить Позицию [PUT]

Запрос на обновление отдельной позиции Возврата поставщику.
При обновлении отдельной позиции в возврате можно только изменить количество данной позиции.
Причём это количество должно быть в пределах [1, n], где n - кол-во данной позиции в документе, по которому создан возврат.
+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в Возврате поставщику.
  + Body
        <!-- include(body/purchase_return/positions_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции Возврата поставщику.
  + Body
        <!-- include(body/purchase_return/positions_put_response.json) -->

#### Удалить позицию [DELETE]

Запрос на удаление отдельной позиции Возврата поставщику с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции Возврата поставщику.

<!-- include(metadata.apib) -->

## Документ Счет-фактура выданный
### Счета-фактуры выданные  [/entity/factureout]

Средствами JSON API можно создавать и изменять Счет-фактуры выданные, запрашивать списки выданных Счетов-фактур, сведения по отдельным Счетам-фактурам и удалять Счета-фактуры. Счет-фактура может быть создана только на основании отгрузки, возврата поставщику или входящего платежа, без документа-основания счет-фактуру создать нельзя. Кодом сущности для выданного Счета-фактуры в составе JSON API является ключевое слово **factureout**.

##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выданном Счете-фактуре
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер выданного Счета-фактуры
+ **description** - Комментарий выданного Счета-фактуры
+ **externalCode** - Внешний код выданного Счета-фактуры
+ **moment** - Дата выданного Счета-фактуры
+ **applicable** - Отметка о проведении
+ **sum** - Сумма выданного Счета-фактуры в установленной валюте `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Только для чтения`
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Только для чтения`
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус выданного Счета-фактуры в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **stateContractId** - Идентификатор государственного контракта, договора (соглашения)

##### Связи с другими документами

+ **demands** - Массив ссылок на связанные отгрузки в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
  - **meta** - Ссылка на отгрузку, к которой привязан этот Счет-фактура в формате метаданных
+ **payments** - Массив ссылок на связанные входящие платежи в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
  - **meta** - Ссылка на входящий платеж, к которой привязан этот Счет-фактура в формате метаданных
+ **returns** - Массив ссылок на связанные возвраты поставщикам в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
  - **meta** - Ссылка на возврат поставщику, к которой привязан этот Счет-фактура в формате метаданных

#####  Другие поля
 
+ **consignee** - Грузополучатель
+ **paymentNumber** - Название платежного документа
+ **paymentDate** - Дата платежного документа

<!-- include(rate.apib) -->

О работе с доп. полями Счет-фактур можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить выданные Счета-фактуры [GET]

Запрос всех выданных Счетов-фактур на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой выданные Счета-фактуры.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка выданных Счетов-фактур.
  + Body
        <!-- include(body/facture_out/get_list.json) -->

#### Создать Счет-фактуру [POST]

Запрос на создание Счета-фактуры на основании отгрузки, входящего платежа или возврата поставщику.
Документ-основание должен быть указан в единственном экземпляре.</br>
Для установки **paymentNumber**, **paymentDate** значения должны быть переданы в теле Json, так как перечисленные поля не заполняются из документа-основания.
+ Request Пример (application/json)
Пример создания нового Счета-фактуры, содержащим только необходимые поля.
  + Body
        <!-- include(body/facture_out/post_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счета-фактуры.
  + Body
        <!-- include(body/facture_out/post_response.json) -->

#### Массовое создание и обновление выданных Счетов-фактур [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) выданных Счетов-фактур.
В теле запроса нужно передать массив, содержащий JSON представления выданных Счетов-фактур, которые вы хотите создать или обновить.
Обновляемые выданные Счета-фактуры должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких выданных Счетов-фактур
  + Body
        <!-- include(body/facture_out/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных выданных Счетов-фактур.
  + Body
        <!-- include(body/facture_out/post_massive_response.json) -->

### Метаданные выданных Счетов-фактур [/entity/factureout/metadata]
##### Метаданные Счетов-фактур [GET]

Запрос на получение метаданных выданных Счетов-фактур. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные выданных Счетов-фактур
+ **attributes** - Массив объектов доп. полей выданных Счетов-фактур в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов выданных Счетов-фактур
+ **createShared** - создавать новые выданные Счета-фактуры с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей выданных Счетов-фактур.
  + Body
        <!-- include(body/facture_out/metadata.json) -->

### Отдельное доп. поле [/entity/factureout/metadata/attributes/{id}]

+ Parameters
  + id: `8b0b6c1d-aa6f-11e6-8a84-bc520000008a` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/facture_out/metadata_by_id.json) -->

### Шаблон выданного Счета-фактуры [/entity/factureout/new]
##### Шаблон выданного Счета-фактуры на основе [PUT]

Запрос на получение предзаполненного шаблона выданного Счета-фактуры на основе отгрузки, возврата поставщику или входящего платежа.
В ответ на запрос вернётся предзаполненный шаблон выданного Счета-фактуры, который
затем можно будет использовать для создания нового Счета-фактуры с помощью POST запроса.

+ Request На основе отгрузки (application/json)
Пример запроса на создание шаблона выданного Счета-фактуры на основе отгрузки.
  + Body
        <!-- include(body/facture_out/new_from_demand_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного выданного Счета-фактуры.
  + Body
        <!-- include(body/facture_out/new_from_demand_response.json) -->

+ Request На основе возврата поставщику (application/json)
Пример запроса на создание шаблона выданного Счета-фактуры на основе возврата поставщику.
  + Body
        <!-- include(body/facture_out/new_from_purchasereturn_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного выданного Счета-фактуры.
  + Body
        <!-- include(body/facture_out/new_from_purchasereturn_response.json) -->

+ Request На основе входящего платежа (application/json)
Пример запроса на создание шаблона выданного Счета-фактуры на основе входящего платежа.
  + Body
        <!-- include(body/facture_out/new_from_paymentin_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного выданного Счета-фактуры.
  + Body
        <!-- include(body/facture_out/new_from_paymentin_response.json) -->

### Счет-фактура выданный [/entity/factureout/{id}]

+ Parameters
  + id: `99d41b01-aa8a-11e6-8af5-581e0000007e` (required, string) - id Счет-фактуры

#### Получить выданный Счет-фактуру [GET]

Запрос на получение отдельного выданного Счета-фактуры с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление выданного Счета-фактуры.
  + Body
        <!-- include(body/facture_out/get_by_id.json) -->

#### Изменить выданный Счет-фактуру [PUT]

Запрос на обновление Счета-фактуры с указанным id.
+ Request Пример (application/json)
Пример запроса на обновление Счет-фактуры.
  + Body
        <!-- include(body/facture_out/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Счета-фактуры.
  + Body
        <!-- include(body/facture_out/put_response.json) -->

#### Удалить выданный Счет-фактуру [DELETE /entity/factureout/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b20` (required, string) - id выданного Счета-фактуры

Запрос на удаление выданного Счета-фактуры с указанным id.

+ Response 200 (application/json)
Успешное удаление выданного Счета-фактуры.

<!-- include(metadata.apib) -->

## Документ Счет-фактура полученный
### Счета-фактуры полученные  [/entity/facturein]

Средствами JSON API можно создавать и изменять Счет-фактуры полученные, запрашивать списки полученных Счетов-фактур, сведения по отдельным Счетам-фактурам и удалять Счета-фактуры. Счет-фактура может быть создана только на основании приемки или исходящего платежа, без документа-основания счет-фактуру создать нельзя.  Кодом сущности для полученного Счета-фактуры в составе JSON API является ключевое слово **facturein**.

##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о полученном Счете-фактуре
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер полученного Счета-фактуры
+ **description** - Комментарий полученного Счета-фактуры
+ **externalCode** - Внешний код полученного Счета-фактуры
+ **moment** - Дата полученного Счета-фактуры
+ **applicable** - Отметка о проведении
+ **sum** - Сумма полученного Счета-фактуры в установленной валюте `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Только для чтения`
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Только для чтения`
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус полученного Счета-фактуры в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`

##### Связи с другими документами

+ **supplies** - Массив ссылок на связанные приемки в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
  - **meta** - Ссылка на приемку, к которой привязан этот Счет-фактура в формате метаданных
+ **payments** - Массив ссылок на связанные исходящие платежи в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
  - **meta** - Ссылка на исходящий платеж, к которой привязан этот Счет-фактура в формате метаданных

#####  Другие поля
 
+ **incomingNumber** - Входящий номер
+ **incomingDate** - Входящая дата

<!-- include(rate.apib) -->

О работе с доп. полями Счет-фактур можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить полученные Счета-фактуры [GET]

Запрос всех полученных Счетов-фактур на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой полученные Счет-фактуры.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка полученных Счетов-фактур.
  + Body
        <!-- include(body/facture_in/get_list.json) -->

#### Создать Счет-фактуру [POST]

Запрос на создание Счета-фактуры на основании приемки или исходящего платежа.
Документ-основание должен быть указан в единственном экземпляре.</br>
Для установки **incomingNumber**, **incomingDate** значения должны быть переданы в теле Json, так как перечисленные поля не заполняются из документа-основания.
+ Request Пример (application/json)
Пример создания нового Счета-фактуры, содержащим только необходимые поля.
  + Body
        <!-- include(body/facture_in/post_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счета-фактуры.
  + Body
        <!-- include(body/facture_in/post_response.json) -->

#### Массовое создание и обновление полученных Счетов-фактур [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) полученных Счетов-фактур.
В теле запроса нужно передать массив, содержащий JSON представления полученных Счетов-фактур, которые вы хотите создать или обновить.
Обновляемые полученные Счета-фактуры должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких полученных Счетов-фактур
  + Body
        <!-- include(body/facture_in/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных полученных Счетов-фактур.
  + Body
        <!-- include(body/facture_in/post_massive_response.json) -->

### Метаданные полученных Счетов-фактур [/entity/facturein/metadata]
##### Метаданные Счетов-фактур [GET]

Запрос на получение метаданных полученных Счетов-фактур. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные полученных Счетов-фактур
+ **attributes** - Массив объектов доп. полей полученных Счетов-фактур в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов полученных Счетов-фактур
+ **createShared** - создавать новые полученные Счета-фактуры с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей полученных Счетов-фактур.
  + Body
        <!-- include(body/facture_in/metadata.json) -->

### Отдельное доп. поле [/entity/facturein/metadata/attributes/{id}]

+ Parameters
  + id: `8b0b6c1d-aa6f-11e6-8a84-bc520000008a` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/facture_in/metadata_by_id.json) -->

### Шаблон полученного Счета-фактуры [/entity/facturein/new]
##### Шаблон полученного Счета-фактуры на основе [PUT]

Запрос на получение предзаполненного шаблона полученного Счета-фактуры на основе приемки или исходящего платежа.
В ответ на запрос вернётся предзаполненный шаблон полученного Счета-фактуры, который
затем можно будет использовать для создания нового Счета-фактуры с помощью POST запроса.

+ Request На основе приемки (application/json)
Пример запроса на создание шаблона полученного Счета-фактуры на основе приемки.
  + Body
        <!-- include(body/facture_in/new_from_supply_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного полученного Счета-фактуры.
  + Body
        <!-- include(body/facture_in/new_from_supply_response.json) -->

+ Request На основе исходящего платежа (application/json)
Пример запроса на создание шаблона полученного Счета-фактуры на основе исходящего платежа.
  + Body
        <!-- include(body/facture_in/new_from_paymentout_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного полученного Счета-фактуры.
  + Body
        <!-- include(body/facture_in/new_from_paymentout_response.json) -->

### Счет-фактура полученный [/entity/facturein/{id}]

+ Parameters
  + id: `209fe91a-ab00-11e6-8af5-581e00000076` (required, string) - id Счета-фактуры

#### Получить полученный Счет-фактуру [GET]

Запрос на получение отдельного полученного Счета-фактуры с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление полученного Счета-фактуры.
  + Body
        <!-- include(body/facture_in/get_by_id.json) -->

#### Изменить полученный Счет-фактуру [PUT]

Запрос на обновление Счета-фактуры с указанным id.
+ Request Пример (application/json)
Пример запроса на обновление Счета-фактуры.
  + Body
        <!-- include(body/facture_in/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Счета-фактуры.
  + Body
        <!-- include(body/facture_in/put_response.json) -->

#### Удалить полученный Счет-фактуру [DELETE /entity/facturein/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id полученного Счета-фактуры

Запрос на удаление полученного Счета-фактуры с указанным id.

+ Response 200 (application/json)
Успешное удаление полученного Счета-фактуры.

<!-- include(metadata.apib) -->

## Документ Инвентаризация

Средствами JSON API можно создавать и обновлять сведения о Инвентаризации, запрашивать списки Инвентаризаций и сведения по отдельным Инвентаризациям. Позициями Инвентаризации можно управлять как в составе отдельной Инвентаризации, так и отдельно - с помощью специальных ресурсов для управления позициями Инвентаризации. Кодом сущности для Инвентаризации в составе JSON API является ключевое слово **inventory**. Больше о Инвентаризациях можно прочитать [этой ссылке](https://support.moysklad.ru/hc/ru/articles/203309933-%D0%98%D0%BD%D0%B2%D0%B5%D0%BD%D1%82%D0%B0%D1%80%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F-%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%B2).

### Инвентаризация [/entity/inventory]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Инвентаризации
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Инвентаризации
+ **externalCode** - Внешний код Инвентаризации
+ **moment** - Дата Инвентаризации
+ **sum** - Сумма Инвентаризации в копейках `Только для чтения`
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **state** - Статус Инвентаризации в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **positions** - Ссылка на позиции Инвентаризации в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Позиции Инвентаризации

Позиции Инвентаризации - это список товаров/модификаций/серий.
Объект позиции Инвентаризации содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Фактическое количество товаров/модификаций/серий.
+ **price** - Цена товара в копейках
+ **assortment** - Ссылка на товар/серию/модификацию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара
+ **correctionAmount** - разница между расчетным остатком и фактическим `Только для чтения`
+ **calculatedQuantity** - расчетный остаток
+ **correctionSum** - избыток/недостача `Только для чтения`

С позициями можно работать с помощью [специальных ресурсов для управления позициями Инвентаризации](#документ-инвентаризация-позиции-инвентаризации),
а также в составе отдельной Инвентаризации. При работе в составе отдельной Инвентаризации,
вы можете отправлять запросы на создание отдельной Инвентаризации с включенным в тело запроса
массивом позиций Инвентаризации. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Инвентаризации".
Также, при работе в составе отдельной Инвентаризации, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Инвентаризации. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Инвентаризации" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.

О работе с доп. полями Инвентаризации можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)


#### Получить Инвентаризации [GET]

Запрос всех Инвентаризаций на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Инвентаризации.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Инвентаризаций.
  + Body
        <!-- include(body/inventory/get_list.json) -->

#### Создать Инвентаризацию [POST]

Запрос на создание новой Инвентаризации
+ Request Пример (application/json)
Пример создания новой Инвентаризации с телом запроса, содержащим только необходимые поля.
  + Body
        <!-- include(body/inventory/post_request_short.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Инвентаризации.
  + Body
        <!-- include(body/inventory/post_response_short.json) -->

#### Массовое создание и обновление Инвентаризаций [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Инвентаризаций.
В теле запроса нужно передать массив, содержащий JSON представления Инвентаризаций, которые вы хотите создать или обновить.
Обновляемые Инвентаризации должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Инвентаризаций
  + Body
        <!-- include(body/inventory/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Инвентаризаций.
  + Body
        <!-- include(body/inventory/post_massive_response.json) -->

#### Удалить Инвентаризацию [DELETE /entity/inventory/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Инвентаризации

Запрос на удаление Инвентаризации с указанным id.
+ Response 200 (application/json)
Успешное удаление Инвентаризации.

### Метаданные Инвентаризаций [/entity/inventory/metadata]
##### Метаданные Инвентаризаций [GET]

Запрос на получение метаданных Инвентаризаций. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Инвентаризаций
+ **attributes** - Массив объектов доп. полей Инвентаризаций в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Инвентаризаций
+ **createShared** - создавать новые Инвентаризации с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление метаданных Инвентаризаций.
  + Body
        <!-- include(body/inventory/get_metadata.json) -->

### Отдельное доп. поле [/entity/inventory/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/inventory/metadata_by_id.json) -->

### Шаблон инвентаризации [/entity/inventory/new]
##### Шаблон инвентаризации [PUT]

Запрос на получение предзаполненого стандартными значениями шаблона инвентаризации без связи с каким-либо документом.

+ Request Пустое тело запроса (application/json)
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного списания.
  + Body
        <!-- include(body/inventory/new_empty.json) -->

### Инвентаризация [/entity/inventory/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Инвентаризации
  
#### Получить Инвентаризацию [GET]

Запрос на получение отдельной инвентаризации с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Инвентаризации.
  + Body
        <!-- include(body/inventory/get_by_id.json) -->

#### Изменить Инвентаризацию [PUT]

Запрос на обновление инвентаризации с указанным id.
+ Request Пример (application/json)
Пример запроса на обновление отдельной Инвентаризации.
  + Body
        <!-- include(body/inventory/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой Инвентаризации.
  + Body
        <!-- include(body/inventory/put_response.json) -->

+ Request Пример с доп. полями (application/json)
Пример запроса на изменение Инвентаризации с дополнительными полями.
  + Body
        <!-- include(body/inventory/put_with_attributes_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой Инвентаризации.
  + Body
        <!-- include(body/inventory/put_with_attributes_response.json) -->

### Позиции Инвентаризации [/entity/inventory/{id}/positions]

Отдельный ресурс для управления позициями Инвентаризации. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Инвентаризации
  
#### Получить позиции Инвентаризации [GET]

Запрос на получение списка всех позиций данной Инвентаризации.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой позиции Инвентаризации.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельной Инвентаризации.
  + Body
        <!-- include(body/inventory/positions_get_list.json) -->

#### Создать позицию Инвентаризации [POST]

Запрос на создание новой позиции в Инвентаризации.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortment** - Ссылка на товар/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем  **consignment**, **variant** в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании [позиции Инвентаризации](#header-позиции-инвентаризации)
+ **quantity** - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Инвентаризации. Все созданные данным запросом позиции
будут добавлены к уже существующим.

+ Request Пример (application/json)
Пример создания позиций в Инвентаризации.
  + Body
        <!-- include(body/inventory/positions_post_one_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельной Инвентаризации.
  + Body
        <!-- include(body/inventory/positions_post_one_response.json) -->

### Позиция Инвентаризации [/entity/inventory/{id}/positions/{positionID}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Инвентаризации
  + positionID: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id позиции

#### Получить позицию [GET]

Запрос на получение отдельной позиции Инвентаризации с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Инвентаризации.
  + Body
        <!-- include(body/inventory/positions_get_by_id.json) -->

#### Изменить позицию [PUT]

Запрос на обновление отдельной позиции Инвентаризации. Для обновления позиции нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в Инвентаризации.
  + Body
        <!-- include(body/inventory/positions_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции Инвентаризации.
  + Body
        <!-- include(body/inventory/positions_put_response.json) -->

#### Удалить позицию [DELETE]

Запрос на удаление отдельной позиции Инвентаризации с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции Инвентаризации.

<!-- include(metadata.apib) -->

<!-- include(metadata.apib) -->

## Полученный отчёт комиссионера

Средствами JSON API можно создавать и обновлять сведения о полученных отчётах комиссионера, запрашивать списки полученных отчётов комиссионера и сведения по отдельным полученным отчётам комиссионера. Позициями отчётов комиссионера можно управлять как в составе отдельного отчёта, так и с помощью специальных ресурсов для управления позициями. Кодом сущности для полученного отчёта комиссионера в составе JSON API является ключевое слово **commissionreportin**. Больше об отчётах комиссионера и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по  [этой ссылке](https://support.moysklad.ru/hc/ru/articles/203082686-%D0%9A%D0%BE%D0%BC%D0%B8%D1%81%D1%81%D0%B8%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F-%D1%82%D0%BE%D1%80%D0%B3%D0%BE%D0%B2%D0%BB%D1%8F-%D0%9A%D0%BE%D0%BC%D0%B8%D1%82%D0%B5%D0%BD%D1%82%D1%83).

### Полученные отчёты комиссионера [/entity/commissionreportin]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о полученном отчёте комиссионера
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер полученного отчёта комиссионера `Необходимое`
+ **description** - Комментарий полученного отчёта комиссионера
+ **externalCode** - Внешний код полученного отчёта комиссионера
+ **moment** - Дата полученного отчёта комиссионера
+ **applicable** - Отметка о проведении
+ **sum** - Сумма полученного отчёта комиссионера в копейках `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус полученного отчёта комиссионера в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organizationAccount** - Ссылка на счёт вашего юрлица в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agentAccount** - Ссылка на счёт контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **vatSum** - Сумма НДС `Только для чтения`
+ **payedSum** - Оплаченная сумма `Только для чтения`
+ **vatEnabled** - Учитывается ли НДС
+ **vatIncluded** - Включен ли НДС в цену
+ **positions** - Ссылка на позиции полученного отчёта комиссионера в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **commissionPeriodStart** - Начало периода `Необходимое`
+ **commissionPeriodEnd** - Конец периода `Необходимое`
+ **rewardType** - Тип вознаграждения
+ **rewardPercent** - Процент вознаграждения (всегда 0 если вознаграждение не рассчитывается)
+ **commitentSum** - Сумма коммитента в установленной валюте `Только для чтения`

##### Связи с другими документами

+ **payments** - Массив ссылок на связанные платежи в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Позиции полученного отчёта комиссионера

Позиции полученного отчёта комиссионера - это список товаров/услуг/модификаций/серий.
Объект позиции полученного отчёта комиссионера содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учёт по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.
+ **price** - Цена товара/услуги в копейках
+ **vat** - НДС, которым облагается текущая позиция
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара
+ **reward** - Вознаграждение

С позициями можно работать с помощью [специальных ресурсов для управления позициями полученного отчёта комиссионера](#полученный-отчёт-комиссионера-позиции-отчёта-комиссионера),
а также в составе отдельного полученного отчёта комиссионера. При работе в составе отдельного полученного отчёта комиссионера,
вы можете отправлять запросы на создание полученного отчёта комиссионера с включенным в тело запроса
массивом позиций полученного отчёта комиссионера. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции отчёта комиссионера".
Также, при работе в составе отдельного полученного отчёта комиссионера, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций полученного отчёта комиссионера. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции полученного отчёта комиссионера" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.

<!-- include(rate.apib) -->

#### Получить отчёты комиссионера[GET]

Запрос всех полученных отчётов комиссионера на учётной записи.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

  + incomingDate: `2016-04-15 15:48:46` (optional, string)
    Параметр для фильтрации выборки по входящей дате. Подробнее про данный параметр можно посмотреть в разделе [Фильтрация выборки с помощью параметра filter](/api/remap/1.2/doc/index.html#header-фильтрация-выборки-с-помощью-параметра-filter).
    Формат строки : `ГГГГ-ММ-ДД ЧЧ:ММ:СС[.ммм]`, Часовой пояс: `MSK` (Московское время)

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка полученных отчётов комиссионера.
  + Body
        <!-- include(body/commissionreportin/get_list.json) -->

#### Создать полученный отчёт комиссионера [POST]

Запрос на создание нового полученного отчёта комиссионера.
Обязательные для создания поля:
+ **name** - номер
+ **agent** - контрагент
+ **contract** - договор
+ **organization** - юрлицо
+ **commissionPeriodStart** - начало периода
+ **commissionPeriodEnd** - конец периода
+ **organizationAccount** - счёт юрлица (если у юрлица несколько счетов)
+ **agentAccount** - счёт контрагента (если у контрагента несколько счетов)

При указании поля **contract** важно:
+ Чтобы договор был заключён с указанным в поле **agent** контрагентом
+ Договор имел тип "Договор комиссии"

+ Request Пример (application/json)
Пример создания нового полученного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportin/post_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного полученного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportin/post_response.json) -->

#### Массовое создание и обновление полученных отчётов комиссионера [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) полученных отчётов комиссионера.
В теле запроса нужно передать массив, содержащий JSON представления полученных отчётов комиссионера, которые вы хотите создать или обновить.
Обновляемые полученные отчёты комиссионера должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких полученных отчётов комиссионера
  + Body
        <!-- include(body/commissionreportin/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных полученных отчётов комиссионера.
  + Body
        <!-- include(body/commissionreportin/post_massive_response.json) -->

#### Удалить полученный отчёт комиссионера [DELETE /entity/commissionreportin/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id полученного отчёта комиссионера

Запрос на удаление полученного отчёта комиссионера с указанным id.

+ Response 200 (application/json)
Успешное удаление полученного отчёта комиссионера.

### Метаданные полученного отчёта [/entity/commissionreportin/metadata]
##### Метаданные полученного отчёта [GET]

Запрос на получение метаданных отчётов комиссионера. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные отчётов комиссионера
+ **attributes** - Массив объектов доп. полей отчётов комиссионера в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов отчётов комиссионера
+ **createShared** - создавать новые отчёты комиссионера с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление метаданных полученного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportin/get_metadata.json) -->

### Отдельное доп. поле [/entity/commissionreportin/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/commissionreportin/metadata_by_id.json) -->

### Полученный отчёт комиссионера [/entity/commissionreportin/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id полученного отчёта комиссионера

#### Получить отчёт комиссионера [GET]

Запрос на получение отдельного отчёта комиссионера с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление полученного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportin/get_by_id.json) -->

#### Изменить полученный отчёт комиссионера [PUT]

Запрос на обновление полученного отчёта комиссионера с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у полученного отчёта комиссионера, кроме тех, что
помечены `Только для чтения` в описании [атрибутов полученного отчёта комиссионера](#полученный-отчёт-комиссионера-полученные-отчёты-комиссионера).
При обновлении полей **organization** и **agent** нужно также обновить поля **organizationAccount** и
**agentAccount** соответственно, иначе произойдёт ошибка.

<br>При указании поля **contract** важно:
+ Чтобы договор был заключён с указанным в поле **agent** контрагентом
+ Договор имел тип "Договор комиссии"

+ Request Пример (application/json)
Пример запроса на обновление отдельного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportin/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportin/put_response.json) -->

### Позиции отчёта комиссионера [/entity/commissionreportin/{id}/positions]

Отдельный ресурс для управления позициями полученного отчёта комиссионера. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id полученного отчёта комиссионера

#### Получить позиции [GET]

Запрос на получение списка всех позиций данного полученного отчёта комиссионера.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportin/positions_get_list.json) -->

#### Создать позицию [POST]

Запрос на создание новой позиции в отчёте комиссионера.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем **service**, **consignment**, **variant** в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании [позиции отчёта комиссионера](#header-позиции-полученного-отчёта-комиссионера)
+ **quantity** - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций отчёта комиссионера. Все созданные данным запросом позиции
будут добавлены к уже существующим.

+ Request Пример (application/json)
Пример создания одной позиции в полученном отчёте комиссионера.
  + Body
        <!-- include(body/commissionreportin/positions_post_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportin/positions_post_response.json) -->

#### Удалить позицию [DELETE /entity/commissionreportin/{id}/positions/{positionID}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id полученного отчёта комиссионера
  + positionID: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id позиции полученного отчёта комиссионера

Запрос на удаление позиции полученного отчёта комиссионера с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции полученного отчёта комиссионера.

### Позиция отчёта комиссионера [/entity/commissionreportin/{id}/positions/{positionID}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id полученного отчёта комиссионера
  + positionID: `34f6344f-015e-11e6-9464-e4de0000006c` (required, string) - id позиции полученного отчёта комиссионера

#### Получить позицию [GET]

Запрос на получение отдельной позиции полученного отчёта комиссионера с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции полученного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportin/positions_get_by_id.json) -->

#### Изменить позицию [PUT]

Запрос на обновление отдельной позиции полученного отчёта комиссионера. Для обновления позиции нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.

+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в полученном отчёте комиссионера.
  + Body
        <!-- include(body/commissionreportin/positions_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции полученного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportin/positions_put_response.json) -->

<!-- include(metadata.apib) -->

## Выданный отчёт комиссионера

Средствами JSON API можно создавать и обновлять сведения о выданных отчётах комиссионера, запрашивать списки выданных отчётов комиссионера и сведения по отдельным выданным отчётам комиссионера. Позициями отчётов комиссионера можно управлять как в составе отдельного отчёта, так и с помощью специальных ресурсов для управления позициями. Кодом сущности для выданного отчёта комиссионера в составе JSON API является ключевое слово **commissionreportout**. Больше об отчётах комиссионера и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по  [этой ссылке](https://support.moysklad.ru/hc/ru/articles/204329433-%D0%9A%D0%BE%D0%BC%D0%B8%D1%81%D1%81%D0%B8%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F-%D1%82%D0%BE%D1%80%D0%B3%D0%BE%D0%B2%D0%BB%D1%8F-%D0%9A%D0%BE%D0%BC%D0%B8%D1%81%D1%81%D0%B8%D0%BE%D0%BD%D0%B5%D1%80%D1%83).

### Выданные отчёты комиссионера [/entity/commissionreportout]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выданном отчёте комиссионера
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер выданного отчёта комиссионера `Необходимое`
+ **description** - Комментарий выданного отчёта комиссионера
+ **externalCode** - Внешний код выданного отчёта комиссионера
+ **moment** - Дата выданного отчёта комиссионера
+ **applicable** - Отметка о проведении
+ **sum** - Сумма выданного отчёта комиссионера в копейках `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **agent** - Ссылка на контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **contract** - Ссылка на договор в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус выданного отчёта комиссионера в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organizationAccount** - Ссылка на счёт вашего юрлица в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **agentAccount** - Ссылка на счёт контрагента в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **vatSum** - Сумма НДС `Только для чтения`
+ **payedSum** - Оплаченная сумма `Только для чтения`
+ **vatEnabled** - Учитывается ли НДС
+ **vatIncluded** - Включен ли НДС в цену
+ **positions** - Ссылка на позиции выданного отчёта комиссионера в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **commissionPeriodStart** - Начало периода `Необходимое`
+ **commissionPeriodEnd** - Конец периода `Необходимое`
+ **rewardType** - Тип вознаграждения
+ **rewardPercent** - Процент вознаграждения (всегда 0 если вознаграждение не рассчитывается)
+ **commitentSum** - Сумма коммитента в установленной валюте `Только для чтения`

##### Связи с другими документами

+ **payments** - Массив ссылок на связанные платежи в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Позиции выданного отчёта комиссионера

Позиции выданного отчёта комиссионера - это список товаров/услуг/модификаций/серий.
Объект позиции выданного отчёта комиссионера содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учёт по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.
+ **price** - Цена товара/услуги в копейках
+ **vat** - НДС, которым облагается текущая позиция
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара
+ **reward** - Вознаграждение

С позициями можно работать с помощью [специальных ресурсов для управления позициями выданного отчёта комиссионера](#выданный-отчёт-комиссионера-позиции-выданного-отчёта-комиссионера),
а также в составе отдельного выданного отчёта комиссионера. При работе в составе отдельного выданного отчёта комиссионера,
вы можете отправлять запросы на создание выданного отчёта комиссионера с включенным в тело запроса
массивом позиций выданного отчёта комиссионера. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции отчёта комиссионера".
Также, при работе в составе отдельного выданного отчёта комиссионера, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций выданного отчёта комиссионера. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции выданного отчёта комиссионера" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.

<!-- include(rate.apib) -->

#### Получить выданные отчёты комиссионера[GET]

Запрос всех выданных отчётов комиссионера на учётной записи.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка выданных отчётов комиссионера.
  + Body
        <!-- include(body/commissionreportout/get_list.json) -->

#### Создать выданный отчёт комиссионера [POST]

Запрос на создание нового выданного отчёта комиссионера.
Обязательные для создания поля:
+ **name** - номер
+ **agent** - контрагент
+ **contract** - договор
+ **organization** - юрлицо
+ **commissionPeriodStart** - начало периода
+ **commissionPeriodEnd** - конец периода
+ **organizationAccount** - счёт юрлица (если у юрлица несколько счетов)
+ **agentAccount** - счёт контрагента (если у контрагента несколько счетов)

При указании поля **contract** важно:
+ Чтобы договор был заключён с указанным в поле **agent** контрагентом
+ Договор имел тип "Договор комиссии"

+ Request Пример (application/json)
Пример создания нового выданного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportout/post_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного выданного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportout/post_response.json) -->

#### Удалить выданный отчёт комиссионера [DELETE /entity/commissionreportout/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id выданного отчёта комиссионера

Запрос на удаление выданного отчёта комиссионера с указанным id.

+ Response 200 (application/json)
Успешное удаление выданного отчёта комиссионера.

#### Массовое создание и обновление выданных отчётов комиссионера [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) выданных отчётов комиссионера.
В теле запроса нужно передать массив, содержащий JSON представления выданных отчётов комиссионера, которые вы хотите создать или обновить.
Обновляемые выданные отчёты комиссионера должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких выданных отчётов комиссионера
  + Body
        <!-- include(body/commissionreportout/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных выданных отчётов комиссионера.
  + Body
        <!-- include(body/commissionreportout/post_massive_response.json) -->

### Метаданные выданного отчёта [/entity/commissionreportout/metadata]
##### Метаданные выданного отчёта [GET]

Запрос на получение метаданных отчётов комиссионера. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные отчётов комиссионера
+ **attributes** - Массив объектов доп. полей отчётов комиссионера в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов отчётов комиссионера
+ **createShared** - создавать новые отчёты комиссионера с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление метаданных выданного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportout/get_metadata.json) -->

### Отдельное доп. поле [/entity/commissionreportout/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/commissionreportout/metadata_by_id.json) -->

### Выданный отчёт комиссионера [/entity/commissionreportout/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id выданного отчёта комиссионера

#### Получить выданный отчёт комиссионера [GET]

Запрос на получение отдельного отчёта комиссионера с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление выданного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportout/get_by_id.json) -->

#### Изменить выданный отчёт комиссионера [PUT]

Запрос на обновление выданного отчёта комиссионера с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у выданного отчёта комиссионера, кроме тех, что
помечены `Только для чтения` в описании [атрибутов выданного отчёта комиссионера](#выданный-отчёт-комиссионера-выданные-отчёты-комиссионера).
При обновлении полей **organization** и **agent** нужно также обновить поля **organizationAccount** и
**agentAccount** соответственно, иначе произойдёт ошибка.

<br>При указании поля **contract** важно:
+ Чтобы договор был заключён с указанным в поле **agent** контрагентом
+ Договор имел тип "Договор комиссии"

+ Request Пример (application/json)
Пример запроса на обновление отдельного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportout/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportout/put_response.json) -->

### Позиции выданного отчёта комиссионера [/entity/commissionreportout/{id}/positions]

Отдельный ресурс для управления позициями выданного отчёта комиссионера. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id выданного отчёта комиссионера

#### Получить позиции [GET]

Запрос на получение списка всех позиций данного выданного отчёта комиссионера.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportout/positions_get_list.json) -->

#### Создать позицию [POST]

Запрос на создание новой позиции в отчёте комиссионера.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем **service**, **consignment**, **variant** в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании [позиции отчёта комиссионера](#header-позиции-выданного-отчёта-комиссионера)
+ **quantity** - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций отчёта комиссионера. Все созданные данным запросом позиции
будут добавлены к уже существующим.

+ Request Пример (application/json)
Пример создания одной позиции в выданном отчёте комиссионера.
  + Body
        <!-- include(body/commissionreportout/positions_post_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportout/positions_post_response.json) -->

#### Удалить позицию [DELETE /entity/commissionreportout/{id}/positions/{positionID}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id выданного отчёта комиссионера
  + positionID: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id позиции выданного отчёта комиссионера

Запрос на удаление позиции выданного отчёта комиссионера с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции выданного отчёта комиссионера.

### Позиция выданного отчёта комиссионера [/entity/commissionreportout/{id}/positions/{positionID}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id выданного отчёта комиссионера
  + positionID: `34f6344f-015e-11e6-9464-e4de0000006c` (required, string) - id позиции выданного отчёта комиссионера

#### Получить позицию [GET]

Запрос на получение отдельной позиции выданного отчёта комиссионера с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции выданного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportout/positions_get_by_id.json) -->
        
#### Изменить позицию [PUT]

Запрос на обновление отдельной позиции выданного отчёта комиссионера. Для обновления позиции нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.

+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в выданном отчёте комиссионера.
  + Body
        <!-- include(body/commissionreportout/positions_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции выданного отчёта комиссионера.
  + Body
        <!-- include(body/commissionreportout/positions_put_response.json) -->

## Документ Прайс-лист

Средствами JSON API можно создавать и обновлять сведения о Прайс-листах, запрашивать списки Прайс-листов и сведения по отдельным Прайс-листам. Позициями Прайс-листов можно управлять как в составе отдельного Прайс-листа, так и отдельно - с помощью специальных ресурсов для управления позициями Прайс-листа. Кодом сущности для Прайс-листа в составе JSON API является ключевое слово **pricelist**. Больше о Прайс-листах и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по  [этой ссылке](https://support.moysklad.ru/hc/ru/articles/203025356-%D0%9F%D1%80%D0%B0%D0%B9%D1%81-%D0%BB%D0%B8%D1%81%D1%82%D1%8B).

### Прайс-листы [/entity/pricelist]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Прайс-листе
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - название Прайс-листа
+ **description** - Комментарий Прайс-листа
+ **externalCode** - Внешний код Прайс-листа
+ **priceType** - Объект типа цены `Только для чтения`
  - **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Типе цены `Только для чтения`
  - **id** - ID в формате UUID `Только для чтения`
  - **name** - Наименование Типа цены `Необходимое`
  - **externalCode** - Внешний код Типа цены
+ **columns** - Массив столбцов описания таблицы `Необходимое` `Только для чтения`
+ **moment** - Дата Прайс-листа
+ **applicable** - Отметка о проведении
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Прайс-листа в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **positions** - Ссылка на позиции в Прайс-листе в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Позиции Прайс-листа

Позиции Прайс-листа - это список товаров/услуг/модификаций.
Объект позиции Прайс-листа содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **assortment** - Ссылка на товар/услугу/модификацию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара
+ **cells** - массив значений столбцов в позиции Прайс-листа

С позициями можно работать с помощью [специальных ресурсов для управления позициями Прайс-листа](#документ-прайс-лист-позиции-прайс-листа),
а также в составе отдельного Прайс-листа. При работе в составе отдельного Прайс-листа,
вы можете отправлять запросы на создание отдельного Прайс-листа с включенным в тело запроса
массивом позиций Прайс-листа. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Прайс-листа".
Также, при работе в составе отдельной Прайс-листа, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Прайс-листа. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Прайс-листа" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.

##### Столбцы

Поле **columns** - массив, содержащий в себе объекты со следующими атрибутами:
+ name - Название столбца `Необходимое`
+ percentageDiscount - Процентная наценка или скидка по умолчанию для столбца

На столбцы налагаются следующие ограничения:
- Название столбца не может отсутствовать или быть пустым
- Название столбца должно быть уникальным в пределах одного Прайс-листа
- Опциональное значение percentageDiscount должно быть числом.

##### Ячейки

Поле **cells** - массив, содержащий в себе объекты со следующими атрибутами:
+ column - Название столбца, к которому относится данная ячейка `Необходимое`
+ sum - Числовое значение ячейки `Необходимое`

При создании если значения ячеек позиций Прайс-листа были не указаны, то заполнятся значениями по умолчанию те ячейки,
столбцы которых имеют значение скидки(наценки) по умолчанию. Элементы массива cells соотносятся с колонками по названию
по значению поля column.

О работе с доп. полями Прайс-листов можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить список Прайс-листов [GET]

Запрос всех Прайс-листов на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Прайс-листы.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Прайс-листов.
  + Body
        <!-- include(body/pricelist/get_list.json) -->

#### Создать Прайс-лист[POST]

Запрос на создание нового Прайс-листа.
Обязательные для создания поля:
+ **name** - номер Прайс-листа (номер)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **columns** - Массив объектов, описывающих столбцы нового прайс-листа

Примечание: если при создании Прайс-листа указать несуществующий тип цен, то Прайс-лист создастся с типом цен продаж по умолчанию.

+ Request Пример 1 (application/json)
Пример создания нового Прайс-листа с телом запроса, содержащим только необходимые поля.
  + Body
        <!-- include(body/pricelist/post_request_short.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Прайс-листа.
  + Body
        <!-- include(body/pricelist/post_response_short.json) -->

+ Request Пример 2 (application/json)
Пример создания нового Прайс-листа с более насыщенным телом запроса.
  + Body
        <!-- include(body/pricelist/post_request_long.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Прайс-листа.
  + Body
        <!-- include(body/pricelist/post_response_long.json) -->

+ Request Пример с доп. полями (application/json)
Пример запроса на создание Прайс-листа с доп. полями.
  + Body
        <!-- include(body/pricelist/post_with_attributes_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Прайс-листа.
  + Body
        <!-- include(body/pricelist/post_with_attributes_response.json) -->


+ Request Пример с позициями (application/json)
Пример запроса на создание Прайс-листа с позициями в теле запроса.
  + Body
        <!-- include(body/pricelist/post_with_positions_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Прайс-листа.
  + Body
        <!-- include(body/pricelist/post_with_positions_response.json) -->

#### Массовое создание и обновление Прайс-листов [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Прайс-листов.
В теле запроса нужно передать массив, содержащий JSON представления Прайс-листов, которые вы хотите создать или обновить.
Обновляемые Прайс-листы должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Прайс-листов
  + Body
        <!-- include(body/pricelist/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Прайс-листов.
  + Body
        <!-- include(body/pricelist/post_massive_response.json) -->

#### Удалить Прайс-лист [DELETE /entity/pricelist/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Прайс-листа

Запрос на удаление Прайс-листа с указанным id.

+ Response 200 (application/json)
Успешное удаление Прайс-листа.

### Метаданные Прайс-листов [/entity/pricelist/metadata]
##### Метаданные Прайс-листов [GET]

Запрос на получение метаданных Прайс-листов. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Прайс-листов
+ **attributes** - Массив объектов доп. полей Прайс-листов в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Прайс-листов
+ **createShared** - создавать новые Прайс-листы с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Прайс-листов.
  + Body
        <!-- include(body/pricelist/get_metadata.json) -->

### Отдельное доп. поле [/entity/pricelist/metadata/attributes/{id}]

+ Parameters
  + id: `666f86f9-afec-11e6-8af5-581e00000087` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/pricelist/metadata_by_id.json) -->

### Прайс-лист [/entity/pricelist/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Прайс-листа

#### Получить Прайс-лист [GET]

Запрос на получение отдельного Прайс-листа с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Прайс-листа.
  + Body
        <!-- include(body/pricelist/get_by_id.json) -->

#### Изменить Прайс-лист [PUT]

Запрос на обновление Прайс-листа с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Прайс-листа, кроме тех, что
помечены `Только для чтения` в описании [атрибутов Прайс-листа](#документ-прайс-лист-прайс-листы).

+ Request Пример (application/json)
Пример запроса на обновление отдельного Прайс-листа.
  + Body
        <!-- include(body/pricelist/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Прайс-листа.
  + Body
        <!-- include(body/pricelist/put_response.json) -->


+ Request Пример с доп. полями (application/json)
Пример запроса на изменение Прайс-листа с дополнительными полями.
  + Body
        <!-- include(body/pricelist/put_with_attributes_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Прайс-листа.
  + Body
        <!-- include(body/pricelist/put_with_attributes_response.json) -->

+ Request Пример с позициями (application/json)
Пример запроса на обновление Прайс-листа с позициями в теле запроса.
  + Body
        <!-- include(body/pricelist/put_with_positions_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Прайс-листа.
  + Body
        <!-- include(body/pricelist/put_with_positions_response.json) -->
        
### Позиции Прайс-листа [/entity/pricelist/{id}/positions]

Отдельный ресурс для управления позициями Прайс-листа. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Прайс-листа
  
#### Получить позиции Прайс-листа [GET]

Запрос на получение списка всех позиций данного Прайс-листа.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой позиции Прайс-листа.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Прайс-листа.
  + Body
        <!-- include(body/pricelist/positions_get_list.json) -->

#### Создать позицию Прайс-листа [POST]

Запрос на создание новой позиции в Прайс-листе.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortment** - Ссылка на товар/услугу/модификацию, которую представляет собой позиция.
+ **cells** - Массив ячеек цен для новой позиции. Может быть не указан, в таком случае создадутся те ячейки, у которых есть процентная наценка по умолчанию.
+ Request Пример с одной позицией (application/json)
Пример создания одной позиции в Прайс-листе.
  + Body
        <!-- include(body/pricelist/positions_post_one_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного Прайс-листа.
  + Body
        <!-- include(body/pricelist/positions_post_one_response.json) -->

+ Request Пример с несколькими позициями (application/json)
Пример создания сразу нескольких позиций в Прайс-листе.
  + Body
        <!-- include(body/pricelist/positions_post_some_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка созданных позиций отдельного Прайс-листа.
  + Body
        <!-- include(body/pricelist/positions_post_some_response.json) -->

### Позиция Прайс-листа [/entity/pricelist/{id}/positions/{positionID}]

+ Parameters
  + id: `d72b4281-b000-11e6-8af5-581e00000074` (required, string) - id Прайс-листа
  + positionID: `9560e3e3-9609-11e6-8af5-581e00000008` (required, string) - id позиции Прайс-листа

#### Получить позицию [GET]

Запрос на получение отдельной позиции Прайс-листа с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Прайс-листа.
  + Body
        <!-- include(body/pricelist/positions_get_by_id.json) -->

#### Изменить позицию [PUT]

Запрос на обновление отдельной позиции Прайс-листа. Для обновления позиции нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в Прайс-листе.
  + Body
        <!-- include(body/pricelist/positions_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции Прайс-листа.
  + Body
        <!-- include(body/pricelist/positions_put_response.json) -->

#### Удалить Позицию [DELETE]

Запрос на удаление позиции Прайс-листа с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции Прайс-листа.

<!-- include(metadata.apib) -->

## Документ Тех. карта

Средствами JSON API можно создавать и обновлять сведения о Тех. картах, запрашивать списки Тех. карт и сведения по отдельным Тех. картам. Позициями Тех. карт можно управлять как в составе отдельной Тех. карты, так и отдельно - с помощью специальных ресурсов для управления материалами и продуктами Тех. карты. Кодом сущности для Тех. карты в составе JSON API является ключевое слово **processingplan**. Больше о Тех. картах и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по
[этой ссылке](https://support.moysklad.ru/hc/ru/articles/203325613-%D0%A1%D0%B1%D0%BE%D1%80%D0%BE%D1%87%D0%BD%D1%8B%D0%B5-%D0%B8-%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5-%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8).

### Тех. карты [/entity/processingplan]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Тех. карте
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - Наименование Тех. карты `Необходимое`
+ **externalCode** - Внешний код Тех. карты
+ **pathName** - Наименование группы, в которую входит Тех. карта `Только для чтения`
+ **parent** - Ссылка на группу Тех. карты в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **cost** - Стоимость производства
+ **materials** - Список материалов Тех. карты в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **products** - Список готовых продуктов Тех. карты в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`

##### Материалы Тех. карты

Материалы Тех. карты - это список товаров, используемых для производства готовых продуктов.
Объект материала Тех. карты содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **product** - Ссылка на товар, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **quantity** - Количество товаров данного вида в позиции.

##### Продукты Тех. карты

Продукты Тех. карты - это список товаров, получаемых при производстве.
Объект продукта Тех. карты содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **product** - Ссылка на товар, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **quantity** - Количество товаров данного вида в позиции.


С материалами и продуктами можно работать с помощью [специальных ресурсов для управления позициями Тех. карты](#документ-тех.-карта-материалы-тех.-карты),
а также в составе отдельной Тех. карты. При работе в составе отдельной Тех. карты,
вы можете отправлять запросы на создание отдельной Тех. карты с включенными в тело запроса
массивами материалов и продуктов Тех. карты. Если количество материалов или продуктов превышает максимально допустимое, то для
дальнейшего пополнения материалов и продуктов нужно будет работать со специальнымы ресурсами "Материалы Тех. карты" и "Продукты Тех. карты".
Также, при работе в составе отдельной Тех. карты, можно отправлять запросы на обновление списка материалов и продуктов
с включенными в тело запроса массивами материалов и продуктов Тех. карты. При этом важно помнить, что коллекции материалов и продуктов
полностью заменят уже существующие коллекции при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.

#### Получить список Тех. карт [GET]

Запрос всех Тех. карт на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Тех. карты.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Тех. карт.
  + Body
        <!-- include(body/processingplan/get_list.json) -->

#### Создать Тех. карту[POST]

Запрос на создание новой Тех. карты.
Обязательные для создания поля:
+ **name** - Наименование Тех. карты
+ **materials** - Список материалов Тех. карты в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **products** - Список готовых продуктов Тех. карты в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

+ Request Пример 1 (application/json)
Пример создания новой Тех.карты с телом запроса, содержащим только необходимые поля.
  + Body
        <!-- include(body/processingplan/post_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Тех. карты.
  + Body
        <!-- include(body/processingplan/post_response.json) -->

#### Массовое создание и обновление Тех. карт [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Тех. карт.
В теле запроса нужно передать массив, содержащий JSON представления Тех. карт, которые вы хотите создать или обновить.
Обновляемые Тех. карты должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Тех. карт
  + Body
        <!-- include(body/processingplan/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Тех. карт.
  + Body
        <!-- include(body/processingplan/post_massive_response.json) -->

#### Удалить Тех. карту [DELETE /entity/processingplan/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Тех. карты

Запрос на удаление Тех. карты с указанным id.

+ Response 200 (application/json)
Успешное удаление Тех. карты.


### Тех. карта [/entity/processingplan/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Тех. карты

#### Получить Тех. карту [GET]

Запрос на получение отдельной Тех. карты с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Тех. карты.
  + Body
        <!-- include(body/processingplan/get_by_id.json) -->

#### Изменить Тех. карту [PUT]

Запрос на обновление Тех. карты с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Тех. карты, кроме тех, что
помечены `Только для чтения` в описании [атрибутов Тех. карты](#документ-тех.-карта-тех.-карты).

+ Request Пример (application/json)
Пример запроса на обновление отдельной Тех. карты.
  + Body
        <!-- include(body/processingplan/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной Тех. карты.
  + Body
        <!-- include(body/processingplan/put_response.json) -->

### Материалы Тех. карты [/entity/processingplan/{id}/materials]

Отдельный ресурс для управления материалами Тех. карты. С его помощью вы можете управлять материалами большого документа, количество материалов в котором превышает лимит на количество материалов, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Тех. карты
  
#### Получить материалы Тех. карты [GET]

Запрос на получение списка всех материалов данной Тех. карты.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой материалы Тех. карты.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка материалов отдельной Тех. карты.
  + Body
        <!-- include(body/processingplan/materials_get_list.json) -->

#### Создать материал Тех. карты [POST]

Запрос на создание нового материала в Тех. карте.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **product** - Ссылка на товар, которую представляет собой позиция.
+ **quantity** - Количество товаров в позиции.
+ Request Пример с одним материалом (application/json)
Пример создания одного материала в Тех. карте.
  + Body
        <!-- include(body/processingplan/materials_post_one_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного материала отдельной Тех. карты.
  + Body
        <!-- include(body/processingplan/materials_post_one_response.json) -->

+ Request Пример с несколькими позициями (application/json)
Пример создания сразу нескольких материалов в Тех. карте.
  + Body
        <!-- include(body/processingplan/materials_post_some_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка созданных материалов отдельной Тех. карты.
  + Body
        <!-- include(body/processingplan/materials_post_some_response.json) -->

### Материал Тех. карты [/entity/processingplan/{id}/materials/{positionID}]

+ Parameters
  + id: `d72b4281-b000-11e6-8af5-581e00000074` (required, string) - id Тех. карты
  + positionID: `9560e3e3-9609-11e6-8af5-581e00000008` (required, string) - id позиции Тех. карты

#### Получить материал [GET]

Запрос на получение отдельного материала Тех. карты с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного материала Тех. карты.
  + Body
        <!-- include(body/processingplan/materials_get_by_id.json) -->

#### Изменить материал [PUT]

Запрос на обновление отдельного материала Тех. карты. Для обновления материала нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
+ Request Пример (application/json)
Пример запроса на обновление отдельного материала в Тех. карте.
  + Body
        <!-- include(body/processingplan/materials_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого материала Тех. карты.
  + Body
        <!-- include(body/processingplan/materials_put_response.json) -->

#### Удалить материал [DELETE]

Запрос на удаление материала Тех. карты с указанным id.

+ Response 200 (application/json)
Успешное удаление материала Тех. карты.

### Продукты Тех. карты [/entity/processingplan/{id}/products]

Отдельный ресурс для управления продуктами Тех. карты. С его помощью вы можете управлять продуктами большого документа, количество продуктов в котором превышает лимит на количество продуктов, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Тех. карты
  
#### Получить продукты Тех. карты [GET]

Запрос на получение списка всех продуктов данной Тех. карты.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой продукты Тех. карты.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка продуктов отдельной Тех. карты.
  + Body
        <!-- include(body/processingplan/products_get_list.json) -->

#### Создать продукт Тех. карты [POST]

Запрос на создание нового продукта в Тех. карте.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **product** - Ссылка на товар, которую представляет собой позиция.
+ **quantity** - Количество товаров в позиции.
+ Request Пример с одним продуктом (application/json)
Пример создания одного продукта в Тех. карте.
  + Body
        <!-- include(body/processingplan/products_post_one_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного продукта отдельной Тех. карты.
  + Body
        <!-- include(body/processingplan/products_post_one_response.json) -->

+ Request Пример с несколькими позициями (application/json)
Пример создания сразу нескольких продуктов в Тех. карте.
  + Body
        <!-- include(body/processingplan/products_post_some_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка созданных продуктов отдельной Тех. карты.
  + Body
        <!-- include(body/processingplan/products_post_some_response.json) -->

### Продукт Тех. карты [/entity/processingplan/{id}/products/{positionID}]

+ Parameters
  + id: `d72b4281-b000-11e6-8af5-581e00000074` (required, string) - id Тех. карты
  + positionID: `9560e3e3-9609-11e6-8af5-581e00000008` (required, string) - id продукта Тех. карты

#### Получить продукт [GET]

Запрос на получение отдельного продукта Тех. карты с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного продукта Тех. карты.
  + Body
        <!-- include(body/processingplan/products_get_by_id.json) -->

#### Изменить продукт [PUT]

Запрос на обновление отдельного продукта Тех. карты. Для обновления продукта нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
+ Request Пример (application/json)
Пример запроса на обновление отдельного продукта в Тех. карте.
  + Body
        <!-- include(body/processingplan/products_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого продукта Тех. карты.
  + Body
        <!-- include(body/processingplan/products_put_response.json) -->

#### Удалить продукт [DELETE]

Запрос на удаление продукта Тех. карты с указанным id.

+ Response 200 (application/json)
Успешное удаление продукта Тех. карты.

<!-- include(metadata.apib) -->

## Документ Заказ на производство
### Заказы на производство [/entity/processingorder]

Средствами JSON API можно создавать и обновлять сведения о Заказах на производство, запрашивать списки Заказов и сведения по отдельным Заказам на производство. Позициями Заказов можно управлять как в составе отдельного Заказа на производство, так и отдельно - с помощью специальных ресурсов для управления позициями Заказа. Кодом сущности для Заказа на производство в составе JSON API является ключевое слово **processingorder**. Больше о Заказах на производство и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по [этой ссылке](https://support.moysklad.ru/hc/ru/articles/203325613-%D0%A1%D0%B1%D0%BE%D1%80%D0%BE%D1%87%D0%BD%D1%8B%D0%B5-%D0%B8-%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5-%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8).

##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Заказе на производство
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Заказа на производство
+ **description** - Комментарий Заказа на производство
+ **externalCode** - Внешний код Заказа на производство
+ **moment** - Дата Заказа
+ **applicable** - Отметка о проведении
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **organizationAccount** - Ссылка на счёт вашего юрлица в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Заказа в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **processingPlan** - Ссылка на тех. карту в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **positions** - Ссылка на позиции в Заказе в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **deliveryPlannedMoment** - Планируемая дата производства
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **quantity** - Объем производства

##### Связи с другими документами

+ **processings** - Массив ссылок на связанные тех. операции в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Позиции Заказа на производство

Позиции Заказа - это список товаров/модификаций/серий, соответствующих материалам тех. карты.
Объект позиции Заказа содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Количество товаров/модификаций/серий данного вида в позиции
+ **reserve** - Резерв данной позиции
+ **assortment** - Ссылка на товар/модификацию/серию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара

С позициями можно работать с помощью специальных ресурсов для управления позициями Заказа,
а также в составе отдельного Заказа на производство. При работе в составе отдельного Заказа на производство,
вы можете отправлять запросы на создание отдельного Заказа на производство с включенным в тело запроса
массивом позиций Заказа.
Также, при работе в составе отдельного Заказа на производство, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Заказа. Позиции с новыми товарами не могут быть добавлены в Заказ.

О работе с доп. полями Заказов на производство можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить список Заказов на производство [GET]

Запрос всех Заказов на производство на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Заказы на производство.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Заказов на производство.
  + Body
        <!-- include(body/processingorder/get_list.json) -->
        
#### Создать Заказ на производство [POST]

Запрос на создание нового Заказа на производство.
Обязательные для создания поля:
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **processingPlan** - Ссылка на тех. карту в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **positions** - Ссылка на позиции в Заказе в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

+ Request Пример (application/json)
Пример создания нового Заказа с телом запроса, содержащим только необходимые поля.
  + Body
        <!-- include(body/processingorder/post_short_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа на производство.
  + Body
        <!-- include(body/processingorder/post_short_response.json) -->

+ Request Пример 2 (application/json)
Пример создания нового Заказа с более насыщенным телом запроса.
  + Body
        <!-- include(body/processingorder/post_long_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа на производство.
  + Body
        <!-- include(body/processingorder/post_long_response.json) -->

+ Request Пример с доп. полями (application/json)
Пример запроса на создание Заказа на производство с доп. полями.
  + Body
        <!-- include(body/processingorder/post_with_attributes_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа на производство.
  + Body
        <!-- include(body/processingorder/post_with_attributes_response.json) -->

#### Массовое создание и обновление Заказов на производство [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Заказов на производство.
В теле запроса нужно передать массив, содержащий JSON представления Заказов на производство, которые вы хотите создать или обновить.
Обновляемые Заказы на производство должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Заказов на производство
  + Body
        <!-- include(body/processingorder/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Заказов на производство.
  + Body
        <!-- include(body/processingorder/post_massive_response.json) -->

#### Удалить Заказ на производство [DELETE /entity/processingorder/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Заказа на производство

Запрос на удаление Заказа на производство с указанным id.

+ Response 200 (application/json)
Успешное удаление Заказа на производство.

### Метаданные Заказов на производство [/entity/processingorder/metadata]
##### Метаданные Заказов на производство [GET]

Запрос на получение метаданных Заказов на производство. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Заказов на производство
+ **attributes** - Массив объектов доп. полей Заказов на производство в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Заказов на производство
+ **createShared** - создавать новые Заказы на производство с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Заказов на производство.
  + Body
        <!-- include(body/processingorder/get_metadata.json) -->

### Отдельное доп. поле [/entity/processingorder/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/processingorder/metadata_by_id.json) -->

### Шаблон Заказа на производство [/entity/processingorder/new]
##### Шаблон Заказа на производство на основе [PUT]

Запрос на получение предзаполненного заказа на основе другого документа.
В результате запроса будет создан предзаполненный шаблон заказа на основе переданного документа.

+ Request тех. карта (application/json)
Запрос на получение шаблона заказа на основе тех. карты.
  + Body
        <!-- include(body/processingorder/new_processingplan_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного заказа.
  + Body
        <!-- include(body/processingorder/new_processingplan_response.json) -->

### Заказ на производство [/entity/processingorder/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Заказа на производство

#### Получить Заказ на производство [GET]
Запрос на получение отдельного Заказа на производство с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Заказа на производство.
  + Body
        <!-- include(body/processingorder/get_by_id.json) -->

#### Изменить Заказ на производство [PUT]

Запрос на обновление Заказа на производство с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Заказа на производство, кроме тех, что
помечены `Только для чтения` в описании [атрибутов Заказа на производство](#документ-заказ-на-производство-заказы-на-производство).
При обновлении поля **organization** нужно также обновить поле **organizationAccount**, иначе произойдёт ошибка.

+ Request Пример (application/json)
Пример запроса на обновление отдельного Заказа на производство.
  + Body
        <!-- include(body/processingorder/put_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Заказа на производство.
  + Body
        <!-- include(body/processingorder/put_response.json) -->

+ Request Пример с доп. полями (application/json)
Пример запроса на изменение Заказа на производство с дополнительными полями.
  + Body
        <!-- include(body/processingorder/put_with_attributes_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Заказа на производство.
  + Body
        <!-- include(body/processingorder/put_with_attributes_response.json) -->

+ Request Пример с позициями (application/json)
Пример запроса на обновление Заказа на производство с позициями в теле запроса.
  + Body
        <!-- include(body/processingorder/put_with_positions_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого Заказа на производство.
  + Body
        <!-- include(body/processingorder/put_response.json) -->

##### Позиции Заказа на производство [/entity/processingorder/{id}/positions]

Отдельный ресурс для управления позициями Заказа на производство. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Заказа на производство

### Получить позиции Заказа на производство [GET]

Запрос на получение списка всех позиций данного Заказа на производство.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой позиции Заказа на производство.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Заказа на производство.
  + Body
        <!-- include(body/processingorder/positions_get_list.json) -->

### Позиция Заказа на производство [/entity/processingorder/{id}/positions/{positionID}]

Отдельная позиция Заказа с указанным id позиции.
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Заказа на производство
  + positionID: `34f6344f-015e-11e6-9464-e4de0000006c` (required, string) - id позиции Заказа на производство

#### Получить позицию Заказа на производство [GET]

Запрос на получение отдельной позиции Заказа с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Заказа на производство.
  + Body
        <!-- include(body/processingorder/position_get_by_id.json) -->

#### Изменить позицию Заказа на производство [PUT]

Запрос на обновление отдельной позиции Заказа. Для обновления позиции нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции в Заказе на производство.
  + Body
        <!-- include(body/processingorder/positions_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции Заказа на производство.
  + Body
        <!-- include(body/processingorder/positions_put_response.json) -->

#### Удалить позицию [DELETE]

Запрос на удаление позиции Заказа на производство с указанным id.

+ Response 200 (application/json)
Успешное удаление позиции Заказа на производство.

<!-- include(metadata.apib) -->

## Документ Тех. операция

Средствами JSON API можно создавать и обновлять сведения о Тех. операциях, запрашивать списки Тех. операций и сведения по отдельным Тех. операциям. Позициями Тех. операций можно управлять как в составе отдельной Тех. операции, так и отдельно - с помощью специальных ресурсов для управления материалами и продуктами Тех. операции. Кодом сущности для Тех. операции в составе JSON API является ключевое слово **processing**. Больше о Тех. операциях и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по
[этой ссылке](https://support.moysklad.ru/hc/ru/articles/203325613-%D0%A1%D0%B1%D0%BE%D1%80%D0%BE%D1%87%D0%BD%D1%8B%D0%B5-%D0%B8-%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5-%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8).

### Тех. операции [/entity/processing]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Заказе на производство
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер Тех. операции на производство
+ **description** - Комментарий Тех. операции на производство
+ **externalCode** - Внешний код Тех. операции на производство
+ **moment** - Дата Тех. операции
+ **applicable** - Отметка о проведении
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **organizationAccount** - Ссылка на счёт вашего юрлица в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус Тех. операции в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **quantity** - Объем производства `Необходимое`
+ **processingSum** - Затраты на производство `Необходимое`
+ **materials** - Список материалов Тех. операции в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **products** - Список готовых продуктов Тех. операции в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **productsStore** - Ссылка на склад для продукции в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **materialsStore** - Ссылка на склад для материалов в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **processingPlan** - Ссылка на Тех. операцию в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Связи с другими документами

+ **processingOrder** - Ссылка на заказ на производство в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Материалы Тех. операции

Материалы Тех. операции - это список товаров/модификаций/серий, используемых для производства готовых продуктов согласно тех. карте.
Объект материала Тех. операции содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **assortment** - Ссылка на товар/модификацию/серию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **quantity** - Количество товаров данного вида в позиции.

##### Продукты Тех. операции

Продукты Тех. операции - это список товаров/модификаций/серий, получаемых при производстве согласно тех. карте.
Объект продукта Тех. операции содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **assortment** - Ссылка на товар/модификацию/серию, которую представляет собой позиция, в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **quantity** - Количество товаров данного вида в позиции.

С материалами и продуктами можно работать с помощью [специальных ресурсов для управления позициями Тех. операции](#документ-тех.-операция-материалы-тех.-операции),
а также в составе отдельной Тех. операции. При работе в составе отдельной Тех. операции,
вы можете отправлять запросы на создание отдельной Тех. операции с включенными в тело запроса
массивами материалов и продуктов Тех. операции.
Также, при работе в составе отдельной Тех. операции, можно отправлять запросы на обновление списка материалов и продуктов
с включенными в тело запроса массивами материалов и продуктов Тех. операции. Состав материалов и продуктов Тех. операции не может быть изменён.
Состав материалов и продуктов должен соответствовать тех. карте.

#### Получить список Тех. операций [GET]

Запрос всех Тех. операций на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Тех. операции.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Тех. операций.
  + Body
        <!-- include(body/processing/get_list.json) -->

#### Создать Тех. операцию[POST]

Запрос на создание новой Тех. операции.
Обязательные для создания поля:
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **processingSum** - Затраты на производство
+ **quantity** - Объем производства
+ **processingPlan** - Ссылка на Тех. операцию в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **productsStore** - Ссылка на склад для продукции в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **materialsStore** - Ссылка на склад для материалов в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **materials** - Список материалов Тех. операции в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **products** - Список готовых продуктов Тех. операции в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

+ Request Пример 1 (application/json)
Пример создания новой Тех.операции с телом запроса, содержащим только необходимые поля.
  + Body
        <!-- include(body/processing/post_short_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Тех. операции.
  + Body
        <!-- include(body/processing/post_short_response.json) -->

+ Request Пример 2 (application/json)
Пример создания новой Тех.операции.
    + Body
        <!-- include(body/processing/post_long_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Тех. операции.
    + Body
        <!-- include(body/processing/post_long_response.json) -->

#### Массовое создание и обновление Тех.операций [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Тех.операций.
В теле запроса нужно передать массив, содержащий JSON представления Тех.операций, которые вы хотите создать или обновить.
Обновляемые Тех.операции должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Тех.операций
  + Body
        <!-- include(body/processing/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Тех.операций.
  + Body
        <!-- include(body/processing/post_massive_response.json) -->

#### Удалить Тех. операцию [DELETE /entity/processing/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Тех. операции

Запрос на удаление Тех. операции с указанным id.

+ Response 200 (application/json)
Успешное удаление Тех. операции.

### Метаданные Тех. операций [/entity/processing/metadata]
##### Метаданные Тех. операций [GET]

Запрос на получение метаданных Тех. операций. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные Тех. операций
+ **attributes** - Массив объектов доп. полей Тех. операций в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов Тех. операций
+ **createShared** - создавать новые Тех. операции с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Тех. операций.
  + Body
        <!-- include(body/processing/get_metadata.json) -->

### Отдельное доп. поле [/entity/processing/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля
  
##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/processing/metadata_by_id.json) -->

### Шаблон Тех. операции [/entity/processing/new]
##### Шаблон Тех. операции на основе [PUT]

Запрос на получение предзаполненной тех. операции на основе другого документа.
В результате запроса будет создан предзаполненный шаблон тех. операции на основе переданного документа.

+ Request заказ на производство (application/json)
Запрос на получение шаблона тех. операции на основе заказа на производство.
  + Body
        <!-- include(body/processing/new_processingorder_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной тех. операции.
  + Body
        <!-- include(body/processing/new_processingorder_response.json) -->

+ Request тех. карта (application/json)
Запрос на получение шаблона тех. операции на основе тех. карты.
  + Body
        <!-- include(body/processing/new_processingplan_request.json) -->
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной тех. операции.
  + Body
        <!-- include(body/processing/new_processingplan_response.json) -->

### Тех. операция [/entity/processing/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Тех. операции

#### Получить Тех. операцию [GET]

Запрос на получение отдельной Тех. операции с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Тех. операции.
  + Body
        <!-- include(body/processing/get_by_id.json) -->

#### Изменить Тех. операцию [PUT]

Запрос на обновление Тех. операции с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Тех. операции, кроме тех, что
помечены `Только для чтения` в описании [атрибутов Тех. операции](#документ-тех.-операция-тех.-операции).

+ Request Пример (application/json)
Пример запроса на обновление отдельной Тех. операции.
  + Body
        <!-- include(body/processing/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной Тех. операции.
  + Body
        <!-- include(body/processing/put_response.json) -->

##### Материалы Тех. операции [/entity/processing/{id}/materials]

Отдельный ресурс для управления материалами Тех. операции. С его помощью вы можете управлять материалами большого документа, количество материалов в котором превышает лимит на количество материалов, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Тех. операции
  
### Получить материалы Тех. операции [GET]

Запрос на получение списка всех материалов данной Тех. операции.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой материалы Тех. операции.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка материалов отдельной Тех. операции.
  + Body
        <!-- include(body/processing/materials_get_list.json) -->

### Материал Тех. операции [/entity/processing/{id}/materials/{positionID}]

+ Parameters
  + id: `d72b4281-b000-11e6-8af5-581e00000074` (required, string) - id Тех. операции
  + positionID: `9560e3e3-9609-11e6-8af5-581e00000008` (required, string) - id позиции Тех. операции

#### Получить материал [GET]

Запрос на получение отдельного материала Тех. операции с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного материала Тех. операции.
  + Body
        <!-- include(body/processing/materials_get_by_id.json) -->

#### Изменить материал [PUT]

Запрос на обновление отдельного материала Тех. операции. Для обновления материала нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
+ Request Пример (application/json)
Пример запроса на обновление отдельного материала в Тех. операции.
  + Body
        <!-- include(body/processing/materials_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого материала Тех. операции.
  + Body
        <!-- include(body/processing/materials_put_response.json) -->

##### Продукты Тех. операции [/entity/processing/{id}/products]

Отдельный ресурс для управления продуктами Тех. операции. С его помощью вы можете управлять продуктами большого документа, количество продуктов в котором превышает лимит на количество продуктов, сохраняемых вместе с документом. Этот лимит равен 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Тех. операции
  
### Получить продукты Тех. операции [GET]

Запрос на получение списка всех продуктов данной Тех. операции.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой продукты Тех. операции.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка продуктов отдельной Тех. операции.
  + Body
        <!-- include(body/processing/products_get_list.json) -->

### Продукт Тех. операции [/entity/processing/{id}/products/{positionID}]

+ Parameters
  + id: `d72b4281-b000-11e6-8af5-581e00000074` (required, string) - id Тех. операции
  + positionID: `9560e3e3-9609-11e6-8af5-581e00000008` (required, string) - id продукта Тех. операции

#### Получить продукт [GET]

Запрос на получение отдельного продукта Тех. операции с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного продукта Тех. операции.
  + Body
        <!-- include(body/processing/products_get_by_id.json) -->

#### Изменить продукт [PUT]

Запрос на обновление отдельного продукта Тех. операции. Для обновления продукта нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
+ Request Пример (application/json)
Пример запроса на обновление отдельного продукта в Тех. операции.
  + Body
        <!-- include(body/processing/products_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого продукта Тех. операции.
  + Body
        <!-- include(body/processing/products_put_response.json) -->

<!-- include(metadata.apib) -->

## Документ Внутренний заказ

Средствами JSON API можно создавать и обновлять сведения о внутренних заказах, запрашивать списки внутренних заказов и сведения по отдельным внутренним заказам. Позициями внутренних заказов можно управлять как в составе отдельного заказа, так и с помощью специальных ресурсов для управления позициями. Кодом сущности для внутреннего заказа в составе JSON API является ключевое слово **internalorder**.

### Внутренние заказы [/entity/internalorder]
##### Атрибуты сущности

+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о внутреннем заказе
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **syncId** - ID синхронизации. После заполнения недоступен для изменения.
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **deleted** - Момент последнего удаления сущности `Только для чтения`
+ **name** - номер внутреннего заказа `Необходимое`
+ **description** - Комментарий к внутреннему заказу
+ **externalCode** - Внешний код внутреннего заказа
+ **moment** - Дата внутреннего заказа
+ **applicable** - Отметка о проведении
+ **sum** - Сумма внутреннего заказа в копейках `Только для чтения`
+ **rate** - Валюта
+ **owner** - Ссылка на Владельца (Сотрудника) в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **shared** - Общий доступ
+ **group** - Отдел сотрудника в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **organization** - Ссылка на ваше юрлицо в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные) `Необходимое`
+ **store** - Ссылка на склад в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **project** - Ссылка на проект в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **state** - Статус внутреннего заказа в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **attributes** - Коллекция доп. полей в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
<br>Поля при expand'е:</br>
  - **name** - номер документа
  - **moment** - дата печати
  - **href** - ссылка на файл печатной формы
  - **fileName** - название файла печатной формы
  - **updated** - дата последнего изменения
+ **created** - Дата создания `Только для чтения`
+ **positions** - Ссылка на позиции внутреннего заказа в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **vatSum** - Сумма НДС `Только для чтения`
+ **vatEnabled** - Учитывается ли НДС
+ **vatIncluded** - Включен ли НДС в цену
+ **deliveryPlannedMoment** - Планируемая дата приёмки
+ **purchaseOrders** - Коллекция ссылок на связанные заказы поставщику в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **moves** - Коллекция ссылок на связанные перемещения в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)

##### Позиции внутреннего заказа

Позиции внутреннего заказа - это список товаров/услуг/модификаций/серий.
Объект позиции внутреннего заказа содержит следующие поля:
+ **id** - ID товара в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **quantity** - Фактическое количество товаров/услуг/модификаций/серий.
+ **price** - Цена товара/услуги в копейках
+ **vat** - НДС
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция. в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **pack** - Упаковка товара

С позициями можно работать с помощью [специальных ресурсов для управления позициями Внутреннего заказа](#документ-внутренний-заказ-позиции-внутреннего-заказа),
а также в составе отдельного внутреннего заказа. При работе в составе отдельного внутреннего заказа,
вы можете отправлять запросы на создание отдельного внутреннего заказа с включенным в тело запроса
массивом позиций внутреннего заказа. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции внутреннего заказа".
Также, при работе в составе отдельного внутреннего заказа, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций внутреннего заказа. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции внутреннего заказа" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.

<!-- include(rate.apib) -->

О работе с доп. полями внутренних заказов можно прочитать [здесь](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями)

#### Получить внутренние заказы [GET]

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка внутренних заказов.
  + Body
        <!-- include(body/internalorder/get_list.json) -->

#### Создать внутренний заказ [POST]

Запрос на создание нового внутреннего заказа.
+ Request Пример (application/json)
Пример создания нового внутреннего заказа.
  + Body
        <!-- include(body/internalorder/post_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного внутреннего заказа.
  + Body
        <!-- include(body/internalorder/post_response.json) -->

### Шаблон внутреннего заказа [/entity/internalorder/new]
#### Шаблон внутреннего заказа [PUT]

Запрос на получение шаблона внутреннего заказа.

+ Request Пример (application/json)
Пример создания нового внутреннего заказа.
  + Body

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного шаблона внутреннего заказа.
  + Body
        <!-- include(body/internalorder/new.json) -->

#### Массовое создание и обновление внутренних заказов [POST]

[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) внутренних заказов.
В теле запроса нужно передать массив, содержащий JSON представления внутренних заказов, которые вы хотите создать или обновить.
Обновляемые внутренние заказы должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких внутренних заказов
  + Body
        <!-- include(body/internalorder/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных внутренних заказов.
  + Body
        <!-- include(body/internalorder/post_massive_response.json) -->

#### Удалить внутренний заказ [DELETE /entity/internalorder/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id внутреннего заказа

Запрос на удаление внутреннего заказа с указанным id.
+ Response 200 (application/json)
Успешное удаление внутреннего заказа.

#### Метаданные внутренних заказов [/entity/internalorder/metadata]
##### Метаданные внутренних заказов [GET]

Запрос на получение метаданных внутренних заказов. Результат - объект JSON, включающий в себя:
+ **meta** - Ссылка на метаданные внутренних заказов
+ **attributes** - Массив объектов доп. полей внутренних заказов в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **states** - Массив статусов внутренних заказов
+ **createShared** - создавать новые внутренние заказы с меткой "Общий"

Структура отдельного объекта, представляющего доп. поле подробно описана в разделе [Работа с дополнительными полями](/api/remap/1.2/doc/index.html#header-работа-с-дополнительными-полями).

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление метаданных внутренних заказов.
  + Body
        <!-- include(body/internalorder/get_metadata.json) -->

#### Отдельное доп. поле [/entity/internalorder/metadata/attributes/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Доп. поля

##### Отдельное доп. поле [GET]

Запрос на получение информации по отдельному дополнительному полю.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
  + Body
        <!-- include(body/internalorder/metadata_by_id.json) -->

### Внутренний заказ [/entity/internalorder/{id}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id внутреннего заказа

#### Получить внутренний заказ [GET]

Запрос на получение отдельного внутреннего заказа с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление внутреннего заказа.
  + Body
        <!-- include(body/internalorder/get_by_id.json) -->

#### Изменить внутренний заказ [PUT]

Запрос на обновление внутреннего заказа с указанным id.
+ Request Пример (application/json)
Пример запроса на обновление отдельного внутреннего заказа.
  + Body
        <!-- include(body/internalorder/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённого внутреннего заказа.
  + Body
        <!-- include(body/internalorder/put_response.json) -->

### Позиции внутреннего заказа [/entity/internalorder/{id}/positions]

Отдельный ресурс для управления позициями внутреннего заказа. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает 100. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать [тут](/api/remap/1.2/doc/index.html#header-работа-с-позициями-документов).

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id внутреннего заказа

#### Получить позиции внутреннего заказа [GET]

Запрос на получение списка всех позиций данного внутреннего заказа.
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой позиции внутреннего заказа.
+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

  + search: `0001` (optional, string)
    URL Параметр для поиска по имени документа.
    Фильтр документов по указанной поисковой строке. Фильтрация происходит по
    полю name.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного внутреннего заказа.
  + Body
        <!-- include(body/internalorder/positions_get_list.json) -->

#### Создать позиции внутреннего заказа [POST]

Запрос на создание новой позиции во внутреннем заказе.
Для успешного создания необходимо в теле запроса указать следующие поля:
+ **assortment** - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем **service**, **consignment**, **variant** в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании [позиции внутреннего заказа](#header-позиции-внутреннего-заказа)
+ **quantity** - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций внутреннего заказа. Все созданные данным запросом позиции
будут добавлены к уже существующим.

+ Request Пример (application/json)
Пример создания позиций во внутреннем заказе.
  + Body
        <!-- include(body/internalorder/positions_post_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного внутреннего заказа.
  + Body
        <!-- include(body/internalorder/positions_post_response.json) -->

#### Удалить позицию внутреннего заказа [DELETE /entity/internalorder/{id}/positions/{positionID}]

+ Parameters
  + positionID: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id позиции внутреннего заказа

Запрос на удаление позиции внутреннего заказа с указанным id.
+ Response 200 (application/json)
Успешное удаление позиции внутреннего заказа.

### Позиция внутреннего заказа [/entity/internalorder/{id}/positions/{positionID}]

+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id внутреннего заказа
  + positionID: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id позиции внутреннего заказа

#### Получить позицию [GET]

Запрос на получение отдельной позиции внутреннего заказа с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции внутреннего заказа.
  + Body
        <!-- include(body/internalorder/positions_get_by_id.json) -->

#### Изменить позицию [PUT]

Запрос на обновление отдельной позиции внутреннего заказа.

+ Request Пример (application/json)
Пример запроса на обновление отдельной позиции во внутреннем заказе.
  + Body
        <!-- include(body/internalorder/position_put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой позиции заказа.
  + Body
        <!-- include(body/internalorder/position_put_response.json) -->
